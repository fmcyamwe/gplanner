import{F as y,a1 as _,_ as g,r as l,N as m,G as d,H as c,I as n,a5 as r,O as u,J as s,bv as k,bx as P,P as v,bs as E}from"./index.640fc71d.js";import{Q as A}from"./QSpace.7eeb8415.js";const C={name:"schedDialog",components:{adHocEvent:_(()=>g(()=>import("./adHocEvent.20bfa6f9.js"),["assets/adHocEvent.20bfa6f9.js","assets/adHocEvent.90e0e935.css","assets/index.640fc71d.js","assets/index.f80becc5.css","assets/QSelect.337bc21c.js","assets/touch.49a2039d.js","assets/goalStorage.5ea3a258.js","assets/QItem.a00704be.js","assets/QKnob.1736d879.js"])),altSelectEvent:_(()=>g(()=>import("./altSelectEvent.86269e24.js"),["assets/altSelectEvent.86269e24.js","assets/altSelectEvent.a081c040.css","assets/index.640fc71d.js","assets/index.f80becc5.css","assets/QSelect.337bc21c.js","assets/touch.49a2039d.js","assets/goalStorage.5ea3a258.js","assets/QItem.a00704be.js","assets/QKnob.1736d879.js","assets/QSpace.7eeb8415.js"]))},props:{parentGoals:Array,canBeScheduled:Array,balance:Number,selectedTime:String},data(){return{showPickDialog:l(!1),showAdHocDialog:l(!1),show:l(!0),unscheduledP:l({}),unscheduledParents:l({})}},emits:["adHocEvent","onPickEvent","euhHidin"],computed:{showDefaultOption:{get(){return this.show},set(o){this.show=o}},showPickyDialog:{get(){return this.showPickDialog},set(o){this.showPickDialog=o}},showAddyDialog:{get(){return this.showAdHocDialog},set(o){this.showAdHocDialog=o}},unscheduledGoals:{get(){return this.canBeScheduled.forEach(o=>{if(!this.unscheduledParents[o.parentGoal]){let e=this.parentGoals.find(a=>a.id==o.parentGoal);e?this.unscheduledParents[e==null?void 0:e.id]={id:e==null?void 0:e.id,title:e==null?void 0:e.title.trim(),ic:e==null?void 0:e.icon,color:e.bgcolor}:console.log("unscheduledGoals::ERROR ERROR >>parent not found!!",o.parentGoal,o)}}),this.canBeScheduled}}},methods:{onAddClicked(o,e,a,i){this.$emit("onPickEvent",o,e,a,i),this.reset()},adHocNewEvent(o,e,a,i,h){this.$emit("adHocEvent",o,e,a,i,h),this.reset()},onChooseExisting(){this.showPickyDialog=!this.showPickyDialog},onChooseAdHoc(){this.showAddyDialog=!this.showAddyDialog},gonHide(){this.$emit("euhHidin")},onCancelBtn(){let o=this.showPickyDialog;this.showAddyDialog,o?this.showPickyDialog=!this.showPickyDialog:this.showAddyDialog=!this.showAddyDialog},reset(){this.showAddyDialog=!1,this.showPickyDialog=!1}}},p={class:"q-ma-md event-select"},H={class:"q-ma-md event-select"};function B(o,e,a,i,h,t){const w=m("altSelectEvent"),D=m("ad-hoc-event");return d(),c(E,{modelValue:t.showDefaultOption,"onUpdate:modelValue":e[0]||(e[0]=f=>t.showDefaultOption=f),"transition-show":"rotate","transition-hide":"rotate","no-esc-dismiss":"",onBeforeHide:t.gonHide},{default:n(()=>[t.showPickyDialog?(d(),c(r,{key:0},{default:n(()=>[u("div",p,[s(w,{allUnscheduled:t.unscheduledGoals,unscheduledParents:h.unscheduledParents,toBalance:a.balance,at:a.selectedTime,onOnPickEvent:t.onAddClicked,onDoCancel:t.onCancelBtn},null,8,["allUnscheduled","unscheduledParents","toBalance","at","onOnPickEvent","onDoCancel"])])]),_:1})):t.showAddyDialog?(d(),c(r,{key:1},{default:n(()=>[u("div",H,[s(D,{mainGoals:a.parentGoals,toBalance:a.balance,at:a.selectedTime,onSaveEvent:t.adHocNewEvent,onDoCancel:t.onCancelBtn},null,8,["mainGoals","toBalance","at","onSaveEvent","onDoCancel"]),s(A)])]),_:1})):(d(),c(r,{key:2,class:"q-mx-auto"},{default:n(()=>[s(k,null,{default:n(()=>e[1]||(e[1]=[u("div",{class:"text-h6 choice"},"Ad hoc or Existing event",-1)])),_:1}),s(P,{align:"center"},{default:n(()=>[s(v,{push:"",label:"Ad hoc","no-wrap":"","no-caps":"",color:"primary",align:"evenly",onClick:t.onChooseAdHoc},null,8,["onClick"]),s(v,{push:"",label:"Existing","no-wrap":"","no-caps":"",color:"primary",align:"evenly",onClick:t.onChooseExisting},null,8,["onClick"])]),_:1})]),_:1}))]),_:1},8,["modelValue","onBeforeHide"])}var S=y(C,[["render",B],["__scopeId","data-v-a7361f9c"]]);export{S as default};
