import{c as C,d as _a,r as s,a as Da,w as $,o as qa,b as Fa,f as Ca,h as l,T as Ha,g as Sa,n as Xa}from"./index.aeb2e1ef.js";import{f as $a,g as vt,h as ut,j as lt,k as pa,v as Ne,l as rt,m as ha,b as Fe,n as za,a as Ga,u as Ja,p as at,R as fa,o as ma,q as ga,r as wa,s as Wa,w as xa,x as ge,t as ia,y as Ta,z as La,A as Ra,c as ca,B as Aa,C as Ea,D as Oa,E as ke,F as Ia,G as Ma,H as Je,I as Ya,J as Qa,K as ne,L as Ba,M as Va,N as ft,O as ht,P as yt,S as _t}from"./QCalendarTask.da93829c.js";function tt(e,v){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,v);return}e.scrollTop=v}function mt(e,v){if(e===window){window.scrollTo(v,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=v}function gt(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function wt(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function dt(e,v,W=0){const ye=arguments[3]===void 0?performance.now():arguments[3],L=gt(e);if(W<=0){L!==v&&tt(e,v);return}requestAnimationFrame(he=>{const ce=he-ye,R=L+(v-L)/Math.max(ce,W)*ce;tt(e,R),R!==v&&dt(e,v,W-ce,he)})}function it(e,v,W=0){const ye=arguments[3]===void 0?performance.now():arguments[3],L=wt(e);if(W<=0){L!==v&&mt(e,v);return}requestAnimationFrame(he=>{const ce=he-ye,R=L+(v-L)/Math.max(ce,W)*ce;setHorizontalScroll(e,R),R!==v&&it(e,v,W-ce,he)})}const et={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:Ne},intervalMinutes:{type:[Number,String],default:60,validator:Ne},intervalStart:{type:[Number,String],default:0,validator:Ne},intervalCount:{type:[Number,String],default:24,validator:Ne},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},ct={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Ne},resourceMinHeight:{type:[Number,String],default:70,validator:Ne},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},bt={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:Ne},dayMinHeight:{type:[Number,String],default:40,validator:Ne}},ot={modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Ne},resourceMinHeight:{type:[Number,String],default:70,validator:Ne},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:Ne},noSticky:Boolean};function Ua(e,{weekdaySkips:v,times:W,scrollArea:ye,parsedStart:L,parsedEnd:he,maxDays:ce,size:R,headerColumnRef:j}){const Y=C(()=>parseInt(e.intervalStart,10)),V=C(()=>parseInt(e.intervalMinutes,10)),ue=C(()=>parseInt(e.intervalCount,10)),N=C(()=>parseFloat(e.intervalHeight)),p=C(()=>{let i=0;return e.cellWidth?i=e.cellWidth:R.width>0&&j.value&&(i=j.value.offsetWidth/(e.columnCount>1?e.columnCount:ce.value)),i}),se=C(()=>Y.value*V.value),ee=C(()=>ue.value*N.value),D=C(()=>ue.value*p.value),O=C(()=>ze(L.value)),b=C(()=>We(he.value)),g=C(()=>$a(L.value,he.value,W.today,v.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,ce.value)),I=C(()=>g.value.map(i=>vt(i,Y.value,V.value,ue.value,W.now)));function ze(i){return ut(i,e.weekdays,W.today)}function We(i){return lt(i,e.weekdays,W.today)}function we(i,A){return i&&i.length>0&&i.includes(rt(A))}function le(i,A){const S={firstDay:!1,betweenDays:!1,lastDay:!1};if(i&&i.length===2){const z=ha(A),G=ha(Fe(i[0])),ae=ha(Fe(i[1]));S.firstDay=G===z,S.lastDay=ae===z,S.betweenDays=G<z&&ae>z}return S}function F(i,A=[],S=[]){const z=we(A,i),{firstDay:G,lastDay:ae,betweenDays:P}=le(S,i);return{"q-selected":z,"q-range-first":G===!0,"q-range":P===!0,"q-range-last":ae===!0,"q-disabled-interval disabled":i.disabled===!0}}function E(i,A=[],S=[]){return[]}const ve=C(()=>{const i={timeZone:"UTC",hour12:!e.hour24Format,hour:"2-digit",minute:"2-digit"},A={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric",minute:"2-digit"},S={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric"};return pa(e.locale,(z,G)=>G?z.minute===0?S:A:i)}),Be=C(()=>{const i={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return pa(e.locale,A=>i)});function Ee(i){const A=I.value[0][0];return!(A.hour===i.hour&&A.minute===i.minute)&&i.minute===0}function Te(i){}function Ue(i){}function aa(i,A,S=!1,z=void 0){let G=za(A);const ae=i.currentTarget.getBoundingClientRect(),P=i,fe=i,K=P.changedTouches||P.touches,Ae=((K&&K[0]?K[0].clientY:fe.clientY)-ae.top)/N.value,be=Math.floor((S?Math.floor(Ae):Ae)*V.value);return be!==0&&(G=Ga(G,{minute:be})),z&&Ja(G,z,!0),G}function je(i,A,S=!1,z=void 0){let G=za(A);const ae=i.currentTarget.getBoundingClientRect(),P=i,fe=i,K=P.changedTouches||P.touches,Ae=((K&&K[0]?K[0].clientY:fe.clientY)-ae.top)/N.value,be=Math.floor((S?Math.floor(Ae):Ae)*V.value);return be!==0&&(G=Ga(G,{minute:be})),z&&Ja(G,z,!0),G}function Xe(i,A,S=!1,z=void 0){let G=za(A);const ae=i.currentTarget.getBoundingClientRect(),P=i,fe=i,K=P.changedTouches||P.touches,Ae=((K&&K[0]?K[0].clientX:fe.clientX)-ae.left)/p.value,be=Math.floor((S?Math.floor(Ae):Ae)*V.value);return be!==0&&(G=Ga(G,{minute:be})),z&&Ja(G,z,!0),G}function Ye(i,A){const S={timestamp:i};return S.timeStartPos=Z,S.timeDurationHeight=Re,A!==void 0&&(S.columnIndex=A),S}function Le(i,A){const S={timestamp:za(i)};return S.timeStartPosX=Q,S.timeDurationWidth=_e,A!==void 0&&(S.index=A),S}function De(i,A=0){const S=Z(i);return S===!1||!ye.value?!1:(dt(ye.value,S,A),!0)}function Oe(i,A=0){const S=Q(i);return S===!1||!ye.value?!1:(it(ye.value,S,A),!0)}function Re(i){return i/V.value*N.value}function _e(i){return i/V.value*p.value}function $e(i){return parseInt(i,10)*V.value/N.value}function oe(i){return parseInt(i,10)*V.value/p.value}function Z(i,A=!0){const S=at(i);if(S===!1)return!1;const z=se.value,G=ue.value*V.value;let P=(S-z)/G*ee.value;return A&&(P<0&&(P=0),P>ee.value&&(P=ee.value)),P}function Q(i,A=!0){const S=at(i);if(S===!1)return!1;const z=se.value,G=ue.value*V.value;let P=(S-z)/G*D.value;return A&&(P<0&&(P=0),P>D.value&&(P=D.value)),P}return{parsedIntervalStart:Y,parsedIntervalMinutes:V,parsedIntervalCount:ue,parsedIntervalHeight:N,parsedCellWidth:p,parsedStartMinute:se,bodyHeight:ee,bodyWidth:D,parsedWeekStart:O,parsedWeekEnd:b,days:g,intervals:I,intervalFormatter:ve,ariaDateTimeFormatter:Be,arrayHasDateTime:we,checkIntervals:le,getIntervalClasses:F,getResourceClasses:E,showIntervalLabelDefault:Ee,showResourceLabelDefault:Te,styleDefault:Ue,getTimestampAtEventInterval:aa,getTimestampAtEvent:je,getTimestampAtEventX:Xe,getScopeForSlot:Ye,getScopeForSlotX:Le,scrollToTime:De,scrollToTimeX:Oe,timeDurationHeight:Re,timeDurationWidth:_e,heightToMinutes:$e,widthToMinutes:oe,timeStartPos:Z,timeStartPosX:Q}}const Za={columnCount:{type:[Number,String],default:0,validator:Ne},columnIndexStart:{type:[Number,String],default:0,validator:Ne}},Pa={maxDays:{type:Number,default:1}},Ka={cellWidth:[Number,String]};function ja(e){return{isSticky:C(()=>e.cellWidth!==void 0)}}var kt=_a({name:"QCalendarAgenda",directives:[fa],props:{...ma,...bt,...Za,...Pa,...ga,...Ka,...wa},emits:["update:model-value",...Wa,...xa,...ge("-date"),...ge("-head-day"),...ge("-time")],setup(e,{slots:v,emit:W,expose:ye}){const L=s(null),he=s(null),ce=s(null),R=s(null),j=s(null),Y=s({}),V=s({}),ue=s({}),N=s("next"),p=s(ia()),se=s("0000-00-00"),ee=s(0),D=s(e.modelValue),O=Da({width:0,height:0}),b=s(!1),g=s(null),I=s(null);$(()=>e.view,()=>{ee.value=0});const ze=C(()=>e.view==="month"?"month-interval":e.view),We=Sa();if(We===null)throw new Error("current instance is null");const{emitListeners:we}=Ta(We),{isSticky:le}=ja(e);$(le,n=>{});const{times:F,setCurrent:E,updateCurrent:ve}=La(e);ve(),E();const{weekdaySkips:Be,parsedStart:Ee,parsedEnd:Te,dayFormatter:Ue,weekdayFormatter:aa,ariaDateFormatter:je,dayStyleDefault:Xe,getRelativeClasses:Ye}=Ra(e,{startDate:p,endDate:se,times:F}),Le=C(()=>ca(e.modelValue,F.now)||Ee.value||F.today);j.value=Le.value,R.value=Le.value.date;const{renderValues:De}=Aa(e,{parsedView:ze,parsedValue:Le,times:F}),{rootRef:Oe,scrollWidth:Re,__initCalendar:_e,__renderCalendar:$e}=Ea(e,xe,{scrollArea:L,pane:he}),{days:oe,parsedCellWidth:Z,getScopeForSlot:Q}=Ua(e,{weekdaySkips:Be,times:F,scrollArea:L,parsedStart:Ee,parsedEnd:Te,maxDays:ee,size:O,headerColumnRef:ce}),{move:i}=Ia(e,{parsedView:ze,parsedValue:Le,weekdaySkips:Be,direction:N,maxDays:ee,times:F,emittedValue:D,emit:W}),{getDefaultMouseEventHandlers:A}=Ba(W,we),{checkChange:S}=Ma(W,{days:oe,lastStart:g,lastEnd:I}),{isKeyCode:z}=Va(),{tryFocus:G}=Oa(e,{rootRef:Oe,focusRef:R,focusValue:j,datesRef:Y,days:oe,parsedView:ze,parsedValue:Le,emittedValue:D,weekdaySkips:Be,direction:N,times:F}),ae=C(()=>oe.value.length+(P.value===!0?e.leftColumnOptions.length:0)+(fe.value===!0?e.rightColumnOptions.length:0)+oe.value.length===1&&parseInt(e.columnCount,10)>0?parseInt(e.columnCount,10):0),P=C(()=>e.leftColumnOptions!==void 0&&Array.isArray(e.leftColumnOptions)),fe=C(()=>e.rightColumnOptions!==void 0&&Array.isArray(e.rightColumnOptions)),K=C(()=>{if(Oe.value){const n=O.width||Oe.value.getBoundingClientRect().width;if(n&&ae.value)return(n-Re.value)/ae.value+"px"}return 100/ae.value+"%"});$([oe],S,{deep:!0,immediate:!0}),$(()=>e.modelValue,(n,c)=>{if(D.value!==n){if(e.animated===!0){const t=ke(Fe(n)),d=ke(Fe(c));N.value=t>=d?"next":"prev"}D.value=n}R.value=n}),$(D,(n,c)=>{if(D.value!==e.modelValue){if(e.animated===!0){const t=ke(Fe(n)),d=ke(Fe(c));N.value=t>=d?"next":"prev"}W("update:model-value",n)}}),$(R,n=>{n&&(j.value=ca(n))}),$(j,n=>{Y.value[R.value]?Y.value[R.value].focus():G()}),$(()=>e.maxDays,n=>{ee.value=n}),qa(()=>{Y.value={}}),Fa(()=>{_e()});function Ve(){D.value=ia()}function Ae(n=1){i(n)}function be(n=1){i(-n)}function Ge({width:n,height:c}){O.width=n,O.height=c}function Ie(n){return n.date===D.value}function qe(n,c){const t=v["head-column"],d={column:n,index:c,days:oe.value},f=le.value===!0?e.cellWidth:K.value,r=e.focusable===!0&&e.focusType.includes("weekday"),y=e.columnOptionsId!==void 0?n[e.columnOptionsId]:void 0,T={maxWidth:f,width:f};return l("div",{key:y,tabindex:r===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":r===!0},style:T,onDragenter:a=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(a,"head-column",d)===!0?b.value=y:b.value="")},onDragover:a=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(a,"head-column",d)===!0?b.value=y:b.value="")},onDragleave:a=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(a,"head-column",d)===!0?b.value=y:b.value="")},onDrop:a=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(a,"head-column",d)===!0?b.value=y:b.value="")},...A("-head-column",(a,o)=>({scope:{column:n,index:c},event:a}))},[e.noDefaultHeaderText!==!0&&oa(n),t&&t(d),Je()])}function oa(n){const c=v["head-column-label"],t={column:n},d=e.columnOptionsLabel!==void 0?n[e.columnOptionsLabel]:n.label,f=l("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[c&&c({scope:t}),!c&&l("span",{class:"ellipsis"},d)]);return e.dateHeader==="stacked"?f:l("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[f])}function Pe(){return l("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":le.value===!0},style:{marginRight:Re.value+"px"}},[la()])}function la(){return l("div",{ref:ce,class:{"q-calendar-agenda__head--days__column":!0}},[ta(),pe()])}function ta(){return l("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...na()])}function pe(){const n=v["head-days-events"];return Xa(()=>{if(ue.value&&e.columnCount===0&&window)try{const c=window.getComputedStyle(ue.value);V.value.parentElement.style.height=c.height,V.value.style.height=c.height}catch{}}),l("div",{class:{"q-calendar-agenda__head--days__event":!0}},[n&&l("div",{ref:V,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[n({scope:{days:oe.value,ref:ue}})]),...ra()])}function na(){return oe.value.length===1&&parseInt(e.columnCount,10)>0?[P.value===!0&&e.leftColumnOptions.map((n,c)=>qe(n,c)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,c)=>c+parseInt(e.columnIndexStart,10)).map(n=>da(oe.value[0],n)),fe.value===!0&&e.rightColumnOptions.map((n,c)=>qe(n,c))]:[P.value===!0&&e.leftColumnOptions.map((n,c)=>qe(n,c)),oe.value.map(n=>da(n)),fe.value===!0&&e.rightColumnOptions.map((n,c)=>qe(n,c))]}function ra(){return oe.value.length===1&&parseInt(e.columnCount,10)>0?[Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,c)=>c+parseInt(e.columnIndexStart,10)).map(n=>ea(oe.value[0],n))]:oe.value.map(n=>ea(n))}function da(n,c){const t=v["head-day"],d=v["head-date"],f=e.noActiveDate!==!0&&Ie(n),r=Q(n,c);r.activeDate=f,r.droppable=b.value===n.date,r.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1;const y=le.value===!0?e.cellWidth:K.value,T=e.weekdayStyle||Xe,a={width:y,maxWidth:y,...T({scope:r})};le.value===!0&&(a.minWidth=y);const o=typeof e.weekdayClass=="function"?e.weekdayClass({scope:r}):{},_=e.focusable===!0&&e.focusType.includes("weekday"),w={key:n.date+(c!==void 0?"-"+c:""),ref:H=>{Y.value[n.date]=H},tabindex:_===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,...o,...Ye(n),"q-active-date":f,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":_===!0},style:a,onDragenter:H=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(H,"head-day",r)===!0?b.value=n.date:b.value="")},onDragover:H=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(H,"head-day",r)===!0?b.value=n.date:b.value="")},onDragleave:H=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(H,"head-day",r)===!0?b.value=n.date:b.value="")},onDrop:H=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(H,"head-day",r)===!0?b.value=n.date:b.value="")},onFocus:H=>{_===!0&&(R.value=n.date)},...A("-head-day",H=>({scope:r,event:H}))};return l("div",w,[t!==void 0&&t({scope:r}),t===void 0&&sa(n),t===void 0&&d&&d({scope:r}),Je()])}function sa(n){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ke(n),e.noDefaultHeaderBtn!==!0&&Ce(n)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ke(n),e.noDefaultHeaderBtn!==!0&&Ce(n)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ke(n),e.noDefaultHeaderBtn!==!0&&Ce(n)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ke(n),e.noDefaultHeaderBtn!==!0&&Ce(n)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ce(n),e.noDefaultHeaderText!==!0&&Ke(n)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ce(n),e.noDefaultHeaderText!==!0&&Ke(n)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ce(n),e.noDefaultHeaderText!==!0&&Ke(n)])}function ea(n,c){const t=v["head-day-event"],d=e.noActiveDate!==!0&&Ie(n),f=Q(n,c);f.activeDate=d,f.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1;const r=le.value===!0?e.cellWidth:K.value,y={width:r,maxWidth:r};return le.value===!0&&(y.minWidth=r),l("div",{key:"event-"+n.date+(c!==void 0?"-"+c:""),class:{"q-calendar-agenda__head--day__event":!0,...Ye(n),"q-active-date":d},style:y},[t&&t({scope:f})])}function Ke(n){const c=v["head-weekday-label"],t=Q(n);t.shortWeekdayLabel=e.shortWeekdayLabel;const d={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return l("div",d,c&&c({scope:t})||ua(n,e.shortWeekdayLabel))}function ua(n,c){const t=aa.value(n,c||e.weekdayBreakpoints[0]>0&&Z.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&Z.value<=e.weekdayBreakpoints[1]?Ya(t,e.minWeekdayLabel):t)}function Ce(n){const c={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return l("div",c,va(n))}function va(n){const c=e.noActiveDate!==!0&&Ie(n),t=Ue.value(n,!1),d=v["head-day-label"],f=v["head-day-button"],r={dayLabel:t,timestamp:n,activeDate:c,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1},y={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":n.current===!0,"q-calendar__focusable":!0},disabled:n.disabled,onKeydown:T=>{n.disabled!==!0&&z(T,[13,32])&&(T.stopPropagation(),T.preventDefault())},onKeyup:T=>{n.disabled!==!0&&z(T,[13,32])&&(D.value=n.date,we.value.onClickDate!==void 0&&W("click-date",{scope:r}))},...A("-date",(T,a)=>((a==="click-date"||a==="contextmenu-date")&&(D.value=n.date,a==="click-date"&&T.preventDefault()),{scope:r,event:T}))};return e.noAria!==!0&&(y.ariaLabel=je.value(n)),f?f({scope:r}):Qa(e,y,d?d({scope:r}):t)}function Qe(){return l("div",{class:"q-calendar-agenda__body"},[h()])}function h(){return le.value===!0?l("div",{ref:L,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[U()]):e.noScroll===!0?X():l("div",{ref:L,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[X()])}function X(){return l("div",{ref:he,class:"q-calendar-agenda__pane"},[U()])}function U(){const n=v["day-container"];return l("div",{class:"q-calendar-agenda__day-container"},[le.value===!0&&e.noHeader!==!0&&Pe(),l("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...J()]),n&&n({scope:{days:oe.value}})])}function J(){return oe.value.length===1&&parseInt(e.columnCount,10)>0?[P.value===!0&&e.leftColumnOptions.map((n,c)=>de(n,c)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,c)=>c+parseInt(e.columnIndexStart,10)).map(n=>re(oe.value[0],0,n)),fe.value===!0&&e.rightColumnOptions.map((n,c)=>de(n,c))]:[P.value===!0&&e.leftColumnOptions.map((n,c)=>de(n,c)),oe.value.map((n,c)=>re(n)),fe.value===!0&&e.rightColumnOptions.map((n,c)=>de(n,c))]}function de(n,c){const t=v.column,d={column:n,days:oe.value,index:c},f=le.value===!0?e.cellWidth:K.value,r=e.focusable===!0&&e.focusType.includes("day"),y=e.columnOptionsId!==void 0?n[e.columnOptionsId]:void 0;return l("div",{key:y,tabindex:r===!0?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":r===!0},style:{maxWidth:f,width:f},onDragenter:T=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(T,"column",d)===!0?b.value=y:b.value="")},onDragover:T=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(T,"column",d)===!0?b.value=y:b.value="")},onDragleave:T=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(T,"column",d)===!0?b.value=y:b.value="")},onDrop:T=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(T,"column",d)===!0?b.value=y:b.value="")},...A("-column",(T,a)=>({scope:d,event:T}))},[t&&t({scope:d})])}function re(n,c,t){const d=v.day,f=Q(n,t),r=le.value===!0?e.cellWidth:K.value,y={width:r,maxWidth:r};return le.value===!0&&(y.minWidth=r),y.height=parseInt(e.dayHeight,10)>0?ne(parseInt(e.dayHeight,10)):"auto",parseInt(e.dayMinHeight,10)>0&&(y.minHeight=ne(parseInt(e.dayMinHeight,10))),l("div",{key:n.date+(t!==void 0?":"+t:""),class:{"q-calendar-agenda__day":!0,...Ye(n)},style:y},[d&&d({scope:f})])}function xe(){const{start:n,end:c,maxDays:t}=De.value;(p.value!==n.date||se.value!==c.date||ee.value!==t)&&(p.value=n.date,se.value=c.date,ee.value=t);const d=O.width>0,f=Ca(l("div",{class:"q-calendar-agenda",key:p.value},[d===!0&&le.value!==!0&&e.noHeader!==!0&&Pe(),d===!0&&Qe()]),[[fa,Ge]]);if(e.animated===!0){const r="q-calendar--"+(N.value==="prev"?e.transitionPrev:e.transitionNext);return l(Ha,{name:r,appear:!0},()=>f)}return f}return ye({prev:be,next:Ae,move:i,moveToToday:Ve,updateCurrent:ve}),()=>$e()}}),nt=_a({name:"QCalendarDay",directives:[fa],props:{...ma,...et,...Za,...Pa,...ga,...Ka,...wa},emits:["update:model-value",...Wa,...xa,...ge("-date"),...ge("-interval"),...ge("-head-intervals"),...ge("-head-day"),...ge("-time")],setup(e,{slots:v,emit:W,expose:ye}){const L=s(null),he=s(null),ce=s(null),R=s(null),j=s(null),Y=s({}),V=s({}),ue=s({}),N=s("next"),p=s(e.modelValue||ia()),se=s("0000-00-00"),ee=s(0),D=s(e.modelValue),O=Da({width:0,height:0}),b=s(!1),g=s(!1),I=s(null),ze=s(null);$(()=>e.view,()=>{ee.value=0});const We=C(()=>e.view==="month"?"month-interval":e.view),we=Sa();if(we===null)throw new Error("current instance is null");const{emitListeners:le}=Ta(we),{isSticky:F}=ja(e),{times:E,setCurrent:ve,updateCurrent:Be}=La(e);Be(),ve();const{weekdaySkips:Ee,parsedStart:Te,parsedEnd:Ue,dayFormatter:aa,weekdayFormatter:je,ariaDateFormatter:Xe,dayStyleDefault:Ye,getRelativeClasses:Le}=Ra(e,{startDate:p,endDate:se,times:E}),De=C(()=>ca(e.modelValue,E.now)||Te.value||E.today);j.value=De.value,R.value=De.value.date;const{renderValues:Oe}=Aa(e,{parsedView:We,parsedValue:De,times:E}),{rootRef:Re,scrollWidth:_e,__initCalendar:$e,__renderCalendar:oe}=Ea(e,Ze,{scrollArea:L,pane:he}),{days:Z,intervals:Q,intervalFormatter:i,ariaDateTimeFormatter:A,parsedCellWidth:S,getIntervalClasses:z,showIntervalLabelDefault:G,styleDefault:ae,getTimestampAtEventInterval:P,getTimestampAtEvent:fe,getScopeForSlot:K,scrollToTime:Ve,heightToMinutes:Ae,timeDurationHeight:be,timeStartPos:Ge}=Ua(e,{weekdaySkips:Ee,times:E,scrollArea:L,parsedStart:Te,parsedEnd:Ue,maxDays:ee,size:O,headerColumnRef:ce}),{move:Ie}=Ia(e,{parsedView:We,parsedValue:De,weekdaySkips:Ee,direction:N,maxDays:ee,times:E,emittedValue:D,emit:W}),{getDefaultMouseEventHandlers:qe}=Ba(W,le),{checkChange:oa}=Ma(W,{days:Z,lastStart:I,lastEnd:ze}),{isKeyCode:Pe}=Va(),{tryFocus:la}=Oa(e,{rootRef:Re,focusRef:R,focusValue:j,datesRef:Y,days:Z,parsedView:We,parsedValue:De,emittedValue:D,weekdaySkips:Ee,direction:N,times:E}),ta=C(()=>We.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):We.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:Z.value.length),pe=C(()=>Re.value?parseInt(getComputedStyle(Re.value).getPropertyValue("--calendar-intervals-width"),10):0),na=C(()=>{if(Re.value){const u=O.width||Re.value.getBoundingClientRect().width;if(u&&pe.value&&ta.value)return(u-_e.value-pe.value)/ta.value+"px"}return 100/ta.value+"%"});$([Z],oa,{deep:!0,immediate:!0}),$(()=>e.modelValue,(u,m)=>{if(D.value!==e.modelValue){if(e.animated===!0){const q=ke(Fe(u)),x=ke(Fe(m));N.value=q>=x?"next":"prev"}D.value=u}R.value=u}),$(D,(u,m)=>{if(D.value!==e.modelValue){if(e.animated===!0){const q=ke(Fe(u)),x=ke(Fe(m));N.value=q>=x?"next":"prev"}W("update:model-value",u)}}),$(R,u=>{u&&(j.value=ca(u))}),$(j,u=>{Y.value[R.value]?Y.value[R.value].focus():la()}),$(()=>e.maxDays,u=>{ee.value=u}),qa(()=>{Y.value={},V.value={},ue.value={}}),Fa(()=>{$e()});function ra(){D.value=ia()}function da(u=1){Ie(u)}function sa(u=1){Ie(-u)}function ea({width:u,height:m}){O.width=u,O.height=m}function Ke(u){return u.date===D.value}function ua(){return l("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":F.value===!0},style:{marginRight:_e.value+"px"}},[Ce(),va()])}function Ce(){const u=v["head-intervals"],m={timestamps:Z.value,days:Z.value,date:e.modelValue};return l("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":F.value===!0},...qe("-head-intervals",q=>({scope:m,event:q}))},[u&&u({scope:m})])}function va(){return l("div",{ref:ce,class:{"q-calendar-day__head--days__column":!0}},[Qe(),h()])}function Qe(){return l("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...X()])}function h(){const u=v["head-days-events"];return Xa(()=>{if(ue.value&&parseInt(e.columnCount,10)===0&&window)try{const m=window.getComputedStyle(ue.value);V.value.parentElement.style.height=m.height,V.value.style.height=m.height}catch{}}),l("div",{class:{"q-calendar-day__head--days__event":!0}},[u&&l("div",{ref:V,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[u({scope:{days:Z.value,ref:ue}})]),...U()])}function X(){return Z.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,m)=>m+parseInt(e.columnIndexStart,10)).map(u=>J(Z.value[0],u)):Z.value.map(u=>J(u))}function U(){return Z.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,m)=>m+parseInt(e.columnIndexStart,10)).map(u=>re(Z.value[0],u)):Z.value.map(u=>re(u))}function J(u,m){const q=v["head-day"],x=v["head-date"],M=e.noActiveDate!==!0&&Ke(u),B=K(u,m);B.activeDate=M,B.droppable=b.value===u.date,B.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const He=F.value===!0?e.cellWidth:na.value,ie=e.weekdayStyle||Ye,ya={width:He,maxWidth:He,minWidth:He,...ie({scope:B})};F.value===!0&&(ya.minWidth=He);const Na=typeof e.weekdayClass=="function"?e.weekdayClass({scope:B}):{},ba=e.focusable===!0&&e.focusType.includes("weekday"),Se=u.date+(m!==void 0?"-"+m:""),ka={key:Se,ref:Me=>{Y.value[Se]=Me},tabindex:ba===!0?0:-1,class:{"q-calendar-day__head--day":!0,...Na,...Le(u),"q-active-date":M,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ba===!0},style:ya,onFocus:Me=>{ba===!0&&(R.value=Se)},onKeydown:Me=>{u.disabled!==!0&&Pe(Me,[13,32])&&(Me.stopPropagation(),Me.preventDefault())},onKeyup:Me=>{u.disabled!==!0&&Pe(Me,[13,32])&&(D.value=u.date)},...qe("-head-day",Me=>({scope:B,event:Me})),onDragenter:Me=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Me,"head-day",B)===!0?b.value=u.date:b.value="")},onDragover:Me=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Me,"head-day",B)===!0?b.value=u.date:b.value="")},onDragleave:Me=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Me,"head-day",B)===!0?b.value=u.date:b.value="")},onDrop:Me=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Me,"head-day",B)===!0?b.value=u.date:b.value="")}};return l("div",ka,[q!==void 0&&q({scope:B}),q===void 0&&d(u,m),q===void 0&&de(u),q===void 0&&x&&x({scope:B}),q===void 0&&f(u,m),Je()])}function de(u){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&xe(u),e.noDefaultHeaderBtn!==!0&&c(u)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&xe(u),e.noDefaultHeaderBtn!==!0&&c(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&xe(u),e.noDefaultHeaderBtn!==!0&&c(u)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&xe(u),e.noDefaultHeaderBtn!==!0&&c(u)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&c(u),e.noDefaultHeaderText!==!0&&xe(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&c(u),e.noDefaultHeaderText!==!0&&xe(u)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&c(u),e.noDefaultHeaderText!==!0&&xe(u)])}function re(u,m){const q=v["head-day-event"],x=e.noActiveDate!==!0&&Ke(u),M=K(u,m);M.activeDate=x,M.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const B=F.value===!0?ne(S.value):na.value,He={width:B,maxWidth:B,minWidth:B};return F.value===!0&&(He.minWidth=B),l("div",{key:"event-"+u.date+(m!==void 0?"-"+m:""),class:{"q-calendar-day__head--day__event":!0,...Le(u),"q-active-date":x},style:He},[q&&q({scope:M})])}function xe(u){const m=v["head-weekday-label"],q=e.shortWeekdayLabel===!0,x=K(u);x.shortWeekdayLabel=e.shortWeekdayLabel,x.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const M={class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return l("div",M,m&&m({scope:x})||n(u,q))}function n(u,m){const q=je.value(u,m||e.weekdayBreakpoints[0]>0&&S.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&S.value<=e.weekdayBreakpoints[1]?Ya(q,e.minWeekdayLabel):q)}function c(u){const m={class:{"q-calendar-day__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return l("div",m,t(u))}function t(u){const m=e.noActiveDate!==!0&&Ke(u),q=aa.value(u,!1),x=v["head-day-label"],M=v["head-day-button"],B={dayLabel:q,timestamp:u,activeDate:m,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1},He={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":u.current===!0,"q-calendar__focusable":!0},disabled:u.disabled,onKeydown:ie=>{u.disabled!==!0&&Pe(ie,[13,32])&&(ie.stopPropagation(),ie.preventDefault())},onKeyup:ie=>{u.disabled!==!0&&Pe(ie,[13,32])&&(D.value=u.date,le.value.onClickDate!==void 0&&W("click-date",{scope:B}))},...qe("-date",(ie,ya)=>((ya==="click-date"||ya==="contextmenu-date")&&(D.value=u.date,ya==="click-date"&&ie.preventDefault()),{scope:B,event:ie}))};return e.noAria!==!0&&(He.ariaLabel=Xe.value(u)),M?M({scope:B}):Qa(e,He,x?x({scope:B}):q)}function d(u,m){const q=v["column-header-before"];if(q)return l("div",{class:"q-calendar-day__column-header--before"},[q({scope:{timestamp:u,columnIndex:m}})])}function f(u,m){const q=v["column-header-after"];if(q)return l("div",{class:"q-calendar-day__column-header--after"},[q({scope:{timestamp:u,columnIndex:m}})])}function r(){return l("div",{class:"q-calendar-day__body"},[y()])}function y(){return F.value===!0?l("div",{ref:L,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[F.value!==!0&&k(),a()]):e.noScroll===!0?T():l("div",{ref:L,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[T()])}function T(){return l("div",{ref:he,class:"q-calendar-day__pane"},[k(),a()])}function a(){const u=v["day-container"];return l("div",{class:"q-calendar-day__day-container"},[F.value===!0&&e.noHeader!==!0&&ua(),l("div",{style:{display:"flex",flexDirection:"row"}},[F.value===!0&&k(),...o()]),u&&u({scope:{days:Z.value}})])}function o(){return Z.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,m)=>m+parseInt(e.columnIndexStart,10)).map(u=>_(Z.value[0],0,u)):Z.value.map((u,m)=>_(u,m))}function _(u,m,q){const x=v["day-body"],M=K(u,q),B=F.value===!0?e.cellWidth:na.value,He={width:B,maxWidth:B,minWidth:B};return F.value===!0&&(He.minWidth=B),l("div",{key:u.date+(q!==void 0?":"+q:""),class:{"q-calendar-day__day":!0,...Le(u)},style:He},[...w(m,q),x&&x({scope:M})])}function w(u,m){return Q.value[u].map(q=>H(q,m))}function H(u,m){const q=ne(e.intervalHeight),x=e.intervalStyle||ae,M=v["day-interval"],B=K(u,m);B.droppable=g.value===ha(u);const He=typeof e.intervalClass=="function"?e.intervalClass({scope:B}):{},ie=e.focusable===!0&&e.focusType.includes("interval"),Na={key:rt(u),tabindex:ie===!0?0:-1,class:{"q-calendar-day__day-interval":u.minute===0,"q-calendar-day__day-interval--section":u.minute!==0,...He,...z(u,e.selectedDates,e.selectedStartEndDates),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ie===!0},style:{height:q,...x({scope:B})},onDragenter:Se=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Se,"interval",B)===!0?g.value=ha(u):g.value="")},onDragover:Se=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Se,"interval",B)===!0?g.value=ha(u):g.value="")},onDragleave:Se=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Se,"interval",B)===!0?g.value=ha(u):g.value="")},onDrop:Se=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Se,"interval",B)===!0?g.value=ha(u):g.value="")},onKeydown:Se=>{Pe(Se,[13,32])&&(Se.stopPropagation(),Se.preventDefault())},onKeyup:Se=>{if(Pe(Se,[13,32])){const ka=K(u,m);D.value=ka.timestamp.date,le.value.onClickTime!==void 0&&W("click-time",{scope:ka,event:Se})}},...qe("-time",Se=>({scope:K(P(Se,u,e.timeClicksClamped,E.now),m),event:Se}))};e.noAria!==!0&&(Na.ariaLabel=A.value(u));const ba=M?M({scope:B}):void 0;return l("div",Na,[ba,Je()])}function k(){const u={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":F.value===!0},...qe("-interval",m=>({scope:{timestamp:fe(m,Te.value,e.timeClicksClamped,E.now)},event:m}))};return l("div",u,me())}function me(){return Q.value[0].map(u=>te(u))}function te(u){const m=v["interval-label"],q=ne(e.intervalHeight),x=e.shortIntervalLabel,He=(e.showIntervalLabel||G)(u)?i.value(u,x):void 0;return l("div",{key:u.time,class:{"q-calendar-day__interval":u.minute===0,"q-calendar-day__interval--section":u.minute!==0},style:{height:q}},[l("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[m?m({scope:{timestamp:u,label:He}}):He])])}function Ze(){const{start:u,end:m,maxDays:q}=Oe.value;(p.value!==u.date||se.value!==m.date||ee.value!==q)&&(p.value=u.date,se.value=m.date,ee.value=q);const x=O.width>0,M=Ca(l("div",{key:p.value,class:"q-calendar-day"},[x===!0&&F.value!==!0&&e.noHeader!==!0&&ua(),x&&r()]),[[fa,ea]]);if(e.animated===!0){const B="q-calendar--"+(N.value==="prev"?e.transitionPrev:e.transitionNext);return l(Ha,{name:B,appear:!0},()=>M)}return M}return ye({prev:sa,next:da,move:Ie,moveToToday:ra,updateCurrent:Be,timeStartPos:Ge,timeDurationHeight:be,heightToMinutes:Ae,scrollToTime:Ve}),()=>oe()}});const st={dayHeight:{type:[Number,String],default:0,validator:Ne},dayMinHeight:{type:[Number,String],default:0,validator:Ne},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayPadding:String,minWeeks:{type:[Number,String],validator:Ne,default:1},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||Ne(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function Dt(e,v,{weekdaySkips:W,times:ye,parsedStart:L,parsedEnd:he,size:ce,headerColumnRef:R}){const j=C(()=>parseInt(e.minWeeks,10)),Y=C(()=>j.value*e.weekdays.length),V=C(()=>I(We(L.value))),ue=C(()=>ze(we(he.value))),N=C(()=>{let F=0;return e.cellWidth?F=e.cellWidth:ce.width>0&&R.value&&(F=R.value.offsetWidth/e.weekdays.length),F}),p=C(()=>$a(V.value,ue.value,ye.today,W.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER,Y.value)),se=C(()=>{const F=ye.today,E=I(F),ve=ze(F);return $a(E,ve,F,W,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,e.weekdays.length,e.weekdays.length)}),ee=C(()=>{const F={timeZone:"UTC",month:"long"},E={timeZone:"UTC",month:"short"};return pa(e.locale,(ve,Be)=>Be?E:F)}),D=C(()=>{switch(e.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(e.breakpoint,10)}}),O=C(()=>{switch(e.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return e.monthLabelSize}});let b=!0;const g=C(()=>{const F=e.miniMode===!0||e.miniMode==="auto"&&e.breakpoint!==void 0&&ce.width<D.value;return b===!0&&(b=!1,v("mini-mode",F)),F});$(g,F=>{v("mini-mode",F)});function I(F){return ut(F,e.weekdays,ye.today)}function ze(F){return lt(F,e.weekdays,ye.today)}function We(F){return ft(F)}function we(F){return ht(F)}function le(F){const E=ke(F);return E<ke(L.value)||E>ke(he.value)}return{parsedCellWidth:N,parsedMinWeeks:j,parsedMinDays:Y,parsedMonthStart:V,parsedMonthEnd:ue,parsedBreakpoint:D,parsedMonthLabelSize:O,days:p,todayWeek:se,isMiniMode:g,monthFormatter:ee,isOutside:le}}var qt=_a({name:"QCalendarMonth",directives:[fa],props:{...ma,...st,...ga,...Ka,...wa},emits:["update:model-value",...Wa,...xa,"mini-mode",...ge("-date"),...ge("-day"),...ge("-head-workweek"),...ge("-head-day"),...ge("-workweek")],setup(e,{slots:v,emit:W,expose:ye}){const L=s(null),he=s(null),ce=s(null),R=s(null),j=s(null),Y=s({}),V=s([]),ue=s([]),N=s("next"),p=s(e.modelValue||ia()),se=s("0000-00-00"),ee=s(0),D=s(e.modelValue),O=Da({width:0,height:0}),b=s(!1),g=s(!1),I=s(null),ze=s(null),We=C(()=>"month"),we=Sa();if(we===null)throw new Error("current instance is null");const{emitListeners:le}=Ta(we),{isSticky:F}=ja(e);$(F,t=>{});const{times:E,setCurrent:ve,updateCurrent:Be}=La(e);Be(),ve();const{weekdaySkips:Ee,parsedStart:Te,parsedEnd:Ue,dayFormatter:aa,weekdayFormatter:je,ariaDateFormatter:Xe,dayStyleDefault:Ye,getRelativeClasses:Le}=Ra(e,{startDate:p,endDate:se,times:E}),De=C(()=>ca(e.modelValue,E.now)||Te.value||E.today);j.value=De.value,R.value=De.value.date;const Oe=C(()=>{const t={};return e.dayPadding!==void 0&&(t.padding=e.dayPadding),t.minWidth=Ge.value,t.maxWidth=Ge.value,t.width=Ge.value,t}),{renderValues:Re}=Aa(e,{parsedView:We,times:E,parsedValue:De}),{rootRef:_e,__initCalendar:$e,__renderCalendar:oe}=Ea(e,c,{scrollArea:L,pane:he}),{days:Z,todayWeek:Q,isMiniMode:i,parsedCellWidth:A,parsedMonthLabelSize:S,isOutside:z,monthFormatter:G}=Dt(e,W,{weekdaySkips:Ee,times:E,parsedStart:Te,parsedEnd:Ue,size:O,headerColumnRef:ce}),{move:ae}=Ia(e,{parsedView:We,parsedValue:De,weekdaySkips:Ee,direction:N,maxDays:ee,times:E,emittedValue:D,emit:W}),{getDefaultMouseEventHandlers:P}=Ba(W,le),{checkChange:fe}=Ma(W,{days:Z,lastStart:I,lastEnd:ze}),{isKeyCode:K}=Va(),{tryFocus:Ve}=Oa(e,{rootRef:_e,focusRef:R,focusValue:j,datesRef:Y,days:Z,parsedView:We,parsedValue:De,emittedValue:D,weekdaySkips:Ee,direction:N,times:E}),Ae=C(()=>_e.value&&e.showWorkWeeks===!0?parseInt(getComputedStyle(_e.value).getPropertyValue(i.value===!0?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0),be=C(()=>e.weekdays.length),Ge=C(()=>{if(_e.value){const t=O.width||_e.value.getBoundingClientRect().width;if(t&&be.value)return(t-Ae.value)/be.value+"px"}return 100/be.value+"%"}),Ie=C(()=>e.focusable===!0&&e.focusType.includes("day")&&i.value!==!0),qe=C(()=>e.focusable===!0&&e.focusType.includes("date")&&Ie.value!==!0);$([Z],fe,{deep:!0,immediate:!0}),$(()=>e.modelValue,(t,d)=>{if(D.value!==t){if(e.animated===!0){const f=ke(Fe(t)),r=ke(Fe(d));N.value=f>=r?"next":"prev"}D.value=t}R.value=t}),$(D,(t,d)=>{if(D.value!==e.modelValue){if(e.animated===!0){const f=ke(Fe(t)),r=ke(Fe(d));N.value=f>=r?"next":"prev"}W("update:model-value",t)}}),$(R,t=>{t&&(j.value=ca(t),D.value!==t&&(D.value=t))}),$(j,t=>{Y.value[R.value]?Y.value[R.value].focus():Ve()}),qa(()=>{Y.value={},V.value=[],ue.value=[],Xa(()=>{ra()})}),Fa(()=>{$e(),ra()});function oa(){D.value=ia()}function Pe(t=1){ae(t)}function la(t=1){ae(-t)}function ta({width:t,height:d}){O.width=t,O.height=d}function pe(t){return t.date===D.value}function na(t){for(let d=0;d<t.length;++d)if(t[d].current===!0)return{timestamp:t[d]};return{timestamp:!1}}function ra(){if(!(i.value===!0||e.dayHeight!==0||v.week===void 0)&&window)for(const d in V.value){const f=V.value[d];if(f===void 0)continue;const r=ue.value[d];if(r===void 0)continue;const y=window.getComputedStyle(f),T=parseFloat(y.marginTop,10)+parseFloat(y.marginBottom,10);f.clientHeight+T>r.clientHeight&&(r.style.height=f.clientHeight+T+"px")}}function da(){return l("div",{class:"q-calendar-month__body"},[...h()])}function sa(){return l("div",{role:"presentation",class:"q-calendar-month__head"},[e.showWorkWeeks===!0&&Ke(),l("div",{class:"q-calendar-month__head--wrapper"},[ea()])])}function ea(){return l("div",{ref:ce,class:{"q-calendar-month__head--weekdays":!0}},[...ua()])}function Ke(){const t=v["head-workweek"],d={start:Te.value,end:Ue.value,miniMode:i.value};return l("div",{class:"q-calendar-month__head--workweek",...P("-head-workweek",f=>({scope:d,event:f}))},t?t({scope:d}):"#")}function ua(){return Q.value.map((t,d)=>Ce(t,d))}function Ce(t,d){const f=v["head-day"],r=Z.value.filter(te=>te.weekday===t.weekday),y=r[0].weekday,a={activeDate:e.noActiveDate!==!0&&pe(t),weekday:y,timestamp:t,days:r,index:d,miniMode:i.value,droppable:b.value===t.weekday,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(t.weekday):!1},o=typeof e.weekdayClass=="function"?e.weekdayClass({scope:a}):{},_=e.focusable===!0&&e.focusType.includes("weekday"),w=Ge.value,H=e.weekdayStyle||Ye,k={width:w,maxWidth:w,minWidth:w,...H({scope:a})},me={key:t.date+(d!==void 0?"-"+d:""),tabindex:_===!0?0:-1,class:{"q-calendar-month__head--weekday":!0,...o,"q-disabled-day disabled":a.disabled===!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":_===!0},style:k,onDragenter:te=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(te,"head-day",a)===!0?b.value=t.weekday:b.value="")},onDragover:te=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(te,"head-day",a)===!0?b.value=t.weekday:b.value="")},onDragleave:te=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(te,"head-day",a)===!0?b.value=t.weekday:b.value="")},onDrop:te=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(te,"head-day",a)===!0?b.value=t.weekday:b.value="")},onFocus:te=>{_===!0&&(R.value=t.date)},...P("-head-day",te=>({scope:a,event:te}))};return e.noAria!==!0&&(me.ariaLabel=je.value(t,!1)),l("div",me,[f===void 0&&Qe(t,e.shortWeekdayLabel||i.value),f!==void 0&&f({scope:a}),va(t,d),_===!0&&Je()])}function va(t,d){const f=v["head-day-event"],r=e.noActiveDate!==!0&&pe(t),y=Z.value.filter(H=>H.weekday===t.weekday),a={weekday:y[0].weekday,timestamp:t,days:y,index:d,miniMode:i.value,activeDate:r,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(t.weekday):!1},o=Ge.value,_=e.weekdayStyle||Ye,w={width:o,maxWidth:o,minWidth:o,..._({scope:a})};return l("div",{key:"event-"+t.date+(d!==void 0?"-"+d:""),class:{"q-calendar-month__head--event":!0},style:w},[f!==void 0&&f({scope:a})])}function Qe(t,d){const f=je.value(t,d||e.weekdayBreakpoints[0]>0&&A.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar__ellipsis"},i.value===!0&&e.shortWeekdayLabel===!0||e.weekdayBreakpoints[1]>0&&A.value<=e.weekdayBreakpoints[1]?Ya(f,e.minWeekdayLabel):f)}function h(){const t=e.weekdays.length,d=[];for(let f=0;f<Z.value.length;f+=t)d.push(X(Z.value.slice(f,f+t),f/t));return d}function X(t,d){const f=v.week,r=e.weekdays,y={week:t,weekdays:r,miniMode:i.value},T={};T.height=e.dayHeight>0&&i.value!==!0?ne(parseInt(e.dayHeight,10)):"auto",e.dayMinHeight>0&&i.value!==!0&&(T.minHeight=ne(parseInt(e.dayMinHeight,10)));const a=parseInt(e.dayHeight,10)===0&&parseInt(e.dayMinHeight,10)===0;return l("div",{key:t[0].date,ref:o=>{ue.value[d]=o},class:{"q-calendar-month__week--wrapper":!0,"q-calendar-month__week--auto-height":a},style:T},[e.showWorkWeeks===!0?U(t):void 0,l("div",{class:"q-calendar-month__week"},[l("div",{class:"q-calendar-month__week--days"},t.map((o,_)=>J(o))),i.value!==!0&&f!==void 0?l("div",{ref:o=>{V.value[d]=o},class:"q-calendar-month__week--events"},f({scope:y})):void 0])])}function U(t){const d=v.workweek,f=t.length>2?t[2]:t[0],{timestamp:r}=na(t),y=Number(f.workweek).toLocaleString(e.locale),T={workweekLabel:y,week:t,miniMode:i.value};return l("div",{key:f.workweek,class:{"q-calendar-month__workweek":!0,...Le(r!==!1?r:f,!1)},...P("-workweek",a=>({scope:T,event:a}))},d?d({scope:T}):y)}function J(t){const d=v.day,f=e.dayStyle||Ye,r=z(t),y=e.noActiveDate!==!0&&De.value.date===t.date,T=r===!1&&e.showMonthLabel===!0&&Z.value.find(k=>k.month===t.month).day===t.day,a={outside:r,timestamp:t,miniMode:i.value,activeDate:y,hasMonth:T,droppable:g.value===t.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(t.weekday):!1},o=Object.assign({...Oe.value},f({scope:a})),_=typeof e.dayClass=="function"?e.dayClass({scope:a}):{},w={key:t.date,ref:k=>{Ie.value===!0&&(Y.value[t.date]=k)},tabindex:Ie.value===!0?0:-1,class:{"q-calendar-month__day":!0,..._,...Le(t,r,e.selectedDates,e.selectedStartEndDates,e.hover),"q-active-date":y===!0,disabled:e.enableOutsideDays!==!0&&r===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ie.value===!0},style:o,onFocus:k=>{Ie.value===!0&&(R.value=t.date)},onKeydown:k=>{r!==!0&&t.disabled!==!0&&K(k,[13,32])&&(k.stopPropagation(),k.preventDefault())},onKeyup:k=>{r!==!0&&t.disabled!==!0&&K(k,[13,32])&&(k.stopPropagation(),k.preventDefault(),le.value.onClickDay!==void 0&&i.value!==!0&&W("click-day",{scope:a,event:k}))},...P("-day",k=>({scope:a,event:k}))};return r!==!0&&Object.assign(w,{onDragenter:k=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(k,"day",a)===!0?g.value=t.date:g.value="")},onDragover:k=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(k,"day",a)===!0?g.value=t.date:g.value="")},onDragleave:k=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(k,"day",a)===!0?g.value=t.date:g.value="")},onDrop:k=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(k,"day",a)===!0?g.value=t.date:g.value="")}}),e.noAria!==!0&&(w.ariaLabel=Xe.value(t)),l("div",w,[de(t,r,T),l("div",{class:{"q-calendar-month__day--content":!0}},d?d({scope:a}):void 0),Ie.value===!0&&Je()])}function de(t,d,f){let r,y;const T=[re(t,d)];i.value!==!0&&f===!0&&O.width>340&&(y=n(t,d)),i.value!==!0&&e.showDayOfYearLabel===!0&&y===void 0&&O.width>300&&(r=xe(t,d)),e.dateAlign==="left"?(r!==void 0&&T.push(r),y!==void 0&&T.push(y)):e.dateAlign==="right"?(r!==void 0&&T.unshift(r),y!==void 0&&T.unshift(y)):(r=void 0,y=void 0);const a={class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+e.dateAlign]:r===void 0&&y===void 0,"q-calendar__justify":r!==void 0||y!==void 0}};return l("div",a,T)}function re(t,d){if(d===!0&&e.noOutsideDays===!0)return;const f=aa.value(t,!1),r=v["head-day-label"],y=v["head-day-button"],T=e.selectedDates&&e.selectedDates.length>0&&e.selectedDates.includes(t.date),a=e.noActiveDate!==!0&&pe(t),o={dayLabel:f,timestamp:t,outside:d,activeDate:a,selectedDate:T,miniMode:i.value,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(t.weekday):!1},_={key:t.date,ref:w=>{qe.value===!0&&(Y.value[t.date]=w)},tabindex:qe.value===!0?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":t.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":qe.value===!0},disabled:t.disabled===!0||e.enableOutsideDays!==!0&&d===!0,onFocus:w=>{qe.value===!0&&(R.value=t.date)},onKeydown:w=>{d!==!0&&t.disabled!==!0&&K(w,[13,32])&&(w.stopPropagation(),w.preventDefault())},onKeyup:w=>{qe.value===!0&&d!==!0&&t.disabled!==!0&&K(w,[13,32])&&(w.stopPropagation(),w.preventDefault(),D.value=t.date,le.value.onClickDate!==void 0&&W("click-date",{scope:o,event:w}))},...P("-date",(w,H)=>(w.stopPropagation(),(H==="click-date"||H==="contextmenu-date")&&(D.value=t.date),{scope:o,event:w}))};return e.noAria!==!0&&(_.ariaLabel=Xe.value(t)),[y?y({scope:o}):Qa(e,_,r?r({scope:o}):f),qe.value===!0&&Je()]}function xe(t,d){if(d===!0&&e.noOutsideDays===!0)return;const f=v["day-of-year"];return l("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},f?f({scope:{timestamp:t}}):t.doy)}function n(t,d){if(d===!0&&e.noOutsideDays===!0)return;const f=v["month-label"],r=G.value(t,e.shortMonthLabel||O.width<500),y={monthLabel:r,timestamp:t,miniMode:i.value},T={};return i.value!==!0&&S.value!==void 0&&(T.fontSize=S.value),l("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:T},[f?f({scope:y}):i.value!==!0?r:void 0])}function c(){const{start:t,end:d}=Re.value;p.value=t.date,se.value=d.date;const f=O.width>0,r=Ca(l("div",{class:{"q-calendar-mini":i.value===!0,"q-calendar-month":!0},key:p.value},[f===!0&&e.noHeader!==!0&&sa(),f===!0&&da()]),[[fa,ta]]);if(e.animated===!0){const y="q-calendar--"+(N.value==="prev"?e.transitionPrev:e.transitionNext);return l(Ha,{name:y,appear:!0},()=>r)}return r}return ye({prev:la,next:Pe,move:ae,moveToToday:oa,updateCurrent:Be}),()=>oe()}}),Ft=_a({name:"QCalendarResource",props:{...ma,...ot,...et,...Za,...Pa,...ga,...wa},emits:["update:model-value","update:model-resources","resource-expanded",...Wa,...xa,...ge("-date"),...ge("-interval"),...ge("-head-day"),...ge("-time"),...ge("-head-resources"),...ge("-resource")],setup(e,{slots:v,emit:W,expose:ye}){const L=s(null),he=s(null),ce=s(null),R=s(null),j=s(null),Y=s(null),V=s({}),ue=s({}),N=s("next"),p=s(ia()),se=s("0000-00-00"),ee=s(0),D=s(e.modelValue),O=Da({width:0,height:0}),b=s(!1),g=s(!1),I=s(!1),ze=s(null),We=s(null);$(()=>e.view,()=>{ee.value=0});const we=C(()=>e.view==="month"?"month-interval":e.view),le=C(()=>parseInt(e.cellWidth,10)),F=Sa();if(F===null)throw new Error("current instance is null");const{emitListeners:E}=Ta(F),{times:ve,setCurrent:Be,updateCurrent:Ee}=La(e);Ee(),Be();const{weekdaySkips:Te,parsedStart:Ue,parsedEnd:aa,dayStyleDefault:je}=Ra(e,{startDate:p,endDate:se,times:ve}),Xe=C(()=>ca(e.modelValue,ve.now)||Ue.value||ve.today);Y.value=Xe.value,j.value=Xe.value.date;const{renderValues:Ye}=Aa(e,{parsedView:we,times:ve,parsedValue:Xe}),{rootRef:Le,__initCalendar:De,__renderCalendar:Oe}=Ea(e,Qe,{scrollArea:L,pane:he}),{days:Re,intervals:_e,intervalFormatter:$e,styleDefault:oe,scrollToTimeX:Z,timeDurationWidth:Q,timeStartPosX:i,widthToMinutes:A}=Ua(e,{weekdaySkips:Te,times:ve,scrollArea:L,parsedStart:Ue,parsedEnd:aa,maxDays:ee,size:O,headerColumnRef:R}),{move:S}=Ia(e,{parsedView:we,parsedValue:Xe,weekdaySkips:Te,direction:N,maxDays:ee,times:ve,emittedValue:D,emit:W}),{getDefaultMouseEventHandlers:z}=Ba(W,E),{checkChange:G}=Ma(W,{days:Re,lastStart:ze,lastEnd:We}),{isKeyCode:ae}=Va(),{tryFocus:P}=Oa(e,{rootRef:Le,focusRef:j,focusValue:Y,datesRef:V,days:Re,parsedView:we,parsedValue:Xe,emittedValue:D,weekdaySkips:Te,direction:N,times:ve}),fe=C(()=>{const h=parseInt(e.resourceHeight,10);return h===0?"auto":h}),K=C(()=>parseInt(e.resourceMinHeight,10)),Ve=C(()=>parseInt(e.intervalHeaderHeight,10));$([Re],G,{deep:!0,immediate:!0}),$(()=>e.modelValue,(h,X)=>{if(D.value!==h){if(e.animated===!0){const U=ke(Fe(h)),J=ke(Fe(X));N.value=U>=J?"next":"prev"}D.value=h}j.value=h}),$(D,(h,X)=>{if(D.value!==e.modelValue){if(e.animated===!0){const U=ke(Fe(h)),J=ke(Fe(X));N.value=U>=J?"next":"prev"}W("update:model-value",h)}}),$(j,h=>{h&&(Y.value=ca(h))}),$(Y,h=>{V.value[j.value]?V.value[j.value].focus():P()}),qa(()=>{V.value={},ue.value={}}),Fa(()=>{De()});function Ae(){D.value=ia()}function be(h=1){S(h)}function Ge(h=1){S(-h)}function Ie({width:h,height:X}){O.width=h,O.height=X}function qe(h){return h.date===D.value}function oa(){const h={height:ne(Ve.value)};return l("div",{ref:ce,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":e.noSticky!==!0},style:h},[Pe(),la()])}function Pe(){const h=v["head-resources"],X=ne(Ve.value),U={timestamps:_e,date:e.modelValue,resources:e.modelResources};return l("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":e.noSticky!==!0},style:{height:X},...z("-head-resources",J=>({scope:U,event:J}))},[h&&h({scope:U})])}function la(){return l("div",{ref:R,class:{"q-calendar-resource__head--intervals":!0}},[_e.value.map(h=>h.map((X,U)=>ta(X,U)))])}function ta(h,X){const U=v["interval-label"],J=e.noActiveDate!==!0&&qe(h),de=ne(le.value),re=ne(Ve.value),xe=e.shortIntervalLabel,n=$e.value(h,xe),c={timestamp:h,index:X,label:n};c.droppable=b.value===n;const t=e.intervalStyle||je,d={width:de,maxWidth:de,minWidth:de,height:re,...t({scope:c})},f=typeof e.intervalClass=="function"?e.intervalClass({scope:c}):{},r=e.focusable===!0&&e.focusType.includes("interval");return l("div",{key:n,tabindex:r===!0?0:-1,class:{"q-calendar-resource__head--interval":!0,...f,"q-active-date":J,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":r===!0},style:d,onDragenter:y=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(y,"interval",c)===!0?b.value=n:b.value="")},onDragover:y=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(y,"interval",c)===!0?b.value=n:b.value="")},onDragleave:y=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(y,"interval",c)===!0?b.value=n:b.value="")},onDrop:y=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(y,"interval",c)===!0?b.value=n:b.value="")},onFocus:y=>{r===!0&&(j.value=n)},...z("-interval",y=>({scope:c,event:y}))},[U?U({scope:c}):n,Je()])}function pe(){return l("div",{class:"q-calendar-resource__body"},[na()])}function na(){return l("div",{ref:L,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[da()])}function ra(){return l("div",{},"No resources have been defined")}function da(){return l("div",{class:"q-calendar-resource__day--container"},[oa(),e.modelResources===void 0&&ra(),e.modelResources!==void 0&&sa()])}function sa(){return l("div",{class:"q-calendar-resource__resources--body"},ea())}function ea(h=void 0,X=0,U=!0){return h===void 0&&(h=e.modelResources),h.map((J,de)=>Ke(J,de,X,J.children!==void 0?J.expanded:U))}function Ke(h,X,U=0,J=!0){const de={};de.height=fe.value==="auto"?fe.value:ne(fe.value),K.value>0&&(de.minHeight=ne(K.value));const re=l("div",{key:h[e.resourceKey]+"-"+X,class:{"q-calendar-resource__resource--row":!0},style:de},[ua(h,X,U,J),Ce(h,X)]);return h.children!==void 0?[re,l("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":J===!0,"q-calendar__child--collapsed":J!==!0}},[ea(h.children,U+1,J===!1?J:h.expanded)])]:[re]}function ua(h,X,U=0,J=!0){const de=v["resource-label"],re={};re.height=h.height!==void 0?ne(parseInt(h.height,10)):fe.value?ne(fe.value):"auto",K.value>0&&(re.minHeight=ne(K.value));const xe=e.resourceStyle||oe,n=h[e.resourceLabel],c=e.focusable===!0&&e.focusType.includes("resource")&&J===!0,t={resource:h,timestamps:_e,resourceIndex:X,indentLevel:U,label:n},d=h[e.resourceKey];t.droppable=g.value===d;const f=typeof e.resourceClass=="function"?e.resourceClass({scope:t}):{};return l("div",{key:h[e.resourceKey]+"-"+X,ref:r=>{ue.value[h[e.resourceKey]]=r},tabindex:c===!0?0:-1,class:{"q-calendar-resource__resource":U===0,"q-calendar-resource__resource--section":U!==0,...f,"q-calendar__sticky":e.noSticky!==!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":c===!0},style:{...re,...xe({scope:t})},onDragenter:r=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(r,"resource",t)===!0?g.value=d:g.value="")},onDragover:r=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(r,"resource",t)===!0?g.value=d:g.value="")},onDragleave:r=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(r,"resource",t)===!0?g.value=d:g.value="")},onDrop:r=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(r,"resource",t)===!0?g.value=d:g.value="")},onKeydown:r=>{ae(r,[13,32])&&(r.stopPropagation(),r.preventDefault())},onKeyup:r=>{ae(r,[13,32])&&E.value.onClickResource!==void 0&&W("click-resource",{scope:t,event:r})},...z("-resource",r=>({scope:t,event:r}))},[[l("div",{class:{"q-calendar__parent":h.children!==void 0,"q-calendar__parent--expanded":h.children!==void 0&&h.expanded===!0,"q-calendar__parent--collapsed":h.children!==void 0&&h.expanded!==!0},onClick:r=>{r.stopPropagation(),h.expanded=!h.expanded,W("resource-expanded",{expanded:h.expanded,scope:t})}}),l("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*U+2+"px"}},[de?de({scope:t}):n]),Je()]])}function Ce(h,X){const U=v["resource-intervals"],J={resource:h,timestamps:_e,resourceIndex:X,timeStartPosX:i,timeDurationWidth:Q};return l("div",{class:"q-calendar-resource__resource--intervals"},[_e.value.map(de=>de.map(re=>va(h,re,X))),U&&U({scope:J})])}function va(h,X,U){const J=v["resource-interval"],de=e.noActiveDate!==!0&&qe(X),re={activeDate:de,resource:h,timestamp:X,resourceIndex:U},xe=h[e.resourceKey],n=X.time+"-"+xe;re.droppable=I.value===n;const c=e.focusable===!0&&e.focusType.includes("time"),t=e.intervalStyle||je,d=ne(le.value),f={width:d,maxWidth:d,minWidth:d,...t({scope:re})};return f.height=h.height!==void 0?ne(parseInt(h.height,10)):fe.value>0?ne(fe.value):"auto",K.value>0&&(f.minHeight=ne(K.value)),l("div",{key:n,ref:r=>{V.value[h[e.resourceKey]]=r},tabindex:c===!0?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":de,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":c===!0},style:f,onDragenter:r=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(r,"time",re)===!0?I.value=n:I.value="")},onDragover:r=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(r,"time",re)===!0?I.value=n:I.value="")},onDragleave:r=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(r,"time",re)===!0?I.value=n:I.value="")},onDrop:r=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(r,"time",re)===!0?I.value=n:I.value="")},onFocus:r=>{c===!0&&(j.value=n)},...z("-time",r=>({scope:re,event:r}))},[J&&J({scope:re}),Je()])}function Qe(){const{start:h,end:X,maxDays:U}=Ye.value;(p.value!==h.date||se.value!==X.date||ee.value!==U)&&(p.value=h.date,se.value=X.date,ee.value=U);const J=O.width>0,de=Ca(l("div",{class:"q-calendar-resource",key:p.value},[J===!0&&pe()]),[[fa,Ie]]);if(e.animated===!0){const re="q-calendar--"+(N.value==="prev"?e.transitionPrev:e.transitionNext);return l(Ha,{name:re,appear:!0},()=>de)}return de}return ye({prev:Ge,next:be,move:S,moveToToday:Ae,updateCurrent:Ee,timeStartPosX:i,timeDurationWidth:Q,widthToMinutes:A,scrollToTimeX:Z}),()=>Oe()}}),Ct=_a({name:"QCalendarScheduler",directives:[fa],props:{...ma,...ct,...Za,...Pa,...ga,...Ka,...wa},emits:["update:model-value","update:model-resources","resource-expanded",...Wa,...xa,...ge("-date"),...ge("-day-resource"),...ge("-head-resources"),...ge("-head-day"),...ge("-resource")],setup(e,{slots:v,emit:W,expose:ye}){const L=s(null),he=s(null),ce=s(null),R=s(null),j=s(null),Y=s({}),V=s({}),ue=s({}),N=s({}),p=s("next"),se=s(e.modelValue||ia()),ee=s("0000-00-00"),D=s(0),O=s(e.modelValue),b=Da({width:0,height:0}),g=s(!1),I=s(!1),ze=s(null),We=s(null);$(()=>e.view,()=>{D.value=0});const we=C(()=>e.view==="month"?"month-interval":e.view),le=Sa();if(le===null)throw new Error("current instance is null");const{emitListeners:F}=Ta(le),{isSticky:E}=ja(e),{times:ve,setCurrent:Be,updateCurrent:Ee}=La(e);Ee(),Be();const{weekdaySkips:Te,parsedStart:Ue,parsedEnd:aa,dayFormatter:je,weekdayFormatter:Xe,ariaDateFormatter:Ye,dayStyleDefault:Le,getRelativeClasses:De}=Ra(e,{startDate:se,endDate:ee,times:ve}),Oe=C(()=>ca(e.modelValue,ve.now)||Ue.value||ve.today);j.value=Oe.value,R.value=Oe.value.date;const{renderValues:Re}=Aa(e,{parsedView:we,parsedValue:Oe,times:ve}),{rootRef:_e,scrollWidth:$e,__initCalendar:oe,__renderCalendar:Z}=Ea(e,T,{scrollArea:L,pane:he}),{days:Q,parsedCellWidth:i,styleDefault:A}=Ua(e,{weekdaySkips:Te,times:ve,scrollArea:L,parsedStart:Ue,parsedEnd:aa,maxDays:D,size:b,headerColumnRef:ce}),{move:S}=Ia(e,{parsedView:we,parsedValue:Oe,weekdaySkips:Te,direction:p,maxDays:D,times:ve,emittedValue:O,emit:W}),{getDefaultMouseEventHandlers:z}=Ba(W,F),{checkChange:G}=Ma(W,{days:Q,lastStart:ze,lastEnd:We}),{isKeyCode:ae}=Va(),{tryFocus:P}=Oa(e,{rootRef:_e,focusRef:R,focusValue:j,datesRef:Y,days:Q,parsedView:we,parsedValue:Oe,emittedValue:O,weekdaySkips:Te,direction:p,times:ve}),fe=C(()=>we.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):we.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:Q.value.length),K=C(()=>_e.value?parseInt(getComputedStyle(_e.value).getPropertyValue("--calendar-resources-width"),10):0),Ve=C(()=>{const a=parseInt(e.resourceHeight,10);return a===0?"auto":a}),Ae=C(()=>parseInt(e.resourceMinHeight,10)),be=C(()=>{if(_e.value){const a=b.width||_e.value.getBoundingClientRect().width;if(a&&K.value&&fe.value)return(a-$e.value-K.value)/fe.value+"px"}return 100/fe.value+"%"});$([Q],G,{deep:!0,immediate:!0}),$(()=>e.modelValue,(a,o)=>{if(O.value!==e.modelValue){if(e.animated===!0){const _=ke(Fe(a)),w=ke(Fe(o));p.value=_>=w?"next":"prev"}O.value=a}R.value=a}),$(O,(a,o)=>{if(O.value!==e.modelValue){if(e.animated===!0){const _=ke(Fe(a)),w=ke(Fe(o));p.value=_>=w?"next":"prev"}W("update:model-value",a)}}),$(R,a=>{a&&(j.value=ca(a))}),$(j,a=>{Y.value[R.value]?Y.value[R.value].focus():P()}),$(()=>e.maxDays,a=>{D.value=a}),qa(()=>{Y.value={},ue.value={},N.value={},V.value={}}),Fa(()=>{oe()});function Ge(){O.value=ia()}function Ie(a=1){S(a)}function qe(a=1){S(-a)}function oa({width:a,height:o}){b.width=a,b.height=o}function Pe(a){return a.date===O.value}function la(){return l("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":E.value===!0},style:{marginRight:$e.value+"px"}},[ta(),pe()])}function ta(){const a=v["head-resources"],o={days:Q.value,timestamps:Q.value,date:e.modelValue,resources:e.modelResources};return l("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":E.value===!0},...z("-head-resources",_=>({scope:o,event:_}))},[a&&a({scope:o})])}function pe(){return l("div",{ref:ce,class:{"q-calendar-scheduler__head--days__column":!0}},[na(),ra()])}function na(){return l("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[...da()])}function ra(){const a=v["head-days-events"];return Xa(()=>{if(N.value&&parseInt(e.columnCount,10)===0&&window)try{const o=window.getComputedStyle(N.value);ue.value.parentElement.style.height=o.height,ue.value.style.height=o.height}catch{}}),l("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[a&&l("div",{ref:ue,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[a({scope:{timestamps:Q.value,days:Q.value,ref:N}})]),...sa()])}function da(){return Q.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((a,o)=>o+parseInt(e.columnIndexStart,10)).map(a=>ea(Q.value[0],a)):Q.value.map(a=>ea(a))}function sa(){return Q.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((a,o)=>o+parseInt(e.columnIndexStart,10)).map(a=>ua(Q.value[0],a)):Q.value.map(a=>ua(a))}function ea(a,o){const _=v["head-day"],w=v["head-date"],H=e.noActiveDate!==!0&&Pe(a),k={timestamp:a,activeDate:H,droppable:g.value===a.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(a.weekday):!1};o!==void 0&&(k.columnIndex=o);const me=E.value===!0?ne(i.value):be.value,te=e.weekdayStyle||Le,Ze={width:me,maxWidth:me,minWidth:me,...te({scope:k})};E.value===!0&&(Ze.minWidth=me);const u=typeof e.weekdayClass=="function"?e.weekdayClass({scope:k}):{},m=e.focusable===!0&&e.focusType.includes("weekday"),q=a.date+(o!==void 0?"-"+o:""),x={key:q,ref:M=>{Y.value[q]=M},tabindex:m===!0?0:-1,class:{"q-calendar-scheduler__head--day":!0,...u,...De(a),"q-active-date":H,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":m===!0},style:Ze,onFocus:M=>{m===!0&&(R.value=q)},onKeydown:M=>{a.disabled!==!0&&ae(M,[13,32])&&(M.stopPropagation(),M.preventDefault())},onKeyup:M=>{a.disabled!==!0&&ae(M,[13,32])&&(O.value=a.date)},...z("-head-day",M=>({scope:k,event:M})),onDragenter:M=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(M,"head-day",k)===!0?g.value=a.date:g.value="")},onDragover:M=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(M,"head-day",k)===!0?g.value=a.date:g.value="")},onDragleave:M=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(M,"head-day",k)===!0?g.value=a.date:g.value="")},onDrop:M=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(M,"head-day",k)===!0?g.value=a.date:g.value="")}};return l("div",x,[_!==void 0&&_({scope:k}),_===void 0&&X(a,o),_===void 0&&Ke(a),_===void 0&&w&&w({scope:k}),_===void 0&&U(a,o),Je()])}function Ke(a){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ce(a),e.noDefaultHeaderBtn!==!0&&Qe(a)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ce(a),e.noDefaultHeaderBtn!==!0&&Qe(a)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ce(a),e.noDefaultHeaderBtn!==!0&&Qe(a)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ce(a),e.noDefaultHeaderBtn!==!0&&Qe(a)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Qe(a),e.noDefaultHeaderText!==!0&&Ce(a)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Qe(a),e.noDefaultHeaderText!==!0&&Ce(a)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Qe(a),e.noDefaultHeaderText!==!0&&Ce(a)])}function ua(a,o){const _=v["head-day-event"],w=e.noActiveDate!==!0&&Pe(a),H={timestamp:a,activeDate:w,droppable:g.value===a.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(a.weekday):!1};o!==void 0&&(H.columnIndex=o);const k=E.value===!0?ne(i.value):be.value,me={width:k,maxWidth:k,minWidth:k};return E.value===!0&&(me.minWidth=k),l("div",{key:"event-"+a.date+(o!==void 0?"-"+o:""),class:{"q-calendar-scheduler__head--day__event":!0,...De(a),"q-active-date":w},style:me},[_&&_({scope:H})])}function Ce(a){const o=v["head-weekday-label"],_=e.shortWeekdayLabel===!0,w={timestamp:a,shortWeekdayLabel:_},H={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return l("div",H,o&&o({scope:w})||va(a,_))}function va(a,o){const _=Xe.value(a,o||e.weekdayBreakpoints[0]>0&&i.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&i.value<=e.weekdayBreakpoints[1]?Ya(_,e.minWeekdayLabel):_)}function Qe(a){const o={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return l("div",o,h(a))}function h(a){const o=e.noActiveDate!==!0&&Pe(a),_=je.value(a,!1),w=v["head-day-label"],H=v["head-day-button"],k={dayLabel:_,timestamp:a,activeDate:o},me={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":a.current===!0,"q-calendar__focusable":!0},disabled:a.disabled,onKeydown:te=>{a.disabled!==!0&&ae(te,[13,32])&&(te.stopPropagation(),te.preventDefault())},onKeyup:te=>{a.disabled!==!0&&ae(te,[13,32])&&(O.value=a.date,F.value.onClickDate!==void 0&&W("click-date",{scope:k}))},...z("-date",(te,Ze)=>((Ze==="click-date"||Ze==="contextmenu-date")&&(O.value=a.date,Ze==="click-date"&&te.preventDefault()),{scope:k,event:te}))};return e.noAria!==!0&&(me.ariaLabel=Ye.value(a)),H?H({scope:k}):Qa(e,me,w?w({scope:k}):_)}function X(a,o){const _=v["column-header-before"];if(_)return l("div",{class:"q-calendar-scheduler__column-header--before"},[_({scope:{timestamp:a,columnIndex:o}})])}function U(a,o){const _=v["column-header-after"];if(_)return l("div",{class:"q-calendar-scheduler__column-header--after"},[_({scope:{timestamp:a,columnIndex:o}})])}function J(){return l("div",{class:"q-calendar-scheduler__body"},[de()])}function de(){return E.value===!0?l("div",{ref:L,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[E.value!==!0&&d(),xe()]):e.noScroll===!0?re():l("div",{ref:L,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[re()])}function re(){return l("div",{ref:he,class:"q-calendar-scheduler__pane"},[xe()])}function xe(){return l("div",{class:"q-calendar-scheduler__day--container"},[E.value===!0&&e.noHeader!==!0&&la(),n()])}function n(a=void 0,o=0,_=!0){return a===void 0&&(a=e.modelResources),a.map((w,H)=>c(w,H,o,w.children!==void 0?w.expanded:_))}function c(a,o,_=0,w=!0){const H={};H.height=a.height!==void 0?ne(parseInt(a.height,10)):Ve.value?ne(Ve.value):"auto",Ae.value>0&&(H.minHeight=ne(Ae.value));const k=l("div",{key:a[e.resourceKey]+"-"+o,class:{"q-calendar-scheduler__resource--row":!0},style:H},[t(a,o,_,w),d(a,o,_,w)]);return a.children!==void 0?[k,l("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":w===!0,"q-calendar__child--collapsed":w!==!0}},[n(a.children,_+1,w===!1?w:a.expanded)])]:[k]}function t(a,o,_=0,w=!0){const H=v["resource-label"],k={};k.height=a.height!==void 0?ne(parseInt(a.height,10)):Ve.value?ne(Ve.value):"auto",parseInt(e.resourceMinHeight,10)>0&&(k.minHeight=ne(parseInt(e.resourceMinHeight,10)));const me=e.resourceStyle||A,te=a[e.resourceLabel],Ze=e.focusable===!0&&e.focusType.includes("resource")&&w===!0,u={resource:a,timestamps:Q.value,days:Q.value,resourceIndex:o,indentLevel:_,label:te},m=a[e.resourceKey];u.droppable=I.value===m;const q=typeof e.resourceClass=="function"?e.resourceClass({scope:u}):{};return l("div",{key:a[e.resourceKey]+"-"+o,ref:x=>{V.value[a[e.resourceKey]]=x},tabindex:Ze===!0?0:-1,class:{"q-calendar-scheduler__resource":_===0,"q-calendar-scheduler__resource--section":_!==0,...q,"q-calendar__sticky":E.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ze===!0},style:{...k,...me({scope:u})},onDragenter:x=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(x,"resource",u)===!0?I.value=m:I.value="")},onDragover:x=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(x,"resource",u)===!0?I.value=m:I.value="")},onDragleave:x=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(x,"resource",u)===!0?I.value=m:I.value="")},onDrop:x=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(x,"resource",u)===!0?I.value=m:I.value="")},onKeydown:x=>{ae(x,[13,32])&&(x.stopPropagation(),x.preventDefault())},onKeyup:x=>{ae(x,[13,32])&&F.value.onClickResource!==void 0&&W("click-resource",{scope:u,event:x})},...z("-resource",x=>({scope:u,event:x}))},[[l("div",{class:{"q-calendar__parent":a.children!==void 0,"q-calendar__parent--expanded":a.children!==void 0&&a.expanded===!0,"q-calendar__parent--collapsed":a.children!==void 0&&a.expanded!==!0},onClick:x=>{x.stopPropagation(),a.expanded=!a.expanded,W("resource-expanded",{expanded:a.expanded,scope:u})}}),l("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*_+2+"px"}},[H?H({scope:u}):te]),Je()]])}function d(a,o,_=0,w=!0){const H=v["resource-days"],k=E.value===!0?ne(i.value):be.value,me={resource:a,resourceIndex:o,indentLevel:_,expanded:w,cellWidth:k,timestamps:Q.value,days:Q.value},te={};return te.height=parseInt(e.resourceHeight,10)>0?ne(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(te.minHeight=ne(parseInt(e.resourceMinHeight,10))),l("div",{class:"q-calendar-scheduler__resource--days",style:te},[...f(a,o,_,w),H&&H({scope:me})])}function f(a,o,_=0,w=!0){return Q.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((H,k)=>k+parseInt(e.columnIndexStart,10)).map(H=>r(Q.value[0],H,a,o,_,w)):Q.value.map(H=>r(H,void 0,a,o,_,w))}function r(a,o,_,w,H=0,k=!0){const me=v.day,te=e.dayStyle||Le,Ze=e.noActiveDate!==!0&&Oe.value.date===a.date,u=a.date+":"+_[e.resourceKey]+(o!==void 0?":"+o:""),m=I.value===u,q={timestamp:a,columnIndex:o,resource:_,resourceIndex:w,indentLevel:H,activeDate:Ze,droppable:m},x=E.value===!0?ne(i.value):be.value,M={width:x,maxWidth:x,...te({scope:q})};M.height=parseInt(e.resourceHeight,10)>0?ne(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(M.minHeight=ne(parseInt(e.resourceMinHeight,10)));const B=typeof e.dayClass=="function"?e.dayClass({scope:q}):{},He=e.focusable===!0&&e.focusType.includes("day")&&k===!0;return l("div",{key:a.date+(o!==void 0?":"+o:""),tabindex:He===!0?0:-1,class:{"q-calendar-scheduler__day":H===0,"q-calendar-scheduler__day--section":H!==0,...B,...De(a),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":He===!0},style:M,onDragenter:ie=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(ie,"day",q)===!0?I.value=u:I.value="")},onDragover:ie=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(ie,"day",q)===!0?I.value=u:I.value="")},onDragleave:ie=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(ie,"day",q)===!0?I.value=u:I.value="")},onDrop:ie=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(ie,"day",q)===!0?I.value=u:I.value="")},onKeydown:ie=>{ae(ie,[13,32])&&(ie.stopPropagation(),ie.preventDefault())},onKeyup:ie=>{ae(ie,[13,32])&&(O.value=q.timestamp.date,F.value.onClickResource!==void 0&&W("click-resource",{scope:q,event:ie}))},...z("-day-resource",ie=>({scope:q,event:ie}))},[me&&me({scope:q}),Je()])}function y(){return l("div",{},"No resources have been defined")}function T(){const{start:a,end:o,maxDays:_}=Re.value;(se.value!==a.date||ee.value!==o.date||D.value!==_)&&(se.value=a.date,ee.value=o.date,D.value=_);const w=b.width>0,H=e.modelResources&&e.modelResources.length>0,k=Ca(l("div",{key:se.value,class:"q-calendar-scheduler"},[w===!0&&H===!0&&E.value!==!0&&e.noHeader!==!0&&la(),w===!0&&H===!0&&J(),H===!1&&y()]),[[fa,oa]]);if(e.animated===!0){const me="q-calendar--"+(p.value==="prev"?e.transitionPrev:e.transitionNext);return l(Ha,{name:me,appear:!0},()=>k)}return k}return ye({prev:qe,next:Ie,move:S,moveToToday:Ge,updateCurrent:Ee}),()=>Z()}}),Wt=_a({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...ma,...st,...ga,...Ka,...wa,...et,...ct,...ot,...Pa,...yt},setup(e,{attrs:v,slots:W,expose:ye}){const L=s(null),he=C(()=>{switch(e.mode){case"agenda":return kt;case"resource":return Ft;case"scheduler":return Ct;case"month":return qt;case"day":return nt;case"task":return _t;case"day":default:return nt}});function ce(){L.value.moveToToday()}function R(g=-1){L.value.move(g)}function j(g=1){L.value.next(g)}function Y(g=1){L.value.prev(g)}function V(){L.value.updateCurrent()}function ue(g,I=!0){return L.value.timeStartPos(g,I)}function N(g,I=!0){return L.value.timeStartPosX(g,I)}function p(g){return L.value.timeDurationWidth(g)}function se(g){return L.value.timeDurationHeight(g)}function ee(g){return L.value.heightToMinutes(g)}function D(g){return L.value.widthToMinutes(minutes)}function O(g){return L.value.scrollToTime(g)}function b(g){return L.value.scrollToTimeX(g)}return ye({prev:Y,next:j,move:R,moveToToday:ce,updateCurrent:V,timeStartPos:ue,timeStartPosX:N,timeDurationWidth:p,timeDurationHeight:se,heightToMinutes:ee,widthToMinutes:D,scrollToTime:O,scrollToTimeX:b}),()=>l(he.value,{ref:L,...e,...v},W)}});export{Wt as Q,nt as a};
