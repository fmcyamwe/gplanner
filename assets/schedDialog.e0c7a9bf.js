import{_ as f,$ as _,a4 as u,r as d,L as g,E as l,F as n,G as i,a3 as c,M as h,H as s,bc as k,bd as y,N as D,b9 as A,a6 as p,a7 as C}from"./index.8c8e6158.js";import{Q as E}from"./QSpace.f9474cc0.js";const P={name:"schedDialog",components:{adHocEvent:_(()=>u(()=>import("./adHocEvent.138e3a17.js"),["assets/adHocEvent.138e3a17.js","assets/adHocEvent.84c09745.css","assets/QSpace.f9474cc0.js","assets/index.8c8e6158.js","assets/index.ddf7c1e7.css","assets/TouchPan.1ebb2fcb.js","assets/QItem.fbefacd4.js","assets/utiFunc.ac4b7097.js","assets/QKnob.363a245c.js"])),selectEvent:_(()=>u(()=>import("./selectEvent.4e18a14a.js"),["assets/selectEvent.4e18a14a.js","assets/selectEvent.0ed0e655.css","assets/index.8c8e6158.js","assets/index.ddf7c1e7.css","assets/QItem.fbefacd4.js","assets/TouchPan.1ebb2fcb.js","assets/utiFunc.ac4b7097.js","assets/QSpace.f9474cc0.js"]))},props:{parentGoals:Array,canBeScheduled:Array,balance:Number},data(){return{showPickDialog:d(!1),showAdHocDialog:d(!1),show:d(!0)}},emits:["addAdHocEvent","onPickEvent","euhHidin"],computed:{showDefaultOption:{get(){return this.show},set(e){this.show=e}},showPickyDialog:{get(){return this.showPickDialog},set(e){this.showPickDialog=e}},showAddyDialog:{get(){return this.showAdHocDialog},set(e){this.showAdHocDialog=e}},allScheduled:{get(){return this.canBeScheduled.forEach(e=>{let o=this.parentGoals.find(t=>t.id==e.parentGoal);o?e.color=o.bgcolor:e.color="",e.pg=o==null?void 0:o.title.trim()}),this.canBeScheduled}}},methods:{onAddClicked(e,o,t){this.$emit("onPickEvent",e,o,t),this.reset()},adHocNewEvent(e,o,t,r){this.$emit("addAdHocEvent",e,o,t,r),this.reset()},onChooseExisting(){this.showPickyDialog=!this.showPickyDialog},onChooseAdHoc(){this.showAddyDialog=!this.showAddyDialog},gonHide(){this.$emit("euhHidin")},onCancelBtn(){let e=this.showPickyDialog;this.showAddyDialog,e?this.showPickyDialog=!this.showPickyDialog:this.showAddyDialog=!this.showAddyDialog},reset(){this.showAddyDialog=!1,this.showPickyDialog=!1}}},H=e=>(p("data-v-7a29ed80"),e=e(),C(),e),B={class:"q-ma-md event-select"},S={class:"q-ma-md event-select"},x=H(()=>h("div",{class:"text-h6"},"Ad hoc or Existing event",-1));function G(e,o,t,r,O,a){const v=g("select-event"),w=g("ad-hoc-event");return l(),n(A,{modelValue:a.showDefaultOption,"onUpdate:modelValue":o[0]||(o[0]=m=>a.showDefaultOption=m),"transition-show":"rotate","transition-hide":"rotate","no-esc-dismiss":"",onBeforeHide:a.gonHide},{default:i(()=>[a.showPickyDialog?(l(),n(c,{key:0},{default:i(()=>[h("div",B,[s(v,{canBeScheduled:a.allScheduled,toBalance:t.balance,onOnPickEvent:a.onAddClicked,onDoCancel:a.onCancelBtn},null,8,["canBeScheduled","toBalance","onOnPickEvent","onDoCancel"])])]),_:1})):a.showAddyDialog?(l(),n(c,{key:1},{default:i(()=>[h("div",S,[s(w,{mainGoals:t.parentGoals,onSaveEvent:a.adHocNewEvent,onDoCancel:a.onCancelBtn},null,8,["mainGoals","onSaveEvent","onDoCancel"]),s(E)])]),_:1})):(l(),n(c,{key:2},{default:i(()=>[s(k,null,{default:i(()=>[x]),_:1}),s(y,{align:"center"},{default:i(()=>[s(D,{flat:"",label:"Add hoc",color:"primary",onClick:a.onChooseAdHoc},null,8,["onClick"]),s(D,{flat:"",label:"Existing",color:"primary",onClick:a.onChooseExisting},null,8,["onClick"])]),_:1})]),_:1}))]),_:1},8,["modelValue","onBeforeHide"])}var b=f(P,[["render",G],["__scopeId","data-v-7a29ed80"]]);export{b as default};
