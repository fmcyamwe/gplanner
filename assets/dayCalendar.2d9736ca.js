import{j as L,c as _,h as T,k as Se,af as ye,a2 as ke,r as c,ag as Re,ah as Oe,w as te,b as Pe,ai as Me,Q as C,g as be,aj as Ne,ak as Be,al as Ae,am as qe,W as _e,an as Ve,n as $e,ao as Ge,_ as Z,F as p,M as b,J as P,S as O,I as d,H as m,R as q,ap as Ee,aq as Ie,K as w,U as R,ar as oe,ad as we,ae as De,d as He,E as $,as as le,O as k,N as G,f as ne,G as M,P as z,at as K,au as se,av as ie,ac as j,aa as Ue}from"./index.dfe0cbf5.js";import{Q as Ce,a as Te,b as Qe,c as Le,d as ae,e as re,f as de,g as ue,h as ce}from"./viewAllGoals.fe338ca2.js";import{Q as X}from"./QTooltip.821ab2b7.js";import{c as Fe,a as We,b as ze}from"./utiFunc.9c7f105d.js";import{N as Ke,t as J,p as Y,a as D,j as N,k as x,T as I,b as B,c as A,U as he,i as Q,C as fe}from"./NavigationBar.071c337b.js";/* empty css                             */import{u as je}from"./goalStorage.08b2009d.js";import{u as Je}from"./use-quasar.47598782.js";const Ye=()=>!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);var xe=L({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const o=_(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${l.length>0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>T("div",{class:o.value},Se(t.default))}});const Xe=Object.keys(ye),Ze=e=>Xe.reduce((t,o)=>{const l=e[o];return l!==void 0&&(t[o]=l),t},{});var me=L({name:"QBtnDropdown",props:{...ye,...ke,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:o}){const{proxy:l}=be(),n=c(e.modelValue),s=c(null),i=Re(),a=_(()=>{const u={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i,"aria-label":e.toggleAriaLabel||l.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(u["aria-disabled"]="true"),u}),f=_(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),g=_(()=>Oe(e)),S=_(()=>Ze(e));te(()=>e.modelValue,u=>{s.value!==null&&s.value[u?"show":"hide"]()}),te(()=>e.split,V);function r(u){n.value=!0,o("beforeShow",u)}function h(u){o("show",u),o("update:modelValue",!0)}function y(u){n.value=!1,o("beforeHide",u)}function v(u){o("hide",u),o("update:modelValue",!1)}function E(u){o("click",u)}function F(u){Ne(u),V(),o("click",u)}function W(u){s.value!==null&&s.value.toggle(u)}function U(u){s.value!==null&&s.value.show(u)}function V(u){s.value!==null&&s.value.hide(u)}return Object.assign(l,{show:U,hide:V,toggle:W}),Pe(()=>{e.modelValue===!0&&U()}),()=>{const u=[T(Me,{class:f.value,name:e.dropdownIcon||l.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&u.push(T(Ce,{ref:s,id:i,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:r,onShow:h,onBeforeHide:y,onHide:v},t.default)),e.split===!1?T(C,{class:"q-btn-dropdown q-btn-dropdown--simple",...S.value,...a.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:E},{default:()=>Se(t.label,[]).concat(u),loading:t.loading}):T(xe,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...g.value,glossy:e.glossy,stretch:e.stretch},()=>[T(C,{class:"q-btn-dropdown--current",...S.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:F},{default:t.label,loading:t.loading}),T(C,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...a.value,...g.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>u)])}}});function ge(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var pe=Be({name:"close-popup",beforeMount(e,{value:t}){const o={depth:ge(t),handler(l){o.depth!==0&&setTimeout(()=>{const n=Ae(e);n!==void 0&&qe(n,l,o.depth)})},handlerKey(l){_e(l,13)===!0&&o.handler(l)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=ge(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function H(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const o=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const l=e.valueOf();if(Object(l)!==l){const n=new e.constructor(l);return t.set(e,n),n}}return t.set(e,o),e instanceof Set?e.forEach(l=>{o.add(H(l,t))}):e instanceof Map&&e.forEach((l,n)=>{o.set(n,H(l,t))}),Object.assign(o,...Object.keys(e).map(l=>({[l]:H(e[l],t)})))}var et=L({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:o}){const{proxy:l}=be(),{$q:n}=l,s=c(null),i=c(""),a=c("");let f=!1;const g=_(()=>Ve({initialValue:i.value,validate:e.validate,set:S,cancel:r,updatePosition:h},"value",()=>a.value,u=>{a.value=u}));function S(){e.validate(a.value)!==!1&&(y()===!0&&(o("save",a.value,i.value),o("update:modelValue",a.value)),v())}function r(){y()===!0&&o("cancel",a.value,i.value),v()}function h(){$e(()=>{s.value.updatePosition()})}function y(){return Ge(a.value,i.value)===!1}function v(){f=!0,s.value.hide()}function E(){f=!1,i.value=H(e.modelValue),a.value=H(e.modelValue),o("beforeShow")}function F(){o("show")}function W(){f===!1&&y()===!0&&(e.autoSave===!0&&e.validate(a.value)===!0?(o("save",a.value,i.value),o("update:modelValue",a.value)):o("cancel",a.value,i.value)),o("beforeHide")}function U(){o("hide")}function V(){const u=t.default!==void 0?[].concat(t.default(g.value)):[];return e.title&&u.unshift(T("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&u.push(T("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[T(C,{flat:!0,color:e.color,label:e.labelCancel||n.lang.label.cancel,onClick:r}),T(C,{flat:!0,color:e.color,label:e.labelSet||n.lang.label.set,onClick:S})])),u}return Object.assign(l,{set:S,cancel:r,show(u){s.value!==null&&s.value.show(u)},hide(u){s.value!==null&&s.value.hide(u)},updatePosition:h}),()=>{if(e.disable!==!0)return T(Ce,{ref:s,class:"q-popup-edit",cover:e.cover,onBeforeShow:E,onShow:F,onBeforeHide:W,onHide:U,onEscapeKey:r},V)}}});const tt={name:"GoalyEnd",props:{disabledScore:Boolean,title:String,id:Number,startTime:String,details:String,score:String,happeningNow:Boolean},emits:["saveScore","endNow"],computed:{aScore:{get(){return this.score},set(e){console.log("aScore getting set",e,this.id),this.$emit("saveScore",e,this.id)}},overdueIconStyle(){return{color:this.daysOver===0?"inherit":"red","max-width":"25px","min-width":"25px"}},userIconStyle(){return{color:this.disabledScore===!0?"red":"blue",cursor:"pointer"}},labelBtnStyle(){return this.disabledScore===!1&&this.happeningNow===!0?"Edit":"EndNow"},endNowBtnStyle(){return{display:this.happeningNow===!0&&this.disabledScore===!0?"block":"none","margin-left":"32em"}}},watch:{title(e){console.log("titleValue:",e)}},methods:{onClicked(){console.log("huh a click doing nothing"),this.$emit("update:model-value",!this.disabledScore)},wannaEnd(){console.log("eeeuh wish to end for",this.id,this.disabledScore,this.happeningNow),this.$emit("endNow",this.id)}}},ot={class:"title q-calendar__ellipsis"};function lt(e,t,o,l,n,s){return p(),b("div",ot,[P(O(o.title)+" ",1),d(X,null,{default:m(()=>[P(O(o.startTime+" - "+o.details+" :"+o.score),1)]),_:1}),d(C,{"no-caps":"",class:"button",label:s.labelBtnStyle,style:q(s.endNowBtnStyle),onClick:s.wannaEnd},null,8,["label","style","onClick"]),d(et,{modelValue:s.aScore,"onUpdate:modelValue":t[0]||(t[0]=i=>s.aScore=i),disable:o.disabledScore,"auto-save":""},{default:m(i=>[d(Ee,{modelValue:i.value,"onUpdate:modelValue":a=>i.value=a,dense:"",autofocus:"",onKeyup:Ie(i.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:1},8,["modelValue","disable"])])}var nt=Z(tt,[["render",lt],["__scopeId","data-v-32f2e1ee"]]);const st=T("div",{class:"q-space"});var it=L({name:"QSpace",setup(){return()=>st}});const at={name:"adHocEvent",props:{mainGoals:Array},data(){return{aTitle:"",daP:null,own:"misc"}},emits:["saveEvent"],computed:{pGoals:{get(){return this.mainGoals}},evName:{get(){return this.aTitle},set(e){this.aTitle=e}}},methods:{onClicked(){this.$emit("saveEvent",this.aTitle,this.daP,this.own)}}},rt=e=>(we("data-v-4940f6c8"),e=e(),De(),e),dt={class:"q-calendar__ellipsis"},ut=rt(()=>w("div",{class:"text-h6"},"adHocEvent",-1)),ct={class:"q-ml-md q-gutter-md"},ht={key:0},ft={class:"radio-select"},mt={style:{"text-align":"center"}};function gt(e,t,o,l,n,s){return p(),b("div",dt,[ut,w("div",ct,[d(Ee,{modelValue:s.evName,"onUpdate:modelValue":t[0]||(t[0]=i=>s.evName=i),filled:"",label:"A Goal","lazy-rules":"","item-aligned":"",rules:[i=>i&&i.length>0||"Please type a goal"]},null,8,["modelValue","rules"])]),s.pGoals?(p(),b("div",ht,[d(Te,{class:"q-ml-md",modelValue:n.daP,"onUpdate:modelValue":t[1]||(t[1]=i=>n.daP=i),options:s.pGoals,"option-value":"id","option-label":"title",label:"Parent Goal"},null,8,["modelValue","options"])])):R("",!0),w("div",ft,[d(oe,{modelValue:n.own,"onUpdate:modelValue":t[2]||(t[2]=i=>n.own=i),val:"misc",label:"Misc"},null,8,["modelValue"]),d(it),d(oe,{modelValue:n.own,"onUpdate:modelValue":t[3]||(t[3]=i=>n.own=i),val:"self",label:"Self"},null,8,["modelValue"])]),w("div",mt,[d(C,{flat:"",label:"Add",color:"primary",onClick:s.onClicked},null,8,["onClick"])])])}var pt=Z(at,[["render",gt],["__scopeId","data-v-4940f6c8"]]);function ve(e){return e.button===0}const vt=He({name:"dayCalendar",components:{NavigationBar:Ke,QCalendarDay:Fe,addGoalForm:Qe,GoalyEnd:nt,adHocEvent:pt},data(){return c(null),c(null),c(null),c(null),c(null),c(null),c(),Je(),{currentDate:c(J()),scoreOptions:c([1,2,3,4,5]),chosenScore:c(null),chosenPrio:c(null),events:[],prioOptions:c([]),calendar:c(null),store:je(),anchorTimestamp:c(null),otherTimestamp:c(null),mouseDown:c(!1),mobile:c(!0),timeStartPos:c(0),showGoalForm:c(!1),pickEventDialog:c(!1),addEventDialog:c(!1),adHocEventDialog:c(!0),conflictReso:c(!1),resoType:c(""),toAddE:c(null),disabledScoreEvts:c({}),hasStarted:c({}),disableSaveSchedule:c(!0),reloadSaved:c(!1),loadDefault:c(!0),doSchedule:c(!1),showPrio:c(!1)}},beforeMount(){this.mobile=Ye(),this.events=this.returnNewEvts(!0),this.doReset=!1;let e=this.store.fetchAllPrio();e.size>0&&(this.prioOptions=e.values(),console.log("allPrio",e.values()),this.showPrio=!0)},beforeUnmount(){clearInterval(this.intervalId)},mounted(){this.adjustCurrentTime(),this.intervalId=setInterval(()=>{this.adjustCurrentTime()},6e4)},computed:{chosenScoreLabel(){return this.chosenScore==null?"Score Schedule":`Score > ${this.chosenScore}`},chosenPrioLabel(){return this.chosenPrio==null?"Priority Schedule":`Prio = ${this.chosenPrio}`},showForm(){return this.showGoalForm},doDisableSaveSchedule(){return this.disableSaveSchedule},eventsMap(){const e={};return this.events.forEach(t=>{if(e[t.date]||(e[t.date]=[]),e[t.date].push(t),t.days){console.log(`eventsMap multiple days? event for ${t.date}`,t.days);let o=Y(t.date),l=t.days;do o=D(o,{day:1}),e[o.date]||(e[o.date]=[]),e[o.date].push(t);while(--l>0)}}),e},parentGoalsMap(){const e=new Map;let t=this.store.getMainGoals;return t?(t.forEach(o=>{e.set(o.id,o)}),e):(console.log("parentGoalsMap is empty or null",t),e)},canbeScheduled(){let e=this.deepCopy(this.storedEvents),t=e.filter(o=>!this.events.find(l=>l.id==o.id));return t.length==0?e:t},storedEvents(){return this.store.getSubGoals},storedMainG(){return this.store.getMainGoals},style(){return{top:this.timeStartPos+"px"}},startEndTimes(){const e=[];return this.anchorDayTimeIdentifier!==!1&&this.otherDayTimeIdentifier!==!1&&(this.anchorDayTimeIdentifier<=this.otherDayTimeIdentifier?e.push(N(this.anchorTimestamp),N(this.otherTimestamp)):e.push(N(this.otherTimestamp),N(this.anchorTimestamp))),e},anchorDayTimeIdentifier(){return this.anchorTimestamp!==null?x(this.anchorTimestamp):!1},otherDayTimeIdentifier(){return this.otherTimestamp!==null?x(this.otherTimestamp):!1}},methods:{returnNewEvts(e=!1){if(this.events===this.allEvents&&console.log("returnNewEvts SAME"),e){let t=this.deepCopy(this.storedEvents);return this.allEvents=[...t],t}return this.allEvents},addPropsEventsTo(e,t){let o=this.parentGoalsMap;return t?(t.forEach(l=>{l.date=e!=null?e:l.date;let n=o.get(l.parentGoal);n?(l.bgcolor=n.bgcolor,l.details="from:"+n.title):(console.log("no parent goal for:",l),l.bgcolor="grey",l.details="unknown")}),console.log("addPropsEventsTo",e),t):(this.doNotify("addPropsEventsTo BUT no goals to schedule..."),[])},getTimeNumber(e){return e!==null?x(e):!1},adjustCurrentTime(){const e=I(new Date);if(this.currentDate!==e.date){this.timeStartPos=-10,this.currentTime="";return}if(this.currentDate=e.date,this.currentTime=e.time,this.timeStartPos=this.$refs.calendar.timeStartPos(this.currentTime,!1),this.startTimesSet&&this.startTimesSet.has(e.time)){let t=this.retrieveSameStart(e.time);console.log("sameStart..FOUND",t);for(let o of t)this.hasStarted[o]=!0}if(this.endTimesSet&&this.endTimesSet.has(e.time))this.enableEditScore(e.time),this.doNotify(`WOOO at end of a scheduled event ${e.time}`,"positive");else if(!this.hasUncompletedEvents()){if(!this.disableSaveSchedule)return;this.doNotify("WOOOHOO finished all events","positive"),this.disableSaveSchedule=!1}},hasUncompletedEvents(){for(let e in this.disabledScoreEvts)if(this.disabledScoreEvts[e])return!0;return!1},hasDate(e){return this.currentDate?e.find(t=>t.date===this.currentDate):!1},badgeClasses(e,t){return We(e,t)},badgeStyles(e,t,o=void 0,l=void 0){return ze(e,t,o,l)},getAnEvent(e){for(let t=0;t<this.events.length;t++)if(this.events[t].id===e)return this.events[t];return null},addAnEvent(e){console.log("oooh addAnEvent..ORIG",e,this.currentDate),this.addPropsEventsTo(this.currentDate,[e]),this.events.push(e);let t=D(A(e.date),{minute:B(e.time)}),o=D(t,{minute:e.duration});this.dailyScheduled.set(e.id,{start:t,end:o,on:e.date,originalAt:e.time,for:e.duration,score:e.score}),this.endTimesSet.add(o.time),this.startTimesSet.add(t.time)},updateCurrentSchedule(){const e=new Map;let t=new Set;const o=I(new Date);let l=new Set,n=new Set;return this.events.forEach(s=>{let i=D(A(s.date),{minute:B(s.time)}),a=D(i,{minute:s.duration});e.set(s.id,{start:i,end:a,on:s.date,originalAt:s.time,for:s.duration,score:s.score}),t.add(a.time),n.has(i.time)?l.add({at:i.time,id:s.id}):n.add(i.time),this.canEnableEditScore(s.id,a,o),this.enableEndNowBtn(s.id,i,a)}),this.dailyScheduled=e,this.endTimesSet=t,this.startTimesSet=n,l},canEnableEditScore(e,t,o=null){const l=o||I(new Date);he(l,t)>0?this.disabledScoreEvts[e]=!0:(this.disabledScoreEvts[e]=!1,this.hasStarted[e]=!1)},enableEndNowBtn(e,t,o){const l=I(new Date);Q(l,t,o,!0)&&(this.hasStarted[e]=!0)},getEvents(e){const t=this.eventsMap[e]||[];if(t.length===1)t[0].side="full";else if(t.length===2){console.log("daEvents...LENGTH is 2?",t);const o=D(A(t[0].date),{minute:B(t[0].time)}),l=D(o,{minute:t[0].duration}),n=D(A(t[1].date),{minute:B(t[1].time)}),s=D(n,{minute:t[1].duration});Q(n,o,l,!0)||Q(s,o,l,!0)?(t[0].side="left",t[1].side="right"):(t[0].side="full",t[1].side="full")}return t},overlapOtherEvent(e,t,o){const l=[];let n=D(t,{minute:0}),s=D(n,{minute:o});console.log("overlapOtherEvent...targetTimes",n.time,s.time);let i=this.getTimeNumber(n),a=this.getTimeNumber(s);return i===!1||a===!1?(console.log("ERROR... overlapOtherEvent targetTimestamp error",t),l):(this.dailyScheduled.forEach((f,g,S)=>{if(g!=e){let r=this.getTimeNumber(f.start),h=this.getTimeNumber(f.end);if(r!==!1&&h!==!1){let y=i>=r&&i<h||a>=r&&a<=h,v=r>=i&&a>=h;(y||v)&&(console.log(`${g} overlapOtherEvent added`,y,v),l.push(g))}else console.log("ERROR... overlapOtherEvent eventTimestamp error",f)}}),l)},recurChangeTime(e,t,o,l=!1){let n=this.dailyScheduled.get(e);if(n){console.log(`dragDirection...target>>${o.time}`);let s=B(o.time)-B(t.time);console.log(`dragDirection...${l}: ${s>0?"DOWN":"UP"}`);let i=null;s>0||l?i=D(o,{minute:parseInt(t.duration)+10}):i=D(o,{minute:-(parseInt(t.duration)+10)});let a=this.overlapOtherEvent(e,i,n.for);if(a.length>0){console.log("WARNING...more overlaps",a,i.time);let y=0,v=a.length,E=this.getAnEvent(e);do console.log("CASCADE recurChangeTime:",a[y],i.time,E.title),this.recurChangeTime(a[y],E,i,l);while(++y<v)}let[f,g]=this.changeEvtSchedule(e,i,!0);console.log("overlappedEvtNew..",f,g,e,i);let S=s>0?D(o,{minute:0}):D(o,{minute:0}),[r,h]=this.changeEvtSchedule(t.id,S,!0);console.log("recurChangeTime complete",r,h,t.id,S)}else console.log("ERROR overlapped event not found!",e)},changeEvtSchedule(e,t,o=!1){let l=this.changeEventTime(e,t,o),n=this.updateScheduleMaps(e,t);return[l,n]},retrieveSameStart(e){let t=[];for(let[o,l]of this.dailyScheduled)l.start.time==e&&t.push(o);return t},retrieveSameEnd(e){let t=[];for(let[o,l]of this.dailyScheduled)l.end.time==e&&(console.log("retrieveSameEnd...FOUND",o,l),t.push(o));return t},enableEditScore(e){let t=this.retrieveSameEnd(e);for(let o of t)this.disabledScoreEvts[o]=!1},updateScheduleMaps(e,t){if(this.dailyScheduled.has(e)){let o=this.dailyScheduled.get(e),l=o.for,n=o.originalAt,s=o.start,i=o.end,a=D(t,{minute:l}),f=o.score;return this.dailyScheduled.set(e,{on:t.date,originalAt:n,for:l,start:t,end:a,score:f}),this.endTimesSet.delete(i.time)?this.endTimesSet.add(a.time):console.log("updateScheduleMaps-endTimesSet NOT FOUND?!?"),this.startTimesSet.delete(s.time)?this.startTimesSet.add(t.time):console.log("updateScheduleMaps-startTimesSet NOT FOUND?!?"),this.canEnableEditScore(e,a),this.enableEndNowBtn(e,t,a),!0}else return console.log("updateScheduleMaps--euh not found?ERROR?",e,t),!1},changeEventTime(e,t,o=!1){console.log("changeEventTime",e,t.time);for(let l=0;l<this.events.length;l++){let n=this.events[l];if(n.id===e)return n.canMove?(n.time=t.time,o||this.$q.dialog({title:"Alert",cancel:"No",message:`Make ${t.time} the default time for ${n.title} ?`}).onOk(()=>{this.store.saveSubProp(e,t.time,null)}).onCancel(()=>{console.log("Nope cool, coolios")})):this.$q.dialog({title:"Alert",cancel:!0,message:`Move evt: ${n.title} around to ${t.time}?`}).onOk(()=>{n.time=t.time}).onCancel(()=>{this.doNotify(`${n.title} Cancelled moving ...`)}),!0}return!1},doRemove(e){let t=this.events.length;for(var o=0;o<t;o++)if(this.events[o].id===e.id){this.events.splice(o,1),console.log("removed event spliced!",e.title),this.dailyScheduled.has(e.id)?this.dailyScheduled.delete(e.id):console.log("ERROR doRemove has no such item?@? ",e);return}},reset(){this.draggedItem=null,this.targetDrop=null,this.toAddE=null,this.chosenScore=null,this.possibleRange=null},doNotify(e,t=void 0,o="top"){this.$q.notify({color:t!==void 0?t:"negative",position:o,message:e,icon:t==null?"report_problem":"thumb_up"})},updateButtons(e=null,t=null,o=null){this.reloadSaved=e!=null?e:this.reloadSaved,this.loadDefault=t!=null?t:this.loadDefault,this.doSchedule=o!=null?o:this.doSchedule},fetchEventsForDate(e){let t=this.store.getEventsForDate(e);if(!t){console.log(`ERROR no evts found for ${e}...`,t);return}let o=this.deepCopy(this.storedEvents),l=[];return o.forEach(n=>{let s=t[n.id];s&&(n.date=e,n.time=s.time,n.duration=s.duration,l.push(n))}),l=this.addPropsEventsTo(null,l),this.events=l,this.updateCurrentSchedule()},isViewingPast(){let e=J();if(this.currentDate&&this.currentDate==e)return this.disableUpdates=!1,!1;let t=fe(A(e));return fe(A(this.currentDate))>=t?(this.disableUpdates=!1,!1):(this.disableUpdates=!0,!0)},onRefresh(e){setTimeout(()=>{this.loadSavedEvents(this.currentDate),console.log("Refreshing...",this.currentDate),e()},1e3)},doSaveSchedule(){console.log("doSaveSchedule for",this.currentDate);const e={};this.dailyScheduled.forEach((t,o,l)=>{e[o]={duration:t.for,time:t.start.time}}),this.store.saveDailySchedule(this.currentDate,e),this.disableSaveSchedule=!0,this.doNotify(`doSaveSchedule for ${this.currentDate}`,"positive","top")},onAddNewEvent(e,t,o){console.log("Adding Event eh...",e,t,o,this.possibleRange),this.possibleRange||(this.possibleRange=this.startEndTimes);let l=Y(this.possibleRange[0]),n=D(Y(this.possibleRange[1]),{minute:15}),s=Math.floor(he(l,n)/1e3/60),i=null;if(o=="self"){let a=this.store.addMainGoal(e,"","orange",2);a?(console.log("wooh parent created",a),i=this.store.addSubGoal(a,e,"1on5",l.time,s,!1)):console.log("ERROR? no pID",a)}else if(t)i=this.store.addSubGoal(t.id,e,"1on5",l.time,s,!1);else{let a=this.store.getGoalByTitle("Misc");if(a)console.log("Woo found Misc pgoal",a),i=this.store.addSubGoal(a.id,e,"1on5",l.time,s,!1);else{console.log("ERROR? no Misc pgoal",this.storedMainG);let f=this.store.addMainGoal("Misc","","purple",2);i=this.store.addSubGoal(f,e,"1on5",l.time,s,!1)}}i?(this.addAnEvent({id:i,time:l.time,score:"1on5",duration:s,canMove:!1}),this.doSaveSchedule()):console.log("BOO ERROR no subID:(",i),this.addEventDialog=!1,this.reset()},onChooseEvent(){this.addEventDialog=!1,this.pickEventDialog=!0},onPickEvent(){console.log("I be picking",this.toAddE,this.targetDrop,this.currentDate,this.isViewingPast()),this.pickEventDialog=!1,this.draggedItem=this.toAddE;let e=this.getAnEvent(this.toAddE.id);e||(console.log("onAddEvent...NEW",e,this.toAddE),e=this.toAddE,this.addAnEvent(this.toAddE));let t=this.overlapOtherEvent(e.id,this.targetDrop.timestamp,e.duration);console.log("AddEvent anyOverlap",t);let o=t.length;if(o>0){let l=0;do this.recurChangeTime(t[l],e,this.targetDrop.timestamp,!0);while(++l<o)}else if(this.dailyScheduled.has(e.id)){let[l,n]=this.changeEvtSchedule(e.id,this.targetDrop.timestamp,!1);console.log("AddEvent that was there complete",l,n,e.id)}else console.log("ERROR ERROR NEW event with current events as:",this.events);this.disableSaveSchedule=!1,this.updateButtons(null,!0,!0),this.reset()},onPickConflictReso(e,t){for(let o of t)o.id==e.id?console.log("Skipping choice!",o):(console.log("Removing conflict event!",o),this.doRemove(o))},onEndNow(e){const t=I(new Date);if(console.log("oooh doEndNow!!!",e,t.time),this.dailyScheduled.has(e)){let o=this.dailyScheduled.get(e),l=o.start,n=o.end;if(Q(t,l,n,!0)){let s=this.getTimeNumber(n)-this.getTimeNumber(l),i=this.getTimeNumber(t)-this.getTimeNumber(l);console.log("end data be:",n,l,o),console.log("Great, REDUCING duration to:",s,i);for(let a=0;a<this.events.length;a++){let f=this.events[a];f.id===e&&(f.duration=i)}this.dailyScheduled.set(e,{...o,for:i,end:t}),this.endTimesSet.delete(n.time),this.endTimesSet.add(t.time)}else console.log("umm aint in the middle of this event! Nothing to do...",t.time,l.time,n.time)}else{console.log("ERROR doEndNow not found!!!",e);return}this.disabledScoreEvts[e]=!1},onSaveScore(e,t){let o=this.dailyScheduled.get(t);if(o){o.score=e,this.store.saveSubProp(t,null,e);let n=(s=>this.events.find(i=>i.id==s))(t);n?n.score=e:console.log("onSaveScore ERROR not found",n,t)}else console.log(`ERROR onSaveScore could not find event ${t}?!?`)},onDragStart(e,t){if(console.log("onDragStart",e,t,this.currentDate),this.isViewingPast()){this.doNotify("Editing past is no no!"),e.preventDefault();return}this.draggedItem=t},onDragEnter(e,t,o){return t==="goal-item"?(console.log("onDragEnter..goal-item",e,o),e.preventDefault()):(this.targetDrop=o,e.preventDefault()),!0},onDragOver(e,t,o){return e.preventDefault(),!0},onDragLeave(e,t,o){return!1},onDragEnd(e){console.log("onDragEnd",this.endTimesSet,this.startTimesSet)},onDrop(e,t,o){console.log("onDrop",e,t,o);let l=this.getAnEvent(this.draggedItem.id);if(!l){console.log("onDrop ERROR",l,this.draggedItem);return}let n=null;if(t==="interval")console.log("onDrop...normal move with scope",o.timestamp),n=o.timestamp;else if(t==="goal-item"&&this.targetDrop)console.log("Dropping goal-item!!",e,t,this.targetDrop.timestamp),n=this.targetDrop.timestamp;else{console.log("Cannot drop here YO!!",e,t,o,this.targetDrop);return}if(!n){console.log("ERROR...no timestamp YO!!",e,t,o,this.targetDrop);return}let s=this.overlapOtherEvent(l.id,n,l.duration),i=s.length;if(i>0){console.log("WOAH WOAH onDrop...overlapp!",s);let a=0;do this.recurChangeTime(s[a],l,n);while(++a<i)}else{let[a,f]=this.changeEvtSchedule(l.id,n,!1);console.log("onDrop no overlap complete",a,f,l.id)}this.disableSaveSchedule=!1,this.reset(),this.updateButtons(null,!0,null)},onDblClickEvent(e,t){if(this.isViewingPast()){this.doNotify("Removing from the past is a no no!"),e.preventDefault();return}this.$q.dialog({title:"Alert",cancel:!0,message:`Sure to remove evt: ${t.title} from today?`}).onOk(()=>{this.doRemove(t),this.updateCurrentSchedule(),this.updateButtons(null,!0,null),this.disableSaveSchedule=!1}).onCancel(()=>{console.log("Cancelled remove")})},onClickDate(e){console.log("onClickDate",e)},onClickTime(e){if(console.log("onClickTime..event",e),this.isViewingPast()){this.doNotify("Adding to the past is a no no!");return}this.addEventDialog=!0,this.targetDrop=e.scope},onClickInterval(e){console.log("onClickInterval",e)},onClickHeadIntervals(e){console.log("onClickHeadIntervals",e)},onClickHeadDay(e){console.log("onClickHeadDay",e)},onMouseEnter(e){console.log("onMouseAt",e)},onMouseLeave(e){console.log("onMouseLeave",JSON.stringify(e))},onMouseDownTime({scope:e,event:t}){if(console.log("onMouseDownTime",{scope:e,event:t}),ve(t)){if(console.log("onMouseDownTime and its a leftClick event"),this.mobile===!0&&this.anchorTimestamp!==null&&this.otherTimestamp!==null&&N(this.anchorTimestamp)===N(this.otherTimestamp)){this.otherTimestamp=e.timestamp,this.mouseDown=!1;return}this.mouseDown=!0,this.anchorTimestamp=e.timestamp,this.otherTimestamp=e.timestamp}},onMouseUpTime({scope:e,event:t}){if(console.log("onMouseUpTime",{scope:e,event:t}),this.mobile!==!0&&ve(t)&&(this.otherTimestamp=e.timestamp,this.mouseDown=!1),!this.mousedown){let o=this.startEndTimes;if(o[1]==o[0])return;this.possibleRange=o,console.log("onMouseUpTime range change",this.possibleRange)}},onMouseMoveTime({scope:e,event:t}){this.mobile!==!0&&this.mouseDown===!0&&(this.otherTimestamp=e.timestamp)},scrollToEvent(e){this.$refs.calendar.scrollToTime(e.time,350)},onToday(){this.$refs.calendar.moveToToday()},onPrev(){this.doReset=!0,this.$refs.calendar.prev()},onNext(){this.doReset=!0,this.$refs.calendar.next()},onChange(e){let t=this.store.hasEventsForDate(this.currentDate),o=J();if(e.start==this.currentDate&&this.currentDate==o){console.log("onChange today and hasEvents?",t),t?(this.fetchEventsForDate(this.currentDate),this.updateButtons(!1,!0,!1),this.reset()):this.updateCurrentSchedule(),this.doReset=!1;return}else{console.log("onChange..different day",e.start,this.currentDate,o,t),this.askUser(t);return}},loadSaved(e){console.log("loadSaved",e,this.events,this.doReset),this.events=this.addPropsEventsTo(e,this.doReset?this.returnNewEvts(!0):this.events);let t=this.updateCurrentSchedule();t.size>0&&this.onReloadSaved(t),this.updateButtons(!1,!0,!1)},askUser(e){let t=e?"Some Defaults found load":"Skippin as nothin...",o=()=>{let l=this.fetchEventsForDate(this.currentDate);l.size>0&&(e?this.onReloadSaved(l):this.fixConflicts(l)),this.updateButtons(!1,!1,!0),this.disableSaveSchedule=!1};this.$q.dialog({title:"Alert",cancel:!0,message:t}).onOk(()=>{e?o():console.log("nada...")}).onCancel(()=>{console.log("Cancelled Default loading!")})},fixConflicts(e){const t=n=>{let s=0,i=null;for(let a of n){let f=this.getAnEvent(a);if(f){let g=this.parentGoalsMap.get(f.parentGoal);g?g.priority>s&&(s=g.priority,i=f):console.log("findhigherPrio..ERROR no PARENT found?",f)}else console.log("findhigherPrio..ERROR not found?",a)}return console.log("findhigherPrio..Highest priority be",i,s),i};let o=function(n){const s=n.split(/on/);return s.length!=2?(console.log(`parseScore error?${n}`,s),-1):s[1]-s[0]};const l=n=>({label:n.title+" at "+n.score,value:n.id});for(let n of e){let s=null,i=this.retrieveSameStart(n.at);console.log("fixConflicts...results",i,n);let a=[],f="";for(let g of i){let S=this.getAnEvent(g);S?(a.push(S),f+=S.title+","):console.log("fixConflicts...ERROR not found?",g)}this.$q.dialog({title:"Alert",cancel:!1,persistent:!0,message:`${f} are conflicting.
 Choose how to solve this...`,options:{type:"radio",model:"opt1",items:[{label:"Resolve by Highest Priority",value:"opt1",color:"secondary"},{label:"Resolve by lowest Score",value:"opt2"},{label:"Pick event",value:"opt3"}]}}).onOk(g=>{if(g=="opt3"){this.$q.dialog({title:"Alert",cancel:!1,persistent:!0,message:"Choose the event to schedule",options:{type:"radio",model:"",items:a.map(l)}}).onOk(r=>{console.log("Chosen Manually",r);let h=this.getAnEvent(r);h?s=h:console.log("ERROR...Manually choice not find",r)}).onCancel(()=>{console.log("Cancelled loading...")}).onDismiss(()=>{console.log("oooh dismissed inner...",s),this.onPickConflictReso(s,a)});let S=this.updateCurrentSchedule();console.log("fixConflicts inner...after conflicts?",S),this.updateButtons(null,!0,null),this.disableSaveSchedule=!1}else if(g=="opt2"){console.log(">>>> OK, Option Score",g);let S=0,r=null;for(let h of a){let y=o(h.score);y>-1&&y>=S?(S=y,r=h):console.log("ERROR...parseScore?",y,h)}r&&(console.log("Option Score Chosen",r),s=r)}else s=t(i),console.log(">>>> OK, Higher prio",g,s);console.log("Pick be",s)}).onCancel(()=>{console.log("Cancelled loading...")}).onDismiss(()=>{if(console.log("Dismissing...",s),s){this.onPickConflictReso(s,a);let g=this.updateCurrentSchedule();console.log("fixConflicts outer...after conflicts?",g),this.updateButtons(null,!0,null),this.disableSaveSchedule=!1}})}return!0},onReloadSaved(e=null){console.log("doReloadSaved:",this.currentDate),this.$q.dialog({title:"Alert",cancel:!0,message:"Some saved schedule found, load it up?"}).onOk(()=>(this.fetchEventsForDate(this.currentDate),this.updateButtons(!1,!0,!1),this.reset(),!0)).onCancel(()=>(console.log("Cancelled loading..."),e&&(console.log("dont wanna reload eh..fix conflicts then",e),this.fixConflicts(e)),this.updateButtons(!0,!1,!0),!1))},onLoadDefault(){this.events=null,console.log("doLoadDefault:",this.currentDate),this.events=this.addPropsEventsTo(this.currentDate,this.returnNewEvts(!0)),this.updateCurrentSchedule();let e=this.store.hasEventsForDate(this.currentDate);this.updateButtons(e,!1,!0),this.disableSaveSchedule=!1,this.chosenScore=null,this.chosenPrio=null},onReloadWithPrio(){if(this.chosenPrio==null){this.doNotify("Ayo select a priority!");return}let t=(o=>{let l=[],n=this.deepCopy(this.storedEvents);console.log("findSamePrio.",o,n);for(let s of n){let i=this.parentGoalsMap.get(s.parentGoal);i.priority==o?l.push(s):console.log("findSamePrio..skipping",i)}return l})(this.chosenPrio);this.events=this.addPropsEventsTo(this.currentDate,t),this.updateButtons(!1,!0,!1),this.disableSaveSchedule=!1},onReloadWithScore(){if(this.chosenScore==null){this.doNotify("Ayo select a score!");return}let e=this.store.fetchGoalsWithMinScore(this.chosenScore);console.log("bringScorey:",this.currentDate,this.chosenScore,e),e=this.addPropsEventsTo(this.currentDate,e),this.events=e,this.updateCurrentSchedule(),this.updateButtons(!1,!0,!0),this.disableSaveSchedule=!1},deepCopy(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(o=>this.deepCopy(o));const t={};for(let o in e)e.hasOwnProperty(o)&&(t[o]=this.deepCopy(e[o]));return t}}}),ee=e=>(we("data-v-d5063a00"),e=e(),De(),e),St={key:0,class:"q-gutter-md"},yt={key:1,class:"subcontent"},bt={class:"float-right"},Et={key:0},wt={key:1},Dt={key:2},Ct={key:3},Tt={class:"row justify-center"},kt={style:{display:"flex","max-width":"800px",width:"100%",height:"400px"}},Rt={style:{display:"flex","justify-content":"center","flex-wrap":"wrap",padding:"2px"}},Ot={class:"title q-calendar__ellipsis"},Pt=["onDblclick","onDragstart"],Mt=ee(()=>w("div",{class:"text-h6"},"Ad hoc or Existing event",-1)),Nt={class:"q-ml-md event-select"},Bt=ee(()=>w("div",{class:"text-h3"},"Pick event",-1)),At={class:"q-ml-md event-select"},qt={class:"row justify-center"},_t=ee(()=>w("br",null,null,-1)),Vt={class:"scroll overflow-auto",style:{height:"360px",width:"100%"}};function $t(e,t,o,l,n,s){const i=$("add-goal-form"),a=$("navigation-bar"),f=$("goaly-end"),g=$("q-calendar-day"),S=$("ad-hoc-event");return p(),b(k,null,[e.showForm?(p(),b("div",St,[d(C,{class:"q-pl-xl justify-center",color:"","text-color":"green",elevated:"",label:"HideForm",onClick:t[0]||(t[0]=r=>e.showGoalForm=!e.showGoalForm),"no-caps":""}),d(i)])):R("",!0),e.showForm?R("",!0):(p(),b("div",yt,[d(Le,{onRefresh:e.onRefresh},{default:m(()=>[d(a,{onToday:e.onToday,onPrev:e.onPrev,onNext:e.onNext},null,8,["onToday","onPrev","onNext"]),w("div",bt,[e.reloadSaved?(p(),b("div",Et,[d(C,{class:"q-mt-xl",color:"","text-color":"green",elevated:"",label:"Load Saved",onClick:e.onReloadSaved,"no-caps":""},null,8,["onClick"])])):R("",!0),e.loadDefault?(p(),b("div",wt,[d(C,{class:"q-mt-xl",color:"","text-color":"blue",elevated:"",label:"Defaults",onClick:e.onLoadDefault,"no-caps":""},null,8,["onClick"])])):R("",!0),e.doSchedule?(p(),b("div",Dt,[d(me,{split:"",color:"",class:"q-mt-xl","text-color":"teal",elevated:"",label:e.chosenScoreLabel,onClick:e.onReloadWithScore,"no-caps":""},{default:m(()=>[d(ae,null,{default:m(()=>[(p(!0),b(k,null,G(e.scoreOptions,r=>ne((p(),M(ue,{key:r.id,clickable:"",onClick:h=>e.chosenScore=r},{default:m(()=>[d(re,null,{default:m(()=>[d(de,null,{default:m(()=>[P(O(r),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[pe]])),128))]),_:1})]),_:1},8,["label","onClick"])])):R("",!0),e.showPrio?(p(),b("div",Ct,[d(me,{split:"",color:"",class:"q-mt-xl","text-color":"teal",elevated:"",label:e.chosenPrioLabel,onClick:e.onReloadWithPrio,"no-caps":""},{default:m(()=>[d(ae,null,{default:m(()=>[(p(!0),b(k,null,G(e.prioOptions,r=>ne((p(),M(ue,{key:r,clickable:"",onClick:h=>e.chosenPrio=r},{default:m(()=>[d(re,null,{default:m(()=>[d(de,null,{default:m(()=>[P(O(r),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[pe]])),128))]),_:1})]),_:1},8,["label","onClick"])])):R("",!0)])]),_:1},8,["onRefresh"]),w("div",Tt,[w("div",kt,[d(g,{ref:"calendar",view:"day",modelValue:e.currentDate,"onUpdate:modelValue":t[5]||(t[5]=r=>e.currentDate=r),"drag-enter-func":e.onDragEnter,"drag-over-func":e.onDragOver,"drag-leave-func":e.onDragLeave,"drop-func":e.onDrop,animated:"",bordered:"",hoverable:"","no-active-date":"","transition-next":"slide-left","transition-prev":"slide-right","time-clicks-clamped":"","interval-minutes":15,"interval-count":96,"interval-height":28,"selected-start-end-dates":e.startEndTimes,onChange:e.onChange,onClickDate:e.onClickDate,onClickTime:e.onClickTime,onClickInterval:e.onClickInterval,onClickHeadIntervals:e.onClickHeadIntervals,onClickHeadDay:e.onClickHeadDay,onMousedownTime:e.onMouseDownTime,onMouseupTime:e.onMouseUpTime,onMousemoveTime:e.onMouseMoveTime},{"head-day-event":m(({scope:{timestamp:r}})=>[w("div",Rt,[(p(!0),b(k,null,G(e.eventsMap[r.date],h=>(p(),b(k,{key:h.id},[h.time?(p(),M(ce,{key:1,class:z(e.badgeClasses(h,"header")),style:q([e.badgeStyles(h,"header"),{margin:"1px",width:"10px","max-width":"10px",height:"10px","max-height":"10px",cursor:"pointer"}]),onClick:y=>e.scrollToEvent(h)},{default:m(()=>[d(X,null,{default:m(()=>[P(O(h.time+" - "+h.title),1)]),_:2},1024)]),_:2},1032,["class","style","onClick"])):(p(),M(ce,{key:0,class:z(e.badgeClasses(h,"header")),style:q([e.badgeStyles(h,"header"),{width:"100%",cursor:"pointer",height:"12px","font-size":"10px",margin:"1px"}])},{default:m(()=>[w("div",Ot,[P(O(h.title)+" ",1),d(X,null,{default:m(()=>[P(O(h.details),1)]),_:2},1024)])]),_:2},1032,["class","style"]))],64))),128))])]),"day-container":m(({scope:{days:r}})=>[e.hasDate(r)?(p(),b(k,{key:0},[w("div",{class:"day-view-current-time-indicator",style:q(e.style)},null,4),w("div",{class:"day-view-current-time-line",style:q(e.style)},null,4)],64)):R("",!0)]),"day-body":m(({scope:{timestamp:r,timeStartPos:h,timeDurationHeight:y}})=>[(p(!0),b(k,null,G(e.getEvents(r.date),v=>(p(),b(k,{key:v.id},[v.time!==void 0?(p(),b("div",{key:0,class:z(["my-event",e.badgeClasses(v,"body")]),style:q(e.badgeStyles(v,"body",h,y)),draggable:!0,onDblclick:K(E=>e.onDblClickEvent(E,v),["prevent"]),onDragstart:K(E=>e.onDragStart(E,v),["stop"]),onDragend:t[1]||(t[1]=K((...E)=>e.onDragEnd&&e.onDragEnd(...E),["stop"])),onDrop:t[2]||(t[2]=E=>e.onDrop(E,"goal-item",e.scope)),onDragenter:t[3]||(t[3]=E=>e.onDragEnter(E,"goal-item",e.scope)),onDragover:t[4]||(t[4]=E=>e.onDragOver(E,"goal-item",e.scope))},[d(f,{disabledScore:e.disabledScoreEvts[v.id],title:v.title,id:v.id,startTime:v.time,score:v.score,details:v.details,happeningNow:e.hasStarted[v.id]?e.hasStarted[v.id]:!1,onEndNow:e.onEndNow,onSaveScore:e.onSaveScore},null,8,["disabledScore","title","id","startTime","score","details","happeningNow","onEndNow","onSaveScore"])],46,Pt)):R("",!0)],64))),128))]),_:1},8,["modelValue","drag-enter-func","drag-over-func","drag-leave-func","drop-func","selected-start-end-dates","onChange","onClickDate","onClickTime","onClickInterval","onClickHeadIntervals","onClickHeadDay","onMousedownTime","onMouseupTime","onMousemoveTime"])]),d(le,{modelValue:e.addEventDialog,"onUpdate:modelValue":t[8]||(t[8]=r=>e.addEventDialog=r),"transition-show":"rotate","transition-hide":"rotate"},{default:m(()=>[e.adHocEventDialog?(p(),M(j,{key:0},{default:m(()=>[d(se,null,{default:m(()=>[Mt]),_:1}),d(ie,{align:"center"},{default:m(()=>[d(C,{flat:"",label:"Add hoc",color:"primary",onClick:t[6]||(t[6]=r=>e.adHocEventDialog=!e.adHocEventDialog)}),d(C,{flat:"",label:"Existing",color:"primary",onClick:e.onChooseEvent},null,8,["onClick"])]),_:1})]),_:1})):(p(),M(j,{key:1},{default:m(()=>[w("div",Nt,[d(S,{mainGoals:e.storedMainG,onSaveEvent:e.onAddNewEvent},null,8,["mainGoals","onSaveEvent"]),d(C,{flat:"",label:"Cancel",color:"primary",onClick:t[7]||(t[7]=r=>e.adHocEventDialog=!e.adHocEventDialog)})])]),_:1}))]),_:1},8,["modelValue"]),d(le,{modelValue:e.pickEventDialog,"onUpdate:modelValue":t[10]||(t[10]=r=>e.pickEventDialog=r),"transition-show":"rotate","transition-hide":"rotate"},{default:m(()=>[d(j,null,{default:m(()=>[d(se,null,{default:m(()=>[Bt]),_:1}),d(Ue),w("div",At,[d(Te,{modelValue:e.toAddE,"onUpdate:modelValue":t[9]||(t[9]=r=>e.toAddE=r),options:e.canbeScheduled,"option-value":"id","option-label":"title",label:"Sub Goal","item-aligned":""},null,8,["modelValue","options"])]),d(ie,{align:"right"},{default:m(()=>[d(C,{flat:"",label:"Add",color:"primary",onClick:e.onPickEvent},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),w("div",qt,[d(C,{class:"q-mt-xl",color:"Green","text-color":"blue",elevated:"",label:"SaveSchedule",disable:e.doDisableSaveSchedule,onClick:e.doSaveSchedule,"no-caps":""},null,8,["disable","onClick"]),d(C,{class:"q-mt-xl",color:"","text-color":"green",elevated:"",label:"ShowForm",onClick:t[11]||(t[11]=r=>e.showGoalForm=!e.showGoalForm),"no-caps":""})]),_t,w("div",Vt,[(p(!0),b(k,null,G(e.storedEvents,(r,h)=>(p(),b("div",{key:h,class:"col-12",style:{"font-size":"10px","line-height":"10px","max-height":"14px","min-height":"14px",padding:"2px 2px","white-space":"nowrap"}},O(r),1))),128))])]))],64)}var zt=Z(vt,[["render",$t],["__scopeId","data-v-d5063a00"]]);export{zt as default};
