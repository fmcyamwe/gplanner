import{j as Sa,c as L,h as i,k as Ha,X as Ra,Y as Va,r as c,Z as Ka,$ as $a,w as ne,b as Wt,a0 as Qa,Q as dt,g as Ft,a1 as Ua,a2 as za,a3 as Ga,a4 as Xa,a5 as Ya,d as Ht,a as Vt,o as Kt,f as At,T as $t,n as Qt,a6 as ja,a7 as Za,_ as Oa,F as Le,M as Ye,J as Ot,P as Tt,I as ge,H as xe,a8 as Rt,a9 as Ja,aa as pa,E as ua,ab as Et,K as it,ac as en,R as kt,S as ia,G as ma,ad as ya,ae as ga,N as tn,af as an,O as nn,ag as ln,U as rn,V as un}from"./index.1553c8f3.js";import{Q as Wa,a as ba,b as dn,c as on,d as sn,e as cn,f as fn,g as vn,h as qa,i as hn}from"./viewAllGoals.c39db0f6.js";import{c as wa,b as mn,d as Aa,e as Ma,f as Da,v as ze,h as St,j as vt,p as he,k as da,l as Be,u as _a,m as Ct,R as Dt,n as Mt,o as Lt,q as xt,r as Ut,s as zt,w as De,t as at,x as Gt,y as Xt,z as Yt,A as ht,B as jt,C as Zt,D as Jt,E as be,F as pt,G as ea,H as nt,I as sa,J as ca,K as de,L as ta,M as aa,O as yn,P as gn,S as _n,Q as bn,N as wn,T as Pt,U as Dn,i as oa}from"./NavigationBar.a288a70d.js";import{u as kn}from"./goalStorage.15e0189c.js";import{u as Sn}from"./use-quasar.a1a5fbdb.js";var Cn=Sa({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const a=L(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(d=>e[d]===!0).map(d=>`q-btn-group--${d}`).join(" ");return`q-btn-group row no-wrap${o.length>0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>i("div",{class:a.value},Ha(t.default))}});const qn=Object.keys(Ra),En=e=>qn.reduce((t,a)=>{const o=e[a];return o!==void 0&&(t[a]=o),t},{});var Tn=Sa({name:"QBtnDropdown",props:{...Ra,...Va,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:a}){const{proxy:o}=Ft(),d=c(e.modelValue),h=c(null),_=Ka(),v=L(()=>{const w={"aria-expanded":d.value===!0?"true":"false","aria-haspopup":"true","aria-controls":_,"aria-label":e.toggleAriaLabel||o.$q.lang.label[d.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(w["aria-disabled"]="true"),w}),M=L(()=>"q-btn-dropdown__arrow"+(d.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),O=L(()=>$a(e)),D=L(()=>En(e));ne(()=>e.modelValue,w=>{h.value!==null&&h.value[w?"show":"hide"]()}),ne(()=>e.split,S);function T(w){d.value=!0,a("beforeShow",w)}function x(w){a("show",w),a("update:modelValue",!0)}function R(w){d.value=!1,a("beforeHide",w)}function $(w){a("hide",w),a("update:modelValue",!1)}function X(w){a("click",w)}function W(w){Ua(w),S(),a("click",w)}function Q(w){h.value!==null&&h.value.toggle(w)}function q(w){h.value!==null&&h.value.show(w)}function S(w){h.value!==null&&h.value.hide(w)}return Object.assign(o,{show:q,hide:S,toggle:Q}),Wt(()=>{e.modelValue===!0&&q()}),()=>{const w=[i(Qa,{class:M.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&w.push(i(Wa,{ref:h,id:_,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:T,onShow:x,onBeforeHide:R,onHide:$},t.default)),e.split===!1?i(dt,{class:"q-btn-dropdown q-btn-dropdown--simple",...D.value,...v.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:X},{default:()=>Ha(t.label,[]).concat(w),loading:t.loading}):i(Cn,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...O.value,glossy:e.glossy,stretch:e.stretch},()=>[i(dt,{class:"q-btn-dropdown--current",...D.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:W},{default:t.label,loading:t.loading}),i(dt,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...v.value,...O.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>w)])}}});function Ea(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Fn=za({name:"close-popup",beforeMount(e,{value:t}){const a={depth:Ea(t),handler(o){a.depth!==0&&setTimeout(()=>{const d=Ga(e);d!==void 0&&Xa(d,o,a.depth)})},handlerKey(o){Ya(o,13)===!0&&a.handler(o)}};e.__qclosepopup=a,e.addEventListener("click",a.handler),e.addEventListener("keyup",a.handlerKey)},updated(e,{value:t,oldValue:a}){t!==a&&(e.__qclosepopup.depth=Ea(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function Ta(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function Hn(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function Rn(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function On(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function La(e,t,a=0){const o=arguments[3]===void 0?performance.now():arguments[3],d=Rn(e);if(a<=0){d!==t&&Ta(e,t);return}requestAnimationFrame(h=>{const _=h-o,v=d+(t-d)/Math.max(_,a)*_;Ta(e,v),v!==t&&La(e,t,a-_,h)})}function xa(e,t,a=0){const o=arguments[3]===void 0?performance.now():arguments[3],d=On(e);if(a<=0){d!==t&&Hn(e,t);return}requestAnimationFrame(h=>{const _=h-o,v=d+(t-d)/Math.max(_,a)*_;setHorizontalScroll(e,v),v!==t&&xa(e,t,a-_,h)})}const Ca={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:ze},intervalMinutes:{type:[Number,String],default:60,validator:ze},intervalStart:{type:[Number,String],default:0,validator:ze},intervalCount:{type:[Number,String],default:24,validator:ze},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},Ba={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:ze},resourceMinHeight:{type:[Number,String],default:70,validator:ze},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},Wn={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:ze},dayMinHeight:{type:[Number,String],default:40,validator:ze}},Ia={modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:ze},resourceMinHeight:{type:[Number,String],default:70,validator:ze},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:ze},noSticky:Boolean};function fa(e,{weekdaySkips:t,times:a,scrollArea:o,parsedStart:d,parsedEnd:h,maxDays:_,size:v,headerColumnRef:M}){const O=L(()=>parseInt(e.intervalStart,10)),D=L(()=>parseInt(e.intervalMinutes,10)),T=L(()=>parseInt(e.intervalCount,10)),x=L(()=>parseFloat(e.intervalHeight)),R=L(()=>{let m=0;return e.cellWidth?m=e.cellWidth:v.width>0&&M.value&&(m=M.value.offsetWidth/(e.columnCount>1?e.columnCount:_.value)),m}),$=L(()=>O.value*D.value),X=L(()=>T.value*x.value),W=L(()=>T.value*R.value),Q=L(()=>Ge(d.value)),q=L(()=>He(h.value)),S=L(()=>wa(d.value,h.value,a.today,t.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,_.value)),w=L(()=>S.value.map(m=>mn(m,O.value,D.value,T.value,a.now)));function Ge(m){return Aa(m,e.weekdays,a.today)}function He(m){return Ma(m,e.weekdays,a.today)}function ke(m,U){return m&&m.length>0&&m.includes(St(U))}function oe(m,U){const N={firstDay:!1,betweenDays:!1,lastDay:!1};if(m&&m.length===2){const J=vt(U),le=vt(he(m[0])),ue=vt(he(m[1]));N.firstDay=le===J,N.lastDay=ue===J,N.betweenDays=le<J&&ue>J}return N}function I(m,U=[],N=[]){const J=ke(U,m),{firstDay:le,lastDay:ue,betweenDays:j}=oe(N,m);return{"q-selected":J,"q-range-first":le===!0,"q-range":j===!0,"q-range-last":ue===!0,"q-disabled-interval disabled":m.disabled===!0}}function z(m,U=[],N=[]){return[]}const me=L(()=>{const m={timeZone:"UTC",hour12:!e.hour24Format,hour:"2-digit",minute:"2-digit"},U={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric",minute:"2-digit"},N={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric"};return Da(e.locale,(J,le)=>le?J.minute===0?N:U:m)}),Ke=L(()=>{const m={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return Da(e.locale,U=>m)});function Ie(m){const U=w.value[0][0];return!(U.hour===m.hour&&U.minute===m.minute)&&m.minute===0}function Oe(m){}function Je(m){}function ot(m,U,N=!1,J=void 0){let le=da(U);const ue=m.currentTarget.getBoundingClientRect(),j=m,ye=m,Z=j.changedTouches||j.touches,Me=((Z&&Z[0]?Z[0].clientY:ye.clientY)-ue.top)/x.value,Se=Math.floor((N?Math.floor(Me):Me)*D.value);return Se!==0&&(le=Be(le,{minute:Se})),J&&_a(le,J,!0),le}function et(m,U,N=!1,J=void 0){let le=da(U);const ue=m.currentTarget.getBoundingClientRect(),j=m,ye=m,Z=j.changedTouches||j.touches,Me=((Z&&Z[0]?Z[0].clientY:ye.clientY)-ue.top)/x.value,Se=Math.floor((N?Math.floor(Me):Me)*D.value);return Se!==0&&(le=Be(le,{minute:Se})),J&&_a(le,J,!0),le}function Xe(m,U,N=!1,J=void 0){let le=da(U);const ue=m.currentTarget.getBoundingClientRect(),j=m,ye=m,Z=j.changedTouches||j.touches,Me=((Z&&Z[0]?Z[0].clientX:ye.clientX)-ue.left)/R.value,Se=Math.floor((N?Math.floor(Me):Me)*D.value);return Se!==0&&(le=Be(le,{minute:Se})),J&&_a(le,J,!0),le}function je(m,U){const N={timestamp:m};return N.timeStartPos=ae,N.timeDurationHeight=Ae,U!==void 0&&(N.columnIndex=U),N}function We(m,U){const N={timestamp:da(m)};return N.timeStartPosX=ee,N.timeDurationWidth=_e,U!==void 0&&(N.index=U),N}function Ce(m,U=0){const N=ae(m);return N===!1||!o.value?!1:(La(o.value,N,U),!0)}function Pe(m,U=0){const N=ee(m);return N===!1||!o.value?!1:(xa(o.value,N,U),!0)}function Ae(m){return m/D.value*x.value}function _e(m){return m/D.value*R.value}function lt(m){return parseInt(m,10)*D.value/x.value}function ve(m){return parseInt(m,10)*D.value/R.value}function ae(m,U=!0){const N=Ct(m);if(N===!1)return!1;const J=$.value,le=T.value*D.value;let j=(N-J)/le*X.value;return U&&(j<0&&(j=0),j>X.value&&(j=X.value)),j}function ee(m,U=!0){const N=Ct(m);if(N===!1)return!1;const J=$.value,le=T.value*D.value;let j=(N-J)/le*W.value;return U&&(j<0&&(j=0),j>W.value&&(j=W.value)),j}return{parsedIntervalStart:O,parsedIntervalMinutes:D,parsedIntervalCount:T,parsedIntervalHeight:x,parsedCellWidth:R,parsedStartMinute:$,bodyHeight:X,bodyWidth:W,parsedWeekStart:Q,parsedWeekEnd:q,days:S,intervals:w,intervalFormatter:me,ariaDateTimeFormatter:Ke,arrayHasDateTime:ke,checkIntervals:oe,getIntervalClasses:I,getResourceClasses:z,showIntervalLabelDefault:Ie,showResourceLabelDefault:Oe,styleDefault:Je,getTimestampAtEventInterval:ot,getTimestampAtEvent:et,getTimestampAtEventX:Xe,getScopeForSlot:je,getScopeForSlotX:We,scrollToTime:Ce,scrollToTimeX:Pe,timeDurationHeight:Ae,timeDurationWidth:_e,heightToMinutes:lt,widthToMinutes:ve,timeStartPos:ae,timeStartPosX:ee}}const va={columnCount:{type:[Number,String],default:0,validator:ze},columnIndexStart:{type:[Number,String],default:0,validator:ze}},na={maxDays:{type:Number,default:1}},la={cellWidth:[Number,String]};function ha(e){return{isSticky:L(()=>e.cellWidth!==void 0)}}var An=Ht({name:"QCalendarAgenda",directives:[Dt],props:{...Mt,...Wn,...va,...na,...Lt,...la,...xt},emits:["update:model-value",...Ut,...zt,...De("-date"),...De("-head-day"),...De("-time")],setup(e,{slots:t,emit:a,expose:o}){const d=c(null),h=c(null),_=c(null),v=c(null),M=c(null),O=c({}),D=c({}),T=c({}),x=c("next"),R=c(at()),$=c("0000-00-00"),X=c(0),W=c(e.modelValue),Q=Vt({width:0,height:0}),q=c(!1),S=c(null),w=c(null);ne(()=>e.view,()=>{X.value=0});const Ge=L(()=>e.view==="month"?"month-interval":e.view),He=Ft();if(He===null)throw new Error("current instance is null");const{emitListeners:ke}=Gt(He),{isSticky:oe}=ha(e);ne(oe,r=>{});const{times:I,setCurrent:z,updateCurrent:me}=Xt(e);me(),z();const{weekdaySkips:Ke,parsedStart:Ie,parsedEnd:Oe,dayFormatter:Je,weekdayFormatter:ot,ariaDateFormatter:et,dayStyleDefault:Xe,getRelativeClasses:je}=Yt(e,{startDate:R,endDate:$,times:I}),We=L(()=>ht(e.modelValue,I.now)||Ie.value||I.today);M.value=We.value,v.value=We.value.date;const{renderValues:Ce}=jt(e,{parsedView:Ge,parsedValue:We,times:I}),{rootRef:Pe,scrollWidth:Ae,__initCalendar:_e,__renderCalendar:lt}=Zt(e,Re,{scrollArea:d,pane:h}),{days:ve,parsedCellWidth:ae,getScopeForSlot:ee}=fa(e,{weekdaySkips:Ke,times:I,scrollArea:d,parsedStart:Ie,parsedEnd:Oe,maxDays:X,size:Q,headerColumnRef:_}),{move:m}=pt(e,{parsedView:Ge,parsedValue:We,weekdaySkips:Ke,direction:x,maxDays:X,times:I,emittedValue:W,emit:a}),{getDefaultMouseEventHandlers:U}=ta(a,ke),{checkChange:N}=ea(a,{days:ve,lastStart:S,lastEnd:w}),{isKeyCode:J}=aa(),{tryFocus:le}=Jt(e,{rootRef:Pe,focusRef:v,focusValue:M,datesRef:O,days:ve,parsedView:Ge,parsedValue:We,emittedValue:W,weekdaySkips:Ke,direction:x,times:I}),ue=L(()=>ve.value.length+(j.value===!0?e.leftColumnOptions.length:0)+(ye.value===!0?e.rightColumnOptions.length:0)+ve.value.length===1&&parseInt(e.columnCount,10)>0?parseInt(e.columnCount,10):0),j=L(()=>e.leftColumnOptions!==void 0&&Array.isArray(e.leftColumnOptions)),ye=L(()=>e.rightColumnOptions!==void 0&&Array.isArray(e.rightColumnOptions)),Z=L(()=>{if(Pe.value){const r=Q.width||Pe.value.getBoundingClientRect().width;if(r&&ue.value)return(r-Ae.value)/ue.value+"px"}return 100/ue.value+"%"});ne([ve],N,{deep:!0,immediate:!0}),ne(()=>e.modelValue,(r,y)=>{if(W.value!==r){if(e.animated===!0){const l=be(he(r)),f=be(he(y));x.value=l>=f?"next":"prev"}W.value=r}v.value=r}),ne(W,(r,y)=>{if(W.value!==e.modelValue){if(e.animated===!0){const l=be(he(r)),f=be(he(y));x.value=l>=f?"next":"prev"}a("update:model-value",r)}}),ne(v,r=>{r&&(M.value=ht(r))}),ne(M,r=>{O.value[v.value]?O.value[v.value].focus():le()}),ne(()=>e.maxDays,r=>{X.value=r}),Kt(()=>{O.value={}}),Wt(()=>{_e()});function $e(){W.value=at()}function Me(r=1){m(r)}function Se(r=1){m(-r)}function tt({width:r,height:y}){Q.width=r,Q.height=y}function Ne(r){return r.date===W.value}function qe(r,y){const l=t["head-column"],f={column:r,index:y,days:ve.value},b=oe.value===!0?e.cellWidth:Z.value,s=e.focusable===!0&&e.focusType.includes("weekday"),C=e.columnOptionsId!==void 0?r[e.columnOptionsId]:void 0,K={maxWidth:b,width:b};return i("div",{key:C,tabindex:s===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":s===!0},style:K,onDragenter:n=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(n,"head-column",f)===!0?q.value=C:q.value="")},onDragover:n=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(n,"head-column",f)===!0?q.value=C:q.value="")},onDragleave:n=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(n,"head-column",f)===!0?q.value=C:q.value="")},onDrop:n=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(n,"head-column",f)===!0?q.value=C:q.value="")},...U("-head-column",(n,g)=>({scope:{column:r,index:y},event:n}))},[e.noDefaultHeaderText!==!0&&_t(r),l&&l(f),nt()])}function _t(r){const y=t["head-column-label"],l={column:r},f=e.columnOptionsLabel!==void 0?r[e.columnOptionsLabel]:r.label,b=i("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[y&&y({scope:l}),!y&&i("span",{class:"ellipsis"},f)]);return e.dateHeader==="stacked"?b:i("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[b])}function Qe(){return i("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":oe.value===!0},style:{marginRight:Ae.value+"px"}},[mt()])}function mt(){return i("div",{ref:_,class:{"q-calendar-agenda__head--days__column":!0}},[st(),rt()])}function st(){return i("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...ct()])}function rt(){const r=t["head-days-events"];return Qt(()=>{if(T.value&&e.columnCount===0&&window)try{const y=window.getComputedStyle(T.value);D.value.parentElement.style.height=y.height,D.value.style.height=y.height}catch{}}),i("div",{class:{"q-calendar-agenda__head--days__event":!0}},[r&&i("div",{ref:D,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[r({scope:{days:ve.value,ref:T}})]),...yt()])}function ct(){return ve.value.length===1&&parseInt(e.columnCount,10)>0?[j.value===!0&&e.leftColumnOptions.map((r,y)=>qe(r,y)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((r,y)=>y+parseInt(e.columnIndexStart,10)).map(r=>gt(ve.value[0],r)),ye.value===!0&&e.rightColumnOptions.map((r,y)=>qe(r,y))]:[j.value===!0&&e.leftColumnOptions.map((r,y)=>qe(r,y)),ve.value.map(r=>gt(r)),ye.value===!0&&e.rightColumnOptions.map((r,y)=>qe(r,y))]}function yt(){return ve.value.length===1&&parseInt(e.columnCount,10)>0?[Array.apply(null,new Array(parseInt(e.columnCount,10))).map((r,y)=>y+parseInt(e.columnIndexStart,10)).map(r=>ut(ve.value[0],r))]:ve.value.map(r=>ut(r))}function gt(r,y){const l=t["head-day"],f=t["head-date"],b=e.noActiveDate!==!0&&Ne(r),s=ee(r,y);s.activeDate=b,s.droppable=q.value===r.date,s.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1;const C=oe.value===!0?e.cellWidth:Z.value,K=e.weekdayStyle||Xe,n={width:C,maxWidth:C,...K({scope:s})};oe.value===!0&&(n.minWidth=C);const g=typeof e.weekdayClass=="function"?e.weekdayClass({scope:s}):{},E=e.focusable===!0&&e.focusType.includes("weekday"),H={key:r.date+(y!==void 0?"-"+y:""),ref:P=>{O.value[r.date]=P},tabindex:E===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,...g,...je(r),"q-active-date":b,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":E===!0},style:n,onDragenter:P=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(P,"head-day",s)===!0?q.value=r.date:q.value="")},onDragover:P=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(P,"head-day",s)===!0?q.value=r.date:q.value="")},onDragleave:P=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(P,"head-day",s)===!0?q.value=r.date:q.value="")},onDrop:P=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(P,"head-day",s)===!0?q.value=r.date:q.value="")},onFocus:P=>{E===!0&&(v.value=r.date)},...U("-head-day",P=>({scope:s,event:P}))};return i("div",H,[l!==void 0&&l({scope:s}),l===void 0&&bt(r),l===void 0&&f&&f({scope:s}),nt()])}function bt(r){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ue(r),e.noDefaultHeaderBtn!==!0&&Ee(r)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ue(r),e.noDefaultHeaderBtn!==!0&&Ee(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ue(r),e.noDefaultHeaderBtn!==!0&&Ee(r)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ue(r),e.noDefaultHeaderBtn!==!0&&Ee(r)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ee(r),e.noDefaultHeaderText!==!0&&Ue(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ee(r),e.noDefaultHeaderText!==!0&&Ue(r)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ee(r),e.noDefaultHeaderText!==!0&&Ue(r)])}function ut(r,y){const l=t["head-day-event"],f=e.noActiveDate!==!0&&Ne(r),b=ee(r,y);b.activeDate=f,b.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1;const s=oe.value===!0?e.cellWidth:Z.value,C={width:s,maxWidth:s};return oe.value===!0&&(C.minWidth=s),i("div",{key:"event-"+r.date+(y!==void 0?"-"+y:""),class:{"q-calendar-agenda__head--day__event":!0,...je(r),"q-active-date":f},style:C},[l&&l({scope:b})])}function Ue(r){const y=t["head-weekday-label"],l=ee(r);l.shortWeekdayLabel=e.shortWeekdayLabel;const f={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",f,y&&y({scope:l})||ft(r,e.shortWeekdayLabel))}function ft(r,y){const l=ot.value(r,y||e.weekdayBreakpoints[0]>0&&ae.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&ae.value<=e.weekdayBreakpoints[1]?sa(l,e.minWeekdayLabel):l)}function Ee(r){const y={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",y,wt(r))}function wt(r){const y=e.noActiveDate!==!0&&Ne(r),l=Je.value(r,!1),f=t["head-day-label"],b=t["head-day-button"],s={dayLabel:l,timestamp:r,activeDate:y,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},C={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":r.current===!0,"q-calendar__focusable":!0},disabled:r.disabled,onKeydown:K=>{r.disabled!==!0&&J(K,[13,32])&&(K.stopPropagation(),K.preventDefault())},onKeyup:K=>{r.disabled!==!0&&J(K,[13,32])&&(W.value=r.date,ke.value.onClickDate!==void 0&&a("click-date",{scope:s}))},...U("-date",(K,n)=>((n==="click-date"||n==="contextmenu-date")&&(W.value=r.date,n==="click-date"&&K.preventDefault()),{scope:s,event:K}))};return e.noAria!==!0&&(C.ariaLabel=et.value(r)),b?b({scope:s}):ca(e,C,f?f({scope:s}):l)}function Ze(){return i("div",{class:"q-calendar-agenda__body"},[k()])}function k(){return oe.value===!0?i("div",{ref:d,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[te()]):e.noScroll===!0?p():i("div",{ref:d,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[p()])}function p(){return i("div",{ref:h,class:"q-calendar-agenda__pane"},[te()])}function te(){const r=t["day-container"];return i("div",{class:"q-calendar-agenda__day-container"},[oe.value===!0&&e.noHeader!==!0&&Qe(),i("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...re()]),r&&r({scope:{days:ve.value}})])}function re(){return ve.value.length===1&&parseInt(e.columnCount,10)>0?[j.value===!0&&e.leftColumnOptions.map((r,y)=>ce(r,y)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((r,y)=>y+parseInt(e.columnIndexStart,10)).map(r=>se(ve.value[0],0,r)),ye.value===!0&&e.rightColumnOptions.map((r,y)=>ce(r,y))]:[j.value===!0&&e.leftColumnOptions.map((r,y)=>ce(r,y)),ve.value.map((r,y)=>se(r)),ye.value===!0&&e.rightColumnOptions.map((r,y)=>ce(r,y))]}function ce(r,y){const l=t.column,f={column:r,days:ve.value,index:y},b=oe.value===!0?e.cellWidth:Z.value,s=e.focusable===!0&&e.focusType.includes("day"),C=e.columnOptionsId!==void 0?r[e.columnOptionsId]:void 0;return i("div",{key:C,tabindex:s===!0?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":s===!0},style:{maxWidth:b,width:b},onDragenter:K=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(K,"column",f)===!0?q.value=C:q.value="")},onDragover:K=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(K,"column",f)===!0?q.value=C:q.value="")},onDragleave:K=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(K,"column",f)===!0?q.value=C:q.value="")},onDrop:K=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(K,"column",f)===!0?q.value=C:q.value="")},...U("-column",(K,n)=>({scope:f,event:K}))},[l&&l({scope:f})])}function se(r,y,l){const f=t.day,b=ee(r,l),s=oe.value===!0?e.cellWidth:Z.value,C={width:s,maxWidth:s};return oe.value===!0&&(C.minWidth=s),C.height=parseInt(e.dayHeight,10)>0?de(parseInt(e.dayHeight,10)):"auto",parseInt(e.dayMinHeight,10)>0&&(C.minHeight=de(parseInt(e.dayMinHeight,10))),i("div",{key:r.date+(l!==void 0?":"+l:""),class:{"q-calendar-agenda__day":!0,...je(r)},style:C},[f&&f({scope:b})])}function Re(){const{start:r,end:y,maxDays:l}=Ce.value;(R.value!==r.date||$.value!==y.date||X.value!==l)&&(R.value=r.date,$.value=y.date,X.value=l);const f=Q.width>0,b=At(i("div",{class:"q-calendar-agenda",key:R.value},[f===!0&&oe.value!==!0&&e.noHeader!==!0&&Qe(),f===!0&&Ze()]),[[Dt,tt]]);if(e.animated===!0){const s="q-calendar--"+(x.value==="prev"?e.transitionPrev:e.transitionNext);return i($t,{name:s,appear:!0},()=>b)}return b}return o({prev:Se,next:Me,move:m,moveToToday:$e,updateCurrent:me}),()=>lt()}}),ka=Ht({name:"QCalendarDay",directives:[Dt],props:{...Mt,...Ca,...va,...na,...Lt,...la,...xt},emits:["update:model-value",...Ut,...zt,...De("-date"),...De("-interval"),...De("-head-intervals"),...De("-head-day"),...De("-time")],setup(e,{slots:t,emit:a,expose:o}){const d=c(null),h=c(null),_=c(null),v=c(null),M=c(null),O=c({}),D=c({}),T=c({}),x=c("next"),R=c(e.modelValue||at()),$=c("0000-00-00"),X=c(0),W=c(e.modelValue),Q=Vt({width:0,height:0}),q=c(!1),S=c(!1),w=c(null),Ge=c(null);ne(()=>e.view,()=>{X.value=0});const He=L(()=>e.view==="month"?"month-interval":e.view),ke=Ft();if(ke===null)throw new Error("current instance is null");const{emitListeners:oe}=Gt(ke),{isSticky:I}=ha(e),{times:z,setCurrent:me,updateCurrent:Ke}=Xt(e);Ke(),me();const{weekdaySkips:Ie,parsedStart:Oe,parsedEnd:Je,dayFormatter:ot,weekdayFormatter:et,ariaDateFormatter:Xe,dayStyleDefault:je,getRelativeClasses:We}=Yt(e,{startDate:R,endDate:$,times:z}),Ce=L(()=>ht(e.modelValue,z.now)||Oe.value||z.today);M.value=Ce.value,v.value=Ce.value.date;const{renderValues:Pe}=jt(e,{parsedView:He,parsedValue:Ce,times:z}),{rootRef:Ae,scrollWidth:_e,__initCalendar:lt,__renderCalendar:ve}=Zt(e,pe,{scrollArea:d,pane:h}),{days:ae,intervals:ee,intervalFormatter:m,ariaDateTimeFormatter:U,parsedCellWidth:N,getIntervalClasses:J,showIntervalLabelDefault:le,styleDefault:ue,getTimestampAtEventInterval:j,getTimestampAtEvent:ye,getScopeForSlot:Z,scrollToTime:$e,heightToMinutes:Me,timeDurationHeight:Se,timeStartPos:tt}=fa(e,{weekdaySkips:Ie,times:z,scrollArea:d,parsedStart:Oe,parsedEnd:Je,maxDays:X,size:Q,headerColumnRef:_}),{move:Ne}=pt(e,{parsedView:He,parsedValue:Ce,weekdaySkips:Ie,direction:x,maxDays:X,times:z,emittedValue:W,emit:a}),{getDefaultMouseEventHandlers:qe}=ta(a,oe),{checkChange:_t}=ea(a,{days:ae,lastStart:w,lastEnd:Ge}),{isKeyCode:Qe}=aa(),{tryFocus:mt}=Jt(e,{rootRef:Ae,focusRef:v,focusValue:M,datesRef:O,days:ae,parsedView:He,parsedValue:Ce,emittedValue:W,weekdaySkips:Ie,direction:x,times:z}),st=L(()=>He.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):He.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:ae.value.length),rt=L(()=>Ae.value?parseInt(getComputedStyle(Ae.value).getPropertyValue("--calendar-intervals-width"),10):0),ct=L(()=>{if(Ae.value){const u=Q.width||Ae.value.getBoundingClientRect().width;if(u&&rt.value&&st.value)return(u-_e.value-rt.value)/st.value+"px"}return 100/st.value+"%"});ne([ae],_t,{deep:!0,immediate:!0}),ne(()=>e.modelValue,(u,F)=>{if(W.value!==e.modelValue){if(e.animated===!0){const B=be(he(u)),V=be(he(F));x.value=B>=V?"next":"prev"}W.value=u}v.value=u}),ne(W,(u,F)=>{if(W.value!==e.modelValue){if(e.animated===!0){const B=be(he(u)),V=be(he(F));x.value=B>=V?"next":"prev"}a("update:model-value",u)}}),ne(v,u=>{u&&(M.value=ht(u))}),ne(M,u=>{O.value[v.value]?O.value[v.value].focus():mt()}),ne(()=>e.maxDays,u=>{X.value=u}),Kt(()=>{O.value={},D.value={},T.value={}}),Wt(()=>{lt()});function yt(){W.value=at()}function gt(u=1){Ne(u)}function bt(u=1){Ne(-u)}function ut({width:u,height:F}){Q.width=u,Q.height=F}function Ue(u){return u.date===W.value}function ft(){return i("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":I.value===!0},style:{marginRight:_e.value+"px"}},[Ee(),wt()])}function Ee(){const u=t["head-intervals"],F={timestamps:ae.value,days:ae.value,date:e.modelValue};return i("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":I.value===!0},...qe("-head-intervals",B=>({scope:F,event:B}))},[u&&u({scope:F})])}function wt(){return i("div",{ref:_,class:{"q-calendar-day__head--days__column":!0}},[Ze(),k()])}function Ze(){return i("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...p()])}function k(){const u=t["head-days-events"];return Qt(()=>{if(T.value&&parseInt(e.columnCount,10)===0&&window)try{const F=window.getComputedStyle(T.value);D.value.parentElement.style.height=F.height,D.value.style.height=F.height}catch{}}),i("div",{class:{"q-calendar-day__head--days__event":!0}},[u&&i("div",{ref:D,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[u({scope:{days:ae.value,ref:T}})]),...te()])}function p(){return ae.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,F)=>F+parseInt(e.columnIndexStart,10)).map(u=>re(ae.value[0],u)):ae.value.map(u=>re(u))}function te(){return ae.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,F)=>F+parseInt(e.columnIndexStart,10)).map(u=>se(ae.value[0],u)):ae.value.map(u=>se(u))}function re(u,F){const B=t["head-day"],V=t["head-date"],G=e.noActiveDate!==!0&&Ue(u),Y=Z(u,F);Y.activeDate=G,Y.droppable=q.value===u.date,Y.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const Te=I.value===!0?e.cellWidth:ct.value,fe=e.weekdayStyle||je,qt={width:Te,maxWidth:Te,minWidth:Te,...fe({scope:Y})};I.value===!0&&(qt.minWidth=Te);const ra=typeof e.weekdayClass=="function"?e.weekdayClass({scope:Y}):{},Bt=e.focusable===!0&&e.focusType.includes("weekday"),Fe=u.date+(F!==void 0?"-"+F:""),It={key:Fe,ref:Ve=>{O.value[Fe]=Ve},tabindex:Bt===!0?0:-1,class:{"q-calendar-day__head--day":!0,...ra,...We(u),"q-active-date":G,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Bt===!0},style:qt,onFocus:Ve=>{Bt===!0&&(v.value=Fe)},onKeydown:Ve=>{u.disabled!==!0&&Qe(Ve,[13,32])&&(Ve.stopPropagation(),Ve.preventDefault())},onKeyup:Ve=>{u.disabled!==!0&&Qe(Ve,[13,32])&&(W.value=u.date)},...qe("-head-day",Ve=>({scope:Y,event:Ve})),onDragenter:Ve=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Ve,"head-day",Y)===!0?q.value=u.date:q.value="")},onDragover:Ve=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Ve,"head-day",Y)===!0?q.value=u.date:q.value="")},onDragleave:Ve=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Ve,"head-day",Y)===!0?q.value=u.date:q.value="")},onDrop:Ve=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Ve,"head-day",Y)===!0?q.value=u.date:q.value="")}};return i("div",It,[B!==void 0&&B({scope:Y}),B===void 0&&f(u,F),B===void 0&&ce(u),B===void 0&&V&&V({scope:Y}),B===void 0&&b(u,F),nt()])}function ce(u){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Re(u),e.noDefaultHeaderBtn!==!0&&y(u)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Re(u),e.noDefaultHeaderBtn!==!0&&y(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Re(u),e.noDefaultHeaderBtn!==!0&&y(u)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Re(u),e.noDefaultHeaderBtn!==!0&&y(u)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&y(u),e.noDefaultHeaderText!==!0&&Re(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&y(u),e.noDefaultHeaderText!==!0&&Re(u)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&y(u),e.noDefaultHeaderText!==!0&&Re(u)])}function se(u,F){const B=t["head-day-event"],V=e.noActiveDate!==!0&&Ue(u),G=Z(u,F);G.activeDate=V,G.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const Y=I.value===!0?de(N.value):ct.value,Te={width:Y,maxWidth:Y,minWidth:Y};return I.value===!0&&(Te.minWidth=Y),i("div",{key:"event-"+u.date+(F!==void 0?"-"+F:""),class:{"q-calendar-day__head--day__event":!0,...We(u),"q-active-date":V},style:Te},[B&&B({scope:G})])}function Re(u){const F=t["head-weekday-label"],B=e.shortWeekdayLabel===!0,V=Z(u);V.shortWeekdayLabel=e.shortWeekdayLabel,V.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const G={class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",G,F&&F({scope:V})||r(u,B))}function r(u,F){const B=et.value(u,F||e.weekdayBreakpoints[0]>0&&N.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&N.value<=e.weekdayBreakpoints[1]?sa(B,e.minWeekdayLabel):B)}function y(u){const F={class:{"q-calendar-day__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",F,l(u))}function l(u){const F=e.noActiveDate!==!0&&Ue(u),B=ot.value(u,!1),V=t["head-day-label"],G=t["head-day-button"],Y={dayLabel:B,timestamp:u,activeDate:F,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1},Te={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":u.current===!0,"q-calendar__focusable":!0},disabled:u.disabled,onKeydown:fe=>{u.disabled!==!0&&Qe(fe,[13,32])&&(fe.stopPropagation(),fe.preventDefault())},onKeyup:fe=>{u.disabled!==!0&&Qe(fe,[13,32])&&(W.value=u.date,oe.value.onClickDate!==void 0&&a("click-date",{scope:Y}))},...qe("-date",(fe,qt)=>((qt==="click-date"||qt==="contextmenu-date")&&(W.value=u.date,qt==="click-date"&&fe.preventDefault()),{scope:Y,event:fe}))};return e.noAria!==!0&&(Te.ariaLabel=Xe.value(u)),G?G({scope:Y}):ca(e,Te,V?V({scope:Y}):B)}function f(u,F){const B=t["column-header-before"];if(B)return i("div",{class:"q-calendar-day__column-header--before"},[B({scope:{timestamp:u,columnIndex:F}})])}function b(u,F){const B=t["column-header-after"];if(B)return i("div",{class:"q-calendar-day__column-header--after"},[B({scope:{timestamp:u,columnIndex:F}})])}function s(){return i("div",{class:"q-calendar-day__body"},[C()])}function C(){return I.value===!0?i("div",{ref:d,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[I.value!==!0&&A(),n()]):e.noScroll===!0?K():i("div",{ref:d,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[K()])}function K(){return i("div",{ref:h,class:"q-calendar-day__pane"},[A(),n()])}function n(){const u=t["day-container"];return i("div",{class:"q-calendar-day__day-container"},[I.value===!0&&e.noHeader!==!0&&ft(),i("div",{style:{display:"flex",flexDirection:"row"}},[I.value===!0&&A(),...g()]),u&&u({scope:{days:ae.value}})])}function g(){return ae.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,F)=>F+parseInt(e.columnIndexStart,10)).map(u=>E(ae.value[0],0,u)):ae.value.map((u,F)=>E(u,F))}function E(u,F,B){const V=t["day-body"],G=Z(u,B),Y=I.value===!0?e.cellWidth:ct.value,Te={width:Y,maxWidth:Y,minWidth:Y};return I.value===!0&&(Te.minWidth=Y),i("div",{key:u.date+(B!==void 0?":"+B:""),class:{"q-calendar-day__day":!0,...We(u)},style:Te},[...H(F,B),V&&V({scope:G})])}function H(u,F){return ee.value[u].map(B=>P(B,F))}function P(u,F){const B=de(e.intervalHeight),V=e.intervalStyle||ue,G=t["day-interval"],Y=Z(u,F);Y.droppable=S.value===vt(u);const Te=typeof e.intervalClass=="function"?e.intervalClass({scope:Y}):{},fe=e.focusable===!0&&e.focusType.includes("interval"),ra={key:St(u),tabindex:fe===!0?0:-1,class:{"q-calendar-day__day-interval":u.minute===0,"q-calendar-day__day-interval--section":u.minute!==0,...Te,...J(u,e.selectedDates,e.selectedStartEndDates),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":fe===!0},style:{height:B,...V({scope:Y})},onDragenter:Fe=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Fe,"interval",Y)===!0?S.value=vt(u):S.value="")},onDragover:Fe=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Fe,"interval",Y)===!0?S.value=vt(u):S.value="")},onDragleave:Fe=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Fe,"interval",Y)===!0?S.value=vt(u):S.value="")},onDrop:Fe=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Fe,"interval",Y)===!0?S.value=vt(u):S.value="")},onKeydown:Fe=>{Qe(Fe,[13,32])&&(Fe.stopPropagation(),Fe.preventDefault())},onKeyup:Fe=>{if(Qe(Fe,[13,32])){const It=Z(u,F);W.value=It.timestamp.date,oe.value.onClickTime!==void 0&&a("click-time",{scope:It,event:Fe})}},...qe("-time",Fe=>({scope:Z(j(Fe,u,e.timeClicksClamped,z.now),F),event:Fe}))};e.noAria!==!0&&(ra.ariaLabel=U.value(u));const Bt=G?G({scope:Y}):void 0;return i("div",ra,[Bt,nt()])}function A(){const u={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":I.value===!0},...qe("-interval",F=>({scope:{timestamp:ye(F,Oe.value,e.timeClicksClamped,z.now)},event:F}))};return i("div",u,we())}function we(){return ee.value[0].map(u=>ie(u))}function ie(u){const F=t["interval-label"],B=de(e.intervalHeight),V=e.shortIntervalLabel,Te=(e.showIntervalLabel||le)(u)?m.value(u,V):void 0;return i("div",{key:u.time,class:{"q-calendar-day__interval":u.minute===0,"q-calendar-day__interval--section":u.minute!==0},style:{height:B}},[i("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[F?F({scope:{timestamp:u,label:Te}}):Te])])}function pe(){const{start:u,end:F,maxDays:B}=Pe.value;(R.value!==u.date||$.value!==F.date||X.value!==B)&&(R.value=u.date,$.value=F.date,X.value=B);const V=Q.width>0,G=At(i("div",{key:R.value,class:"q-calendar-day"},[V===!0&&I.value!==!0&&e.noHeader!==!0&&ft(),V&&s()]),[[Dt,ut]]);if(e.animated===!0){const Y="q-calendar--"+(x.value==="prev"?e.transitionPrev:e.transitionNext);return i($t,{name:Y,appear:!0},()=>G)}return G}return o({prev:bt,next:gt,move:Ne,moveToToday:yt,updateCurrent:Ke,timeStartPos:tt,timeDurationHeight:Se,heightToMinutes:Me,scrollToTime:$e}),()=>ve()}});const Pa={dayHeight:{type:[Number,String],default:0,validator:ze},dayMinHeight:{type:[Number,String],default:0,validator:ze},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayPadding:String,minWeeks:{type:[Number,String],validator:ze,default:1},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||ze(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function Mn(e,t,{weekdaySkips:a,times:o,parsedStart:d,parsedEnd:h,size:_,headerColumnRef:v}){const M=L(()=>parseInt(e.minWeeks,10)),O=L(()=>M.value*e.weekdays.length),D=L(()=>w(He(d.value))),T=L(()=>Ge(ke(h.value))),x=L(()=>{let I=0;return e.cellWidth?I=e.cellWidth:_.width>0&&v.value&&(I=v.value.offsetWidth/e.weekdays.length),I}),R=L(()=>wa(D.value,T.value,o.today,a.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER,O.value)),$=L(()=>{const I=o.today,z=w(I),me=Ge(I);return wa(z,me,I,a,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,e.weekdays.length,e.weekdays.length)}),X=L(()=>{const I={timeZone:"UTC",month:"long"},z={timeZone:"UTC",month:"short"};return Da(e.locale,(me,Ke)=>Ke?z:I)}),W=L(()=>{switch(e.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(e.breakpoint,10)}}),Q=L(()=>{switch(e.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return e.monthLabelSize}});let q=!0;const S=L(()=>{const I=e.miniMode===!0||e.miniMode==="auto"&&e.breakpoint!==void 0&&_.width<W.value;return q===!0&&(q=!1,t("mini-mode",I)),I});ne(S,I=>{t("mini-mode",I)});function w(I){return Aa(I,e.weekdays,o.today)}function Ge(I){return Ma(I,e.weekdays,o.today)}function He(I){return yn(I)}function ke(I){return gn(I)}function oe(I){const z=be(I);return z<be(d.value)||z>be(h.value)}return{parsedCellWidth:x,parsedMinWeeks:M,parsedMinDays:O,parsedMonthStart:D,parsedMonthEnd:T,parsedBreakpoint:W,parsedMonthLabelSize:Q,days:R,todayWeek:$,isMiniMode:S,monthFormatter:X,isOutside:oe}}var Ln=Ht({name:"QCalendarMonth",directives:[Dt],props:{...Mt,...Pa,...Lt,...la,...xt},emits:["update:model-value",...Ut,...zt,"mini-mode",...De("-date"),...De("-day"),...De("-head-workweek"),...De("-head-day"),...De("-workweek")],setup(e,{slots:t,emit:a,expose:o}){const d=c(null),h=c(null),_=c(null),v=c(null),M=c(null),O=c({}),D=c([]),T=c([]),x=c("next"),R=c(e.modelValue||at()),$=c("0000-00-00"),X=c(0),W=c(e.modelValue),Q=Vt({width:0,height:0}),q=c(!1),S=c(!1),w=c(null),Ge=c(null),He=L(()=>"month"),ke=Ft();if(ke===null)throw new Error("current instance is null");const{emitListeners:oe}=Gt(ke),{isSticky:I}=ha(e);ne(I,l=>{});const{times:z,setCurrent:me,updateCurrent:Ke}=Xt(e);Ke(),me();const{weekdaySkips:Ie,parsedStart:Oe,parsedEnd:Je,dayFormatter:ot,weekdayFormatter:et,ariaDateFormatter:Xe,dayStyleDefault:je,getRelativeClasses:We}=Yt(e,{startDate:R,endDate:$,times:z}),Ce=L(()=>ht(e.modelValue,z.now)||Oe.value||z.today);M.value=Ce.value,v.value=Ce.value.date;const Pe=L(()=>{const l={};return e.dayPadding!==void 0&&(l.padding=e.dayPadding),l.minWidth=tt.value,l.maxWidth=tt.value,l.width=tt.value,l}),{renderValues:Ae}=jt(e,{parsedView:He,times:z,parsedValue:Ce}),{rootRef:_e,__initCalendar:lt,__renderCalendar:ve}=Zt(e,y,{scrollArea:d,pane:h}),{days:ae,todayWeek:ee,isMiniMode:m,parsedCellWidth:U,parsedMonthLabelSize:N,isOutside:J,monthFormatter:le}=Mn(e,a,{weekdaySkips:Ie,times:z,parsedStart:Oe,parsedEnd:Je,size:Q,headerColumnRef:_}),{move:ue}=pt(e,{parsedView:He,parsedValue:Ce,weekdaySkips:Ie,direction:x,maxDays:X,times:z,emittedValue:W,emit:a}),{getDefaultMouseEventHandlers:j}=ta(a,oe),{checkChange:ye}=ea(a,{days:ae,lastStart:w,lastEnd:Ge}),{isKeyCode:Z}=aa(),{tryFocus:$e}=Jt(e,{rootRef:_e,focusRef:v,focusValue:M,datesRef:O,days:ae,parsedView:He,parsedValue:Ce,emittedValue:W,weekdaySkips:Ie,direction:x,times:z}),Me=L(()=>_e.value&&e.showWorkWeeks===!0?parseInt(getComputedStyle(_e.value).getPropertyValue(m.value===!0?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0),Se=L(()=>e.weekdays.length),tt=L(()=>{if(_e.value){const l=Q.width||_e.value.getBoundingClientRect().width;if(l&&Se.value)return(l-Me.value)/Se.value+"px"}return 100/Se.value+"%"}),Ne=L(()=>e.focusable===!0&&e.focusType.includes("day")&&m.value!==!0),qe=L(()=>e.focusable===!0&&e.focusType.includes("date")&&Ne.value!==!0);ne([ae],ye,{deep:!0,immediate:!0}),ne(()=>e.modelValue,(l,f)=>{if(W.value!==l){if(e.animated===!0){const b=be(he(l)),s=be(he(f));x.value=b>=s?"next":"prev"}W.value=l}v.value=l}),ne(W,(l,f)=>{if(W.value!==e.modelValue){if(e.animated===!0){const b=be(he(l)),s=be(he(f));x.value=b>=s?"next":"prev"}a("update:model-value",l)}}),ne(v,l=>{l&&(M.value=ht(l),W.value!==l&&(W.value=l))}),ne(M,l=>{O.value[v.value]?O.value[v.value].focus():$e()}),Kt(()=>{O.value={},D.value=[],T.value=[],Qt(()=>{yt()})}),Wt(()=>{lt(),yt()});function _t(){W.value=at()}function Qe(l=1){ue(l)}function mt(l=1){ue(-l)}function st({width:l,height:f}){Q.width=l,Q.height=f}function rt(l){return l.date===W.value}function ct(l){for(let f=0;f<l.length;++f)if(l[f].current===!0)return{timestamp:l[f]};return{timestamp:!1}}function yt(){if(!(m.value===!0||e.dayHeight!==0||t.week===void 0)&&window)for(const f in D.value){const b=D.value[f];if(b===void 0)continue;const s=T.value[f];if(s===void 0)continue;const C=window.getComputedStyle(b),K=parseFloat(C.marginTop,10)+parseFloat(C.marginBottom,10);b.clientHeight+K>s.clientHeight&&(s.style.height=b.clientHeight+K+"px")}}function gt(){return i("div",{class:"q-calendar-month__body"},[...k()])}function bt(){return i("div",{role:"presentation",class:"q-calendar-month__head"},[e.showWorkWeeks===!0&&Ue(),i("div",{class:"q-calendar-month__head--wrapper"},[ut()])])}function ut(){return i("div",{ref:_,class:{"q-calendar-month__head--weekdays":!0}},[...ft()])}function Ue(){const l=t["head-workweek"],f={start:Oe.value,end:Je.value,miniMode:m.value};return i("div",{class:"q-calendar-month__head--workweek",...j("-head-workweek",b=>({scope:f,event:b}))},l?l({scope:f}):"#")}function ft(){return ee.value.map((l,f)=>Ee(l,f))}function Ee(l,f){const b=t["head-day"],s=ae.value.filter(ie=>ie.weekday===l.weekday),C=s[0].weekday,n={activeDate:e.noActiveDate!==!0&&rt(l),weekday:C,timestamp:l,days:s,index:f,miniMode:m.value,droppable:q.value===l.weekday,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},g=typeof e.weekdayClass=="function"?e.weekdayClass({scope:n}):{},E=e.focusable===!0&&e.focusType.includes("weekday"),H=tt.value,P=e.weekdayStyle||je,A={width:H,maxWidth:H,minWidth:H,...P({scope:n})},we={key:l.date+(f!==void 0?"-"+f:""),tabindex:E===!0?0:-1,class:{"q-calendar-month__head--weekday":!0,...g,"q-disabled-day disabled":n.disabled===!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":E===!0},style:A,onDragenter:ie=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(ie,"head-day",n)===!0?q.value=l.weekday:q.value="")},onDragover:ie=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(ie,"head-day",n)===!0?q.value=l.weekday:q.value="")},onDragleave:ie=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(ie,"head-day",n)===!0?q.value=l.weekday:q.value="")},onDrop:ie=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(ie,"head-day",n)===!0?q.value=l.weekday:q.value="")},onFocus:ie=>{E===!0&&(v.value=l.date)},...j("-head-day",ie=>({scope:n,event:ie}))};return e.noAria!==!0&&(we.ariaLabel=et.value(l,!1)),i("div",we,[b===void 0&&Ze(l,e.shortWeekdayLabel||m.value),b!==void 0&&b({scope:n}),wt(l,f),E===!0&&nt()])}function wt(l,f){const b=t["head-day-event"],s=e.noActiveDate!==!0&&rt(l),C=ae.value.filter(P=>P.weekday===l.weekday),n={weekday:C[0].weekday,timestamp:l,days:C,index:f,miniMode:m.value,activeDate:s,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},g=tt.value,E=e.weekdayStyle||je,H={width:g,maxWidth:g,minWidth:g,...E({scope:n})};return i("div",{key:"event-"+l.date+(f!==void 0?"-"+f:""),class:{"q-calendar-month__head--event":!0},style:H},[b!==void 0&&b({scope:n})])}function Ze(l,f){const b=et.value(l,f||e.weekdayBreakpoints[0]>0&&U.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar__ellipsis"},m.value===!0&&e.shortWeekdayLabel===!0||e.weekdayBreakpoints[1]>0&&U.value<=e.weekdayBreakpoints[1]?sa(b,e.minWeekdayLabel):b)}function k(){const l=e.weekdays.length,f=[];for(let b=0;b<ae.value.length;b+=l)f.push(p(ae.value.slice(b,b+l),b/l));return f}function p(l,f){const b=t.week,s=e.weekdays,C={week:l,weekdays:s,miniMode:m.value},K={};K.height=e.dayHeight>0&&m.value!==!0?de(parseInt(e.dayHeight,10)):"auto",e.dayMinHeight>0&&m.value!==!0&&(K.minHeight=de(parseInt(e.dayMinHeight,10)));const n=parseInt(e.dayHeight,10)===0&&parseInt(e.dayMinHeight,10)===0;return i("div",{key:l[0].date,ref:g=>{T.value[f]=g},class:{"q-calendar-month__week--wrapper":!0,"q-calendar-month__week--auto-height":n},style:K},[e.showWorkWeeks===!0?te(l):void 0,i("div",{class:"q-calendar-month__week"},[i("div",{class:"q-calendar-month__week--days"},l.map((g,E)=>re(g))),m.value!==!0&&b!==void 0?i("div",{ref:g=>{D.value[f]=g},class:"q-calendar-month__week--events"},b({scope:C})):void 0])])}function te(l){const f=t.workweek,b=l.length>2?l[2]:l[0],{timestamp:s}=ct(l),C=Number(b.workweek).toLocaleString(e.locale),K={workweekLabel:C,week:l,miniMode:m.value};return i("div",{key:b.workweek,class:{"q-calendar-month__workweek":!0,...We(s!==!1?s:b,!1)},...j("-workweek",n=>({scope:K,event:n}))},f?f({scope:K}):C)}function re(l){const f=t.day,b=e.dayStyle||je,s=J(l),C=e.noActiveDate!==!0&&Ce.value.date===l.date,K=s===!1&&e.showMonthLabel===!0&&ae.value.find(A=>A.month===l.month).day===l.day,n={outside:s,timestamp:l,miniMode:m.value,activeDate:C,hasMonth:K,droppable:S.value===l.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},g=Object.assign({...Pe.value},b({scope:n})),E=typeof e.dayClass=="function"?e.dayClass({scope:n}):{},H={key:l.date,ref:A=>{Ne.value===!0&&(O.value[l.date]=A)},tabindex:Ne.value===!0?0:-1,class:{"q-calendar-month__day":!0,...E,...We(l,s,e.selectedDates,e.selectedStartEndDates,e.hover),"q-active-date":C===!0,disabled:e.enableOutsideDays!==!0&&s===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ne.value===!0},style:g,onFocus:A=>{Ne.value===!0&&(v.value=l.date)},onKeydown:A=>{s!==!0&&l.disabled!==!0&&Z(A,[13,32])&&(A.stopPropagation(),A.preventDefault())},onKeyup:A=>{s!==!0&&l.disabled!==!0&&Z(A,[13,32])&&(A.stopPropagation(),A.preventDefault(),oe.value.onClickDay!==void 0&&m.value!==!0&&a("click-day",{scope:n,event:A}))},...j("-day",A=>({scope:n,event:A}))};return s!==!0&&Object.assign(H,{onDragenter:A=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(A,"day",n)===!0?S.value=l.date:S.value="")},onDragover:A=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(A,"day",n)===!0?S.value=l.date:S.value="")},onDragleave:A=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(A,"day",n)===!0?S.value=l.date:S.value="")},onDrop:A=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(A,"day",n)===!0?S.value=l.date:S.value="")}}),e.noAria!==!0&&(H.ariaLabel=Xe.value(l)),i("div",H,[ce(l,s,K),i("div",{class:{"q-calendar-month__day--content":!0}},f?f({scope:n}):void 0),Ne.value===!0&&nt()])}function ce(l,f,b){let s,C;const K=[se(l,f)];m.value!==!0&&b===!0&&Q.width>340&&(C=r(l,f)),m.value!==!0&&e.showDayOfYearLabel===!0&&C===void 0&&Q.width>300&&(s=Re(l,f)),e.dateAlign==="left"?(s!==void 0&&K.push(s),C!==void 0&&K.push(C)):e.dateAlign==="right"?(s!==void 0&&K.unshift(s),C!==void 0&&K.unshift(C)):(s=void 0,C=void 0);const n={class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+e.dateAlign]:s===void 0&&C===void 0,"q-calendar__justify":s!==void 0||C!==void 0}};return i("div",n,K)}function se(l,f){if(f===!0&&e.noOutsideDays===!0)return;const b=ot.value(l,!1),s=t["head-day-label"],C=t["head-day-button"],K=e.selectedDates&&e.selectedDates.length>0&&e.selectedDates.includes(l.date),n=e.noActiveDate!==!0&&rt(l),g={dayLabel:b,timestamp:l,outside:f,activeDate:n,selectedDate:K,miniMode:m.value,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},E={key:l.date,ref:H=>{qe.value===!0&&(O.value[l.date]=H)},tabindex:qe.value===!0?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":l.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":qe.value===!0},disabled:l.disabled===!0||e.enableOutsideDays!==!0&&f===!0,onFocus:H=>{qe.value===!0&&(v.value=l.date)},onKeydown:H=>{f!==!0&&l.disabled!==!0&&Z(H,[13,32])&&(H.stopPropagation(),H.preventDefault())},onKeyup:H=>{qe.value===!0&&f!==!0&&l.disabled!==!0&&Z(H,[13,32])&&(H.stopPropagation(),H.preventDefault(),W.value=l.date,oe.value.onClickDate!==void 0&&a("click-date",{scope:g,event:H}))},...j("-date",(H,P)=>(H.stopPropagation(),(P==="click-date"||P==="contextmenu-date")&&(W.value=l.date),{scope:g,event:H}))};return e.noAria!==!0&&(E.ariaLabel=Xe.value(l)),[C?C({scope:g}):ca(e,E,s?s({scope:g}):b),qe.value===!0&&nt()]}function Re(l,f){if(f===!0&&e.noOutsideDays===!0)return;const b=t["day-of-year"];return i("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},b?b({scope:{timestamp:l}}):l.doy)}function r(l,f){if(f===!0&&e.noOutsideDays===!0)return;const b=t["month-label"],s=le.value(l,e.shortMonthLabel||Q.width<500),C={monthLabel:s,timestamp:l,miniMode:m.value},K={};return m.value!==!0&&N.value!==void 0&&(K.fontSize=N.value),i("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:K},[b?b({scope:C}):m.value!==!0?s:void 0])}function y(){const{start:l,end:f}=Ae.value;R.value=l.date,$.value=f.date;const b=Q.width>0,s=At(i("div",{class:{"q-calendar-mini":m.value===!0,"q-calendar-month":!0},key:R.value},[b===!0&&e.noHeader!==!0&&bt(),b===!0&&gt()]),[[Dt,st]]);if(e.animated===!0){const C="q-calendar--"+(x.value==="prev"?e.transitionPrev:e.transitionNext);return i($t,{name:C,appear:!0},()=>s)}return s}return o({prev:mt,next:Qe,move:ue,moveToToday:_t,updateCurrent:Ke}),()=>ve()}}),xn=Ht({name:"QCalendarResource",props:{...Mt,...Ia,...Ca,...va,...na,...Lt,...xt},emits:["update:model-value","update:model-resources","resource-expanded",...Ut,...zt,...De("-date"),...De("-interval"),...De("-head-day"),...De("-time"),...De("-head-resources"),...De("-resource")],setup(e,{slots:t,emit:a,expose:o}){const d=c(null),h=c(null),_=c(null),v=c(null),M=c(null),O=c(null),D=c({}),T=c({}),x=c("next"),R=c(at()),$=c("0000-00-00"),X=c(0),W=c(e.modelValue),Q=Vt({width:0,height:0}),q=c(!1),S=c(!1),w=c(!1),Ge=c(null),He=c(null);ne(()=>e.view,()=>{X.value=0});const ke=L(()=>e.view==="month"?"month-interval":e.view),oe=L(()=>parseInt(e.cellWidth,10)),I=Ft();if(I===null)throw new Error("current instance is null");const{emitListeners:z}=Gt(I),{times:me,setCurrent:Ke,updateCurrent:Ie}=Xt(e);Ie(),Ke();const{weekdaySkips:Oe,parsedStart:Je,parsedEnd:ot,dayStyleDefault:et}=Yt(e,{startDate:R,endDate:$,times:me}),Xe=L(()=>ht(e.modelValue,me.now)||Je.value||me.today);O.value=Xe.value,M.value=Xe.value.date;const{renderValues:je}=jt(e,{parsedView:ke,times:me,parsedValue:Xe}),{rootRef:We,__initCalendar:Ce,__renderCalendar:Pe}=Zt(e,Ze,{scrollArea:d,pane:h}),{days:Ae,intervals:_e,intervalFormatter:lt,styleDefault:ve,scrollToTimeX:ae,timeDurationWidth:ee,timeStartPosX:m,widthToMinutes:U}=fa(e,{weekdaySkips:Oe,times:me,scrollArea:d,parsedStart:Je,parsedEnd:ot,maxDays:X,size:Q,headerColumnRef:v}),{move:N}=pt(e,{parsedView:ke,parsedValue:Xe,weekdaySkips:Oe,direction:x,maxDays:X,times:me,emittedValue:W,emit:a}),{getDefaultMouseEventHandlers:J}=ta(a,z),{checkChange:le}=ea(a,{days:Ae,lastStart:Ge,lastEnd:He}),{isKeyCode:ue}=aa(),{tryFocus:j}=Jt(e,{rootRef:We,focusRef:M,focusValue:O,datesRef:D,days:Ae,parsedView:ke,parsedValue:Xe,emittedValue:W,weekdaySkips:Oe,direction:x,times:me}),ye=L(()=>{const k=parseInt(e.resourceHeight,10);return k===0?"auto":k}),Z=L(()=>parseInt(e.resourceMinHeight,10)),$e=L(()=>parseInt(e.intervalHeaderHeight,10));ne([Ae],le,{deep:!0,immediate:!0}),ne(()=>e.modelValue,(k,p)=>{if(W.value!==k){if(e.animated===!0){const te=be(he(k)),re=be(he(p));x.value=te>=re?"next":"prev"}W.value=k}M.value=k}),ne(W,(k,p)=>{if(W.value!==e.modelValue){if(e.animated===!0){const te=be(he(k)),re=be(he(p));x.value=te>=re?"next":"prev"}a("update:model-value",k)}}),ne(M,k=>{k&&(O.value=ht(k))}),ne(O,k=>{D.value[M.value]?D.value[M.value].focus():j()}),Kt(()=>{D.value={},T.value={}}),Wt(()=>{Ce()});function Me(){W.value=at()}function Se(k=1){N(k)}function tt(k=1){N(-k)}function Ne({width:k,height:p}){Q.width=k,Q.height=p}function qe(k){return k.date===W.value}function _t(){const k={height:de($e.value)};return i("div",{ref:_,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":e.noSticky!==!0},style:k},[Qe(),mt()])}function Qe(){const k=t["head-resources"],p=de($e.value),te={timestamps:_e,date:e.modelValue,resources:e.modelResources};return i("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":e.noSticky!==!0},style:{height:p},...J("-head-resources",re=>({scope:te,event:re}))},[k&&k({scope:te})])}function mt(){return i("div",{ref:v,class:{"q-calendar-resource__head--intervals":!0}},[_e.value.map(k=>k.map((p,te)=>st(p,te)))])}function st(k,p){const te=t["interval-label"],re=e.noActiveDate!==!0&&qe(k),ce=de(oe.value),se=de($e.value),Re=e.shortIntervalLabel,r=lt.value(k,Re),y={timestamp:k,index:p,label:r};y.droppable=q.value===r;const l=e.intervalStyle||et,f={width:ce,maxWidth:ce,minWidth:ce,height:se,...l({scope:y})},b=typeof e.intervalClass=="function"?e.intervalClass({scope:y}):{},s=e.focusable===!0&&e.focusType.includes("interval");return i("div",{key:r,tabindex:s===!0?0:-1,class:{"q-calendar-resource__head--interval":!0,...b,"q-active-date":re,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":s===!0},style:f,onDragenter:C=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(C,"interval",y)===!0?q.value=r:q.value="")},onDragover:C=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(C,"interval",y)===!0?q.value=r:q.value="")},onDragleave:C=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(C,"interval",y)===!0?q.value=r:q.value="")},onDrop:C=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(C,"interval",y)===!0?q.value=r:q.value="")},onFocus:C=>{s===!0&&(M.value=r)},...J("-interval",C=>({scope:y,event:C}))},[te?te({scope:y}):r,nt()])}function rt(){return i("div",{class:"q-calendar-resource__body"},[ct()])}function ct(){return i("div",{ref:d,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[gt()])}function yt(){return i("div",{},"No resources have been defined")}function gt(){return i("div",{class:"q-calendar-resource__day--container"},[_t(),e.modelResources===void 0&&yt(),e.modelResources!==void 0&&bt()])}function bt(){return i("div",{class:"q-calendar-resource__resources--body"},ut())}function ut(k=void 0,p=0,te=!0){return k===void 0&&(k=e.modelResources),k.map((re,ce)=>Ue(re,ce,p,re.children!==void 0?re.expanded:te))}function Ue(k,p,te=0,re=!0){const ce={};ce.height=ye.value==="auto"?ye.value:de(ye.value),Z.value>0&&(ce.minHeight=de(Z.value));const se=i("div",{key:k[e.resourceKey]+"-"+p,class:{"q-calendar-resource__resource--row":!0},style:ce},[ft(k,p,te,re),Ee(k,p)]);return k.children!==void 0?[se,i("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":re===!0,"q-calendar__child--collapsed":re!==!0}},[ut(k.children,te+1,re===!1?re:k.expanded)])]:[se]}function ft(k,p,te=0,re=!0){const ce=t["resource-label"],se={};se.height=k.height!==void 0?de(parseInt(k.height,10)):ye.value?de(ye.value):"auto",Z.value>0&&(se.minHeight=de(Z.value));const Re=e.resourceStyle||ve,r=k[e.resourceLabel],y=e.focusable===!0&&e.focusType.includes("resource")&&re===!0,l={resource:k,timestamps:_e,resourceIndex:p,indentLevel:te,label:r},f=k[e.resourceKey];l.droppable=S.value===f;const b=typeof e.resourceClass=="function"?e.resourceClass({scope:l}):{};return i("div",{key:k[e.resourceKey]+"-"+p,ref:s=>{T.value[k[e.resourceKey]]=s},tabindex:y===!0?0:-1,class:{"q-calendar-resource__resource":te===0,"q-calendar-resource__resource--section":te!==0,...b,"q-calendar__sticky":e.noSticky!==!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":y===!0},style:{...se,...Re({scope:l})},onDragenter:s=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(s,"resource",l)===!0?S.value=f:S.value="")},onDragover:s=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(s,"resource",l)===!0?S.value=f:S.value="")},onDragleave:s=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(s,"resource",l)===!0?S.value=f:S.value="")},onDrop:s=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(s,"resource",l)===!0?S.value=f:S.value="")},onKeydown:s=>{ue(s,[13,32])&&(s.stopPropagation(),s.preventDefault())},onKeyup:s=>{ue(s,[13,32])&&z.value.onClickResource!==void 0&&a("click-resource",{scope:l,event:s})},...J("-resource",s=>({scope:l,event:s}))},[[i("div",{class:{"q-calendar__parent":k.children!==void 0,"q-calendar__parent--expanded":k.children!==void 0&&k.expanded===!0,"q-calendar__parent--collapsed":k.children!==void 0&&k.expanded!==!0},onClick:s=>{s.stopPropagation(),k.expanded=!k.expanded,a("resource-expanded",{expanded:k.expanded,scope:l})}}),i("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*te+2+"px"}},[ce?ce({scope:l}):r]),nt()]])}function Ee(k,p){const te=t["resource-intervals"],re={resource:k,timestamps:_e,resourceIndex:p,timeStartPosX:m,timeDurationWidth:ee};return i("div",{class:"q-calendar-resource__resource--intervals"},[_e.value.map(ce=>ce.map(se=>wt(k,se,p))),te&&te({scope:re})])}function wt(k,p,te){const re=t["resource-interval"],ce=e.noActiveDate!==!0&&qe(p),se={activeDate:ce,resource:k,timestamp:p,resourceIndex:te},Re=k[e.resourceKey],r=p.time+"-"+Re;se.droppable=w.value===r;const y=e.focusable===!0&&e.focusType.includes("time"),l=e.intervalStyle||et,f=de(oe.value),b={width:f,maxWidth:f,minWidth:f,...l({scope:se})};return b.height=k.height!==void 0?de(parseInt(k.height,10)):ye.value>0?de(ye.value):"auto",Z.value>0&&(b.minHeight=de(Z.value)),i("div",{key:r,ref:s=>{D.value[k[e.resourceKey]]=s},tabindex:y===!0?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":ce,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":y===!0},style:b,onDragenter:s=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(s,"time",se)===!0?w.value=r:w.value="")},onDragover:s=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(s,"time",se)===!0?w.value=r:w.value="")},onDragleave:s=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(s,"time",se)===!0?w.value=r:w.value="")},onDrop:s=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(s,"time",se)===!0?w.value=r:w.value="")},onFocus:s=>{y===!0&&(M.value=r)},...J("-time",s=>({scope:se,event:s}))},[re&&re({scope:se}),nt()])}function Ze(){const{start:k,end:p,maxDays:te}=je.value;(R.value!==k.date||$.value!==p.date||X.value!==te)&&(R.value=k.date,$.value=p.date,X.value=te);const re=Q.width>0,ce=At(i("div",{class:"q-calendar-resource",key:R.value},[re===!0&&rt()]),[[Dt,Ne]]);if(e.animated===!0){const se="q-calendar--"+(x.value==="prev"?e.transitionPrev:e.transitionNext);return i($t,{name:se,appear:!0},()=>ce)}return ce}return o({prev:tt,next:Se,move:N,moveToToday:Me,updateCurrent:Ie,timeStartPosX:m,timeDurationWidth:ee,widthToMinutes:U,scrollToTimeX:ae}),()=>Pe()}}),Bn=Ht({name:"QCalendarScheduler",directives:[Dt],props:{...Mt,...Ba,...va,...na,...Lt,...la,...xt},emits:["update:model-value","update:model-resources","resource-expanded",...Ut,...zt,...De("-date"),...De("-day-resource"),...De("-head-resources"),...De("-head-day"),...De("-resource")],setup(e,{slots:t,emit:a,expose:o}){const d=c(null),h=c(null),_=c(null),v=c(null),M=c(null),O=c({}),D=c({}),T=c({}),x=c({}),R=c("next"),$=c(e.modelValue||at()),X=c("0000-00-00"),W=c(0),Q=c(e.modelValue),q=Vt({width:0,height:0}),S=c(!1),w=c(!1),Ge=c(null),He=c(null);ne(()=>e.view,()=>{W.value=0});const ke=L(()=>e.view==="month"?"month-interval":e.view),oe=Ft();if(oe===null)throw new Error("current instance is null");const{emitListeners:I}=Gt(oe),{isSticky:z}=ha(e),{times:me,setCurrent:Ke,updateCurrent:Ie}=Xt(e);Ie(),Ke();const{weekdaySkips:Oe,parsedStart:Je,parsedEnd:ot,dayFormatter:et,weekdayFormatter:Xe,ariaDateFormatter:je,dayStyleDefault:We,getRelativeClasses:Ce}=Yt(e,{startDate:$,endDate:X,times:me}),Pe=L(()=>ht(e.modelValue,me.now)||Je.value||me.today);M.value=Pe.value,v.value=Pe.value.date;const{renderValues:Ae}=jt(e,{parsedView:ke,parsedValue:Pe,times:me}),{rootRef:_e,scrollWidth:lt,__initCalendar:ve,__renderCalendar:ae}=Zt(e,K,{scrollArea:d,pane:h}),{days:ee,parsedCellWidth:m,styleDefault:U}=fa(e,{weekdaySkips:Oe,times:me,scrollArea:d,parsedStart:Je,parsedEnd:ot,maxDays:W,size:q,headerColumnRef:_}),{move:N}=pt(e,{parsedView:ke,parsedValue:Pe,weekdaySkips:Oe,direction:R,maxDays:W,times:me,emittedValue:Q,emit:a}),{getDefaultMouseEventHandlers:J}=ta(a,I),{checkChange:le}=ea(a,{days:ee,lastStart:Ge,lastEnd:He}),{isKeyCode:ue}=aa(),{tryFocus:j}=Jt(e,{rootRef:_e,focusRef:v,focusValue:M,datesRef:O,days:ee,parsedView:ke,parsedValue:Pe,emittedValue:Q,weekdaySkips:Oe,direction:R,times:me}),ye=L(()=>ke.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):ke.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:ee.value.length),Z=L(()=>_e.value?parseInt(getComputedStyle(_e.value).getPropertyValue("--calendar-resources-width"),10):0),$e=L(()=>{const n=parseInt(e.resourceHeight,10);return n===0?"auto":n}),Me=L(()=>parseInt(e.resourceMinHeight,10)),Se=L(()=>{if(_e.value){const n=q.width||_e.value.getBoundingClientRect().width;if(n&&Z.value&&ye.value)return(n-lt.value-Z.value)/ye.value+"px"}return 100/ye.value+"%"});ne([ee],le,{deep:!0,immediate:!0}),ne(()=>e.modelValue,(n,g)=>{if(Q.value!==e.modelValue){if(e.animated===!0){const E=be(he(n)),H=be(he(g));R.value=E>=H?"next":"prev"}Q.value=n}v.value=n}),ne(Q,(n,g)=>{if(Q.value!==e.modelValue){if(e.animated===!0){const E=be(he(n)),H=be(he(g));R.value=E>=H?"next":"prev"}a("update:model-value",n)}}),ne(v,n=>{n&&(M.value=ht(n))}),ne(M,n=>{O.value[v.value]?O.value[v.value].focus():j()}),ne(()=>e.maxDays,n=>{W.value=n}),Kt(()=>{O.value={},T.value={},x.value={},D.value={}}),Wt(()=>{ve()});function tt(){Q.value=at()}function Ne(n=1){N(n)}function qe(n=1){N(-n)}function _t({width:n,height:g}){q.width=n,q.height=g}function Qe(n){return n.date===Q.value}function mt(){return i("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":z.value===!0},style:{marginRight:lt.value+"px"}},[st(),rt()])}function st(){const n=t["head-resources"],g={days:ee.value,timestamps:ee.value,date:e.modelValue,resources:e.modelResources};return i("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":z.value===!0},...J("-head-resources",E=>({scope:g,event:E}))},[n&&n({scope:g})])}function rt(){return i("div",{ref:_,class:{"q-calendar-scheduler__head--days__column":!0}},[ct(),yt()])}function ct(){return i("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[...gt()])}function yt(){const n=t["head-days-events"];return Qt(()=>{if(x.value&&parseInt(e.columnCount,10)===0&&window)try{const g=window.getComputedStyle(x.value);T.value.parentElement.style.height=g.height,T.value.style.height=g.height}catch{}}),i("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[n&&i("div",{ref:T,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[n({scope:{timestamps:ee.value,days:ee.value,ref:x}})]),...bt()])}function gt(){return ee.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,g)=>g+parseInt(e.columnIndexStart,10)).map(n=>ut(ee.value[0],n)):ee.value.map(n=>ut(n))}function bt(){return ee.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,g)=>g+parseInt(e.columnIndexStart,10)).map(n=>ft(ee.value[0],n)):ee.value.map(n=>ft(n))}function ut(n,g){const E=t["head-day"],H=t["head-date"],P=e.noActiveDate!==!0&&Qe(n),A={timestamp:n,activeDate:P,droppable:S.value===n.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1};g!==void 0&&(A.columnIndex=g);const we=z.value===!0?de(m.value):Se.value,ie=e.weekdayStyle||We,pe={width:we,maxWidth:we,minWidth:we,...ie({scope:A})};z.value===!0&&(pe.minWidth=we);const u=typeof e.weekdayClass=="function"?e.weekdayClass({scope:A}):{},F=e.focusable===!0&&e.focusType.includes("weekday"),B=n.date+(g!==void 0?"-"+g:""),V={key:B,ref:G=>{O.value[B]=G},tabindex:F===!0?0:-1,class:{"q-calendar-scheduler__head--day":!0,...u,...Ce(n),"q-active-date":P,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":F===!0},style:pe,onFocus:G=>{F===!0&&(v.value=B)},onKeydown:G=>{n.disabled!==!0&&ue(G,[13,32])&&(G.stopPropagation(),G.preventDefault())},onKeyup:G=>{n.disabled!==!0&&ue(G,[13,32])&&(Q.value=n.date)},...J("-head-day",G=>({scope:A,event:G})),onDragenter:G=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(G,"head-day",A)===!0?S.value=n.date:S.value="")},onDragover:G=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(G,"head-day",A)===!0?S.value=n.date:S.value="")},onDragleave:G=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(G,"head-day",A)===!0?S.value=n.date:S.value="")},onDrop:G=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(G,"head-day",A)===!0?S.value=n.date:S.value="")}};return i("div",V,[E!==void 0&&E({scope:A}),E===void 0&&p(n,g),E===void 0&&Ue(n),E===void 0&&H&&H({scope:A}),E===void 0&&te(n,g),nt()])}function Ue(n){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ee(n),e.noDefaultHeaderBtn!==!0&&Ze(n)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ee(n),e.noDefaultHeaderBtn!==!0&&Ze(n)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ee(n),e.noDefaultHeaderBtn!==!0&&Ze(n)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ee(n),e.noDefaultHeaderBtn!==!0&&Ze(n)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ze(n),e.noDefaultHeaderText!==!0&&Ee(n)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ze(n),e.noDefaultHeaderText!==!0&&Ee(n)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ze(n),e.noDefaultHeaderText!==!0&&Ee(n)])}function ft(n,g){const E=t["head-day-event"],H=e.noActiveDate!==!0&&Qe(n),P={timestamp:n,activeDate:H,droppable:S.value===n.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1};g!==void 0&&(P.columnIndex=g);const A=z.value===!0?de(m.value):Se.value,we={width:A,maxWidth:A,minWidth:A};return z.value===!0&&(we.minWidth=A),i("div",{key:"event-"+n.date+(g!==void 0?"-"+g:""),class:{"q-calendar-scheduler__head--day__event":!0,...Ce(n),"q-active-date":H},style:we},[E&&E({scope:P})])}function Ee(n){const g=t["head-weekday-label"],E=e.shortWeekdayLabel===!0,H={timestamp:n,shortWeekdayLabel:E},P={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",P,g&&g({scope:H})||wt(n,E))}function wt(n,g){const E=Xe.value(n,g||e.weekdayBreakpoints[0]>0&&m.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&m.value<=e.weekdayBreakpoints[1]?sa(E,e.minWeekdayLabel):E)}function Ze(n){const g={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",g,k(n))}function k(n){const g=e.noActiveDate!==!0&&Qe(n),E=et.value(n,!1),H=t["head-day-label"],P=t["head-day-button"],A={dayLabel:E,timestamp:n,activeDate:g},we={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":n.current===!0,"q-calendar__focusable":!0},disabled:n.disabled,onKeydown:ie=>{n.disabled!==!0&&ue(ie,[13,32])&&(ie.stopPropagation(),ie.preventDefault())},onKeyup:ie=>{n.disabled!==!0&&ue(ie,[13,32])&&(Q.value=n.date,I.value.onClickDate!==void 0&&a("click-date",{scope:A}))},...J("-date",(ie,pe)=>((pe==="click-date"||pe==="contextmenu-date")&&(Q.value=n.date,pe==="click-date"&&ie.preventDefault()),{scope:A,event:ie}))};return e.noAria!==!0&&(we.ariaLabel=je.value(n)),P?P({scope:A}):ca(e,we,H?H({scope:A}):E)}function p(n,g){const E=t["column-header-before"];if(E)return i("div",{class:"q-calendar-scheduler__column-header--before"},[E({scope:{timestamp:n,columnIndex:g}})])}function te(n,g){const E=t["column-header-after"];if(E)return i("div",{class:"q-calendar-scheduler__column-header--after"},[E({scope:{timestamp:n,columnIndex:g}})])}function re(){return i("div",{class:"q-calendar-scheduler__body"},[ce()])}function ce(){return z.value===!0?i("div",{ref:d,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[z.value!==!0&&f(),Re()]):e.noScroll===!0?se():i("div",{ref:d,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[se()])}function se(){return i("div",{ref:h,class:"q-calendar-scheduler__pane"},[Re()])}function Re(){return i("div",{class:"q-calendar-scheduler__day--container"},[z.value===!0&&e.noHeader!==!0&&mt(),r()])}function r(n=void 0,g=0,E=!0){return n===void 0&&(n=e.modelResources),n.map((H,P)=>y(H,P,g,H.children!==void 0?H.expanded:E))}function y(n,g,E=0,H=!0){const P={};P.height=n.height!==void 0?de(parseInt(n.height,10)):$e.value?de($e.value):"auto",Me.value>0&&(P.minHeight=de(Me.value));const A=i("div",{key:n[e.resourceKey]+"-"+g,class:{"q-calendar-scheduler__resource--row":!0},style:P},[l(n,g,E,H),f(n,g,E,H)]);return n.children!==void 0?[A,i("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":H===!0,"q-calendar__child--collapsed":H!==!0}},[r(n.children,E+1,H===!1?H:n.expanded)])]:[A]}function l(n,g,E=0,H=!0){const P=t["resource-label"],A={};A.height=n.height!==void 0?de(parseInt(n.height,10)):$e.value?de($e.value):"auto",parseInt(e.resourceMinHeight,10)>0&&(A.minHeight=de(parseInt(e.resourceMinHeight,10)));const we=e.resourceStyle||U,ie=n[e.resourceLabel],pe=e.focusable===!0&&e.focusType.includes("resource")&&H===!0,u={resource:n,timestamps:ee.value,days:ee.value,resourceIndex:g,indentLevel:E,label:ie},F=n[e.resourceKey];u.droppable=w.value===F;const B=typeof e.resourceClass=="function"?e.resourceClass({scope:u}):{};return i("div",{key:n[e.resourceKey]+"-"+g,ref:V=>{D.value[n[e.resourceKey]]=V},tabindex:pe===!0?0:-1,class:{"q-calendar-scheduler__resource":E===0,"q-calendar-scheduler__resource--section":E!==0,...B,"q-calendar__sticky":z.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":pe===!0},style:{...A,...we({scope:u})},onDragenter:V=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(V,"resource",u)===!0?w.value=F:w.value="")},onDragover:V=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(V,"resource",u)===!0?w.value=F:w.value="")},onDragleave:V=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(V,"resource",u)===!0?w.value=F:w.value="")},onDrop:V=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(V,"resource",u)===!0?w.value=F:w.value="")},onKeydown:V=>{ue(V,[13,32])&&(V.stopPropagation(),V.preventDefault())},onKeyup:V=>{ue(V,[13,32])&&I.value.onClickResource!==void 0&&a("click-resource",{scope:u,event:V})},...J("-resource",V=>({scope:u,event:V}))},[[i("div",{class:{"q-calendar__parent":n.children!==void 0,"q-calendar__parent--expanded":n.children!==void 0&&n.expanded===!0,"q-calendar__parent--collapsed":n.children!==void 0&&n.expanded!==!0},onClick:V=>{V.stopPropagation(),n.expanded=!n.expanded,a("resource-expanded",{expanded:n.expanded,scope:u})}}),i("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*E+2+"px"}},[P?P({scope:u}):ie]),nt()]])}function f(n,g,E=0,H=!0){const P=t["resource-days"],A=z.value===!0?de(m.value):Se.value,we={resource:n,resourceIndex:g,indentLevel:E,expanded:H,cellWidth:A,timestamps:ee.value,days:ee.value},ie={};return ie.height=parseInt(e.resourceHeight,10)>0?de(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(ie.minHeight=de(parseInt(e.resourceMinHeight,10))),i("div",{class:"q-calendar-scheduler__resource--days",style:ie},[...b(n,g,E,H),P&&P({scope:we})])}function b(n,g,E=0,H=!0){return ee.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((P,A)=>A+parseInt(e.columnIndexStart,10)).map(P=>s(ee.value[0],P,n,g,E,H)):ee.value.map(P=>s(P,void 0,n,g,E,H))}function s(n,g,E,H,P=0,A=!0){const we=t.day,ie=e.dayStyle||We,pe=e.noActiveDate!==!0&&Pe.value.date===n.date,u=n.date+":"+E[e.resourceKey]+(g!==void 0?":"+g:""),F=w.value===u,B={timestamp:n,columnIndex:g,resource:E,resourceIndex:H,indentLevel:P,activeDate:pe,droppable:F},V=z.value===!0?de(m.value):Se.value,G={width:V,maxWidth:V,...ie({scope:B})};G.height=parseInt(e.resourceHeight,10)>0?de(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(G.minHeight=de(parseInt(e.resourceMinHeight,10)));const Y=typeof e.dayClass=="function"?e.dayClass({scope:B}):{},Te=e.focusable===!0&&e.focusType.includes("day")&&A===!0;return i("div",{key:n.date+(g!==void 0?":"+g:""),tabindex:Te===!0?0:-1,class:{"q-calendar-scheduler__day":P===0,"q-calendar-scheduler__day--section":P!==0,...Y,...Ce(n),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Te===!0},style:G,onDragenter:fe=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(fe,"day",B)===!0?w.value=u:w.value="")},onDragover:fe=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(fe,"day",B)===!0?w.value=u:w.value="")},onDragleave:fe=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(fe,"day",B)===!0?w.value=u:w.value="")},onDrop:fe=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(fe,"day",B)===!0?w.value=u:w.value="")},onKeydown:fe=>{ue(fe,[13,32])&&(fe.stopPropagation(),fe.preventDefault())},onKeyup:fe=>{ue(fe,[13,32])&&(Q.value=B.timestamp.date,I.value.onClickResource!==void 0&&a("click-resource",{scope:B,event:fe}))},...J("-day-resource",fe=>({scope:B,event:fe}))},[we&&we({scope:B}),nt()])}function C(){return i("div",{},"No resources have been defined")}function K(){const{start:n,end:g,maxDays:E}=Ae.value;($.value!==n.date||X.value!==g.date||W.value!==E)&&($.value=n.date,X.value=g.date,W.value=E);const H=q.width>0,P=e.modelResources&&e.modelResources.length>0,A=At(i("div",{key:$.value,class:"q-calendar-scheduler"},[H===!0&&P===!0&&z.value!==!0&&e.noHeader!==!0&&mt(),H===!0&&P===!0&&re(),P===!1&&C()]),[[Dt,_t]]);if(e.animated===!0){const we="q-calendar--"+(R.value==="prev"?e.transitionPrev:e.transitionNext);return i($t,{name:we,appear:!0},()=>A)}return A}return o({prev:qe,next:Ne,move:N,moveToToday:tt,updateCurrent:Ie}),()=>ae()}});Ht({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...Mt,...Pa,...Lt,...la,...xt,...Ca,...Ba,...Ia,...na,..._n},setup(e,{attrs:t,slots:a,expose:o}){const d=c(null),h=L(()=>{switch(e.mode){case"agenda":return An;case"resource":return xn;case"scheduler":return Bn;case"month":return Ln;case"day":return ka;case"task":return bn;case"day":default:return ka}});function _(){d.value.moveToToday()}function v(S=-1){d.value.move(S)}function M(S=1){d.value.next(S)}function O(S=1){d.value.prev(S)}function D(){d.value.updateCurrent()}function T(S,w=!0){return d.value.timeStartPos(S,w)}function x(S,w=!0){return d.value.timeStartPosX(S,w)}function R(S){return d.value.timeDurationWidth(S)}function $(S){return d.value.timeDurationHeight(S)}function X(S){return d.value.heightToMinutes(S)}function W(S){return d.value.widthToMinutes(minutes)}function Q(S){return d.value.scrollToTime(S)}function q(S){return d.value.scrollToTimeX(S)}return o({prev:O,next:M,move:v,moveToToday:_,updateCurrent:D,timeStartPos:T,timeStartPosX:x,timeDurationWidth:R,timeDurationHeight:$,heightToMinutes:X,widthToMinutes:W,scrollToTime:Q,scrollToTimeX:q}),()=>i(h.value,{ref:d,...e,...t},a)}});const In=()=>!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function Nt(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const a=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const o=e.valueOf();if(Object(o)!==o){const d=new e.constructor(o);return t.set(e,d),d}}return t.set(e,a),e instanceof Set?e.forEach(o=>{a.add(Nt(o,t))}):e instanceof Map&&e.forEach((o,d)=>{a.set(d,Nt(o,t))}),Object.assign(a,...Object.keys(e).map(o=>({[o]:Nt(e[o],t)})))}var Pn=Sa({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:a}){const{proxy:o}=Ft(),{$q:d}=o,h=c(null),_=c(""),v=c("");let M=!1;const O=L(()=>ja({initialValue:_.value,validate:e.validate,set:D,cancel:T,updatePosition:x},"value",()=>v.value,w=>{v.value=w}));function D(){e.validate(v.value)!==!1&&(R()===!0&&(a("save",v.value,_.value),a("update:modelValue",v.value)),$())}function T(){R()===!0&&a("cancel",v.value,_.value),$()}function x(){Qt(()=>{h.value.updatePosition()})}function R(){return Za(v.value,_.value)===!1}function $(){M=!0,h.value.hide()}function X(){M=!1,_.value=Nt(e.modelValue),v.value=Nt(e.modelValue),a("beforeShow")}function W(){a("show")}function Q(){M===!1&&R()===!0&&(e.autoSave===!0&&e.validate(v.value)===!0?(a("save",v.value,_.value),a("update:modelValue",v.value)):a("cancel",v.value,_.value)),a("beforeHide")}function q(){a("hide")}function S(){const w=t.default!==void 0?[].concat(t.default(O.value)):[];return e.title&&w.unshift(i("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&w.push(i("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[i(dt,{flat:!0,color:e.color,label:e.labelCancel||d.lang.label.cancel,onClick:T}),i(dt,{flat:!0,color:e.color,label:e.labelSet||d.lang.label.set,onClick:D})])),w}return Object.assign(o,{set:D,cancel:T,show(w){h.value!==null&&h.value.show(w)},hide(w){h.value!==null&&h.value.hide(w)},updatePosition:x}),()=>{if(e.disable!==!0)return i(Wa,{ref:h,class:"q-popup-edit",cover:e.cover,onBeforeShow:X,onShow:W,onBeforeHide:Q,onHide:q,onEscapeKey:T},S)}}});const Nn={name:"GoalyEnd",props:{disabledScore:Boolean,title:String,id:Number,startTime:String,details:String,score:String,happeningNow:Boolean},emits:["saveScore","endNow"],computed:{aScore:{get(){return this.score},set(e){console.log("aScore getting set",e,this.id),this.$emit("saveScore",e,this.id)}},overdueIconStyle(){return{color:this.daysOver===0?"inherit":"red","max-width":"25px","min-width":"25px"}},userIconStyle(){return{color:this.disabledScore===!0?"red":"blue",cursor:"pointer"}},labelBtnStyle(){return this.disabledScore===!1&&this.happeningNow===!0?"Edit":"EndNow"},endNowBtnStyle(){return{display:this.happeningNow===!0&&this.disabledScore===!0?"block":"none","margin-left":"32em"}}},watch:{title(e){console.log("titleValue:",e)}},methods:{onClicked(){console.log("huh a click doing nothing"),this.$emit("update:model-value",!this.disabledScore)},wannaEnd(){console.log("eeeuh wish to end for",this.id,this.disabledScore,this.happeningNow),this.$emit("endNow",this.id)}}},Vn={class:"title q-calendar__ellipsis"};function Kn(e,t,a,o,d,h){return Le(),Ye("div",Vn,[Ot(Tt(a.title)+" ",1),ge(ba,null,{default:xe(()=>[Ot(Tt(a.startTime+" - "+a.details+" :"+a.score),1)]),_:1}),ge(dt,{"no-caps":"",class:"button",label:h.labelBtnStyle,style:Rt(h.endNowBtnStyle),onClick:h.wannaEnd},null,8,["label","style","onClick"]),ge(Pn,{modelValue:h.aScore,"onUpdate:modelValue":t[0]||(t[0]=_=>h.aScore=_),disable:a.disabledScore,"auto-save":""},{default:xe(_=>[ge(Ja,{modelValue:_.value,"onUpdate:modelValue":v=>_.value=v,dense:"",autofocus:"",onKeyup:pa(_.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:1},8,["modelValue","disable"])])}var $n=Oa(Nn,[["render",Kn],["__scopeId","data-v-32f2e1ee"]]);function Fa(e){return e.button===0}const Qn=Ht({name:"dayCalendar",components:{NavigationBar:wn,QCalendarDay:ka,addGoalForm:dn,GoalyEnd:$n},data(){return c(null),c(null),c(null),c(null),c(null),c(null),c(null),Sn(),{currentDate:c(at()),scoreOptions:c([1,2,3,4,5]),chosenScore:c(null),events:[],calendar:c(null),store:kn(),anchorTimestamp:c(null),otherTimestamp:c(null),mouseDown:c(!1),mobile:c(!0),timeStartPos:c(0),showGoalForm:c(!1),showEventDialog:c(!1),conflictReso:c(!1),resoType:c(""),toAddE:c(null),disabledScoreEvts:c({}),hasStarted:c({}),disableSaveSchedule:c(!0),reloadSaved:c(!1),loadDefault:c(!0),doSchedule:c(!1)}},beforeMount(){this.mobile=In(),this.events=this.returnNewEvts(!0)},beforeUnmount(){clearInterval(this.intervalId)},mounted(){this.adjustCurrentTime(),this.intervalId=setInterval(()=>{this.adjustCurrentTime()},6e4)},computed:{chosenScoreLabel(){return this.chosenScore==null?"Scheduled All":`Schedule >${this.chosenScore}`},showForm(){return this.showGoalForm},doDisableSaveSchedule(){return this.disableSaveSchedule},eventsMap(){const e={};return this.events.forEach(t=>{if(e[t.date]||(e[t.date]=[]),e[t.date].push(t),t.days){console.log(`eventsMap multiple days? event for ${t.date}`,t.days);let a=ht(t.date),o=t.days;do a=Be(a,{day:1}),e[a.date]||(e[a.date]=[]),e[a.date].push(t);while(--o>0)}}),e},parentGoalsMap(){const e=new Map;let t=this.store.getMainGoals;return t?(t.forEach(a=>{e.set(a.id,a)}),e):(console.log("parentGoalsMap is empty or null",t),e)},canbeScheduled(){let e=this.deepCopy(this.storedEvents),t=e.filter(a=>!this.events.find(o=>o.id==a.id));return t.length==0?e:t},storedEvents(){return this.store.getSubGoals},style(){return{top:this.timeStartPos+"px"}},startEndTimes(){const e=[];return this.anchorDayTimeIdentifier!==!1&&this.otherDayTimeIdentifier!==!1&&(this.anchorDayTimeIdentifier<=this.otherDayTimeIdentifier?e.push(St(this.anchorTimestamp),St(this.otherTimestamp)):e.push(St(this.otherTimestamp),St(this.anchorTimestamp))),e},anchorDayTimeIdentifier(){return this.anchorTimestamp!==null?vt(this.anchorTimestamp):!1},otherDayTimeIdentifier(){return this.otherTimestamp!==null?vt(this.otherTimestamp):!1}},methods:{returnNewEvts(e=!1){if(this.events===this.allEvents&&console.log("returnNewEvts SAME"),e){let t=this.deepCopy(this.storedEvents);return this.allEvents=[...t],t}return this.allEvents},addPropsEventsTo(e,t){let a=this.parentGoalsMap;return t?(t.forEach(o=>{o.date=e!=null?e:o.date;let d=a.get(o.parentGoal);d?(o.bgcolor=d.bgcolor,o.details="from:"+d.title):(console.log("no parent goal for:",o),o.bgcolor="red",o.details="unknown")}),console.log("addPropsEventsTo",e),t):(this.doNotify("addPropsEventsTo BUT no goals to schedule..."),[])},getTimeNumber(e){return e!==null?vt(e):!1},adjustCurrentTime(){const e=Pt(new Date);if(this.currentDate!==e.date){this.timeStartPos=-10,this.currentTime="";return}if(this.currentDate=e.date,this.currentTime=e.time,this.timeStartPos=this.$refs.calendar.timeStartPos(this.currentTime,!1),this.startTimesSet&&this.startTimesSet.has(e.time)){let t=this.retrieveSameStart(e.time);console.log("sameStart..FOUND",t);for(let a of t)this.hasStarted[a]=!0}if(this.endTimesSet&&this.endTimesSet.has(e.time))this.enableEditScore(e.time),this.doNotify(`WOOO at end of a scheduled event ${e.time}`,"positive");else if(!this.hasUncompletedEvents()){if(!this.disableSaveSchedule)return;this.doNotify("WOOOHOO finished all events","positive"),this.disableSaveSchedule=!1}},hasUncompletedEvents(){for(let e in this.disabledScoreEvts)if(this.disabledScoreEvts[e])return!0;return!1},hasDate(e){return this.currentDate?e.find(t=>t.date===this.currentDate):!1},badgeClasses(e,t){const a=t==="header";return{[`text-white bg-${e.bgcolor.toLocaleLowerCase()}`]:!0,"full-width":!a&&(!e.side||e.side==="full"),"left-side":!a&&e.side==="left","right-side":!a&&e.side==="right","rounded-border":!0}},badgeStyles(e,t,a=void 0,o=void 0){const d={};return a&&o&&(d.top=a(e.time)+"px",d.height=o(e.duration)+"px"),d["align-items"]="flex-start",d},getAnEvent(e){for(let t=0;t<this.events.length;t++)if(this.events[t].id===e)return this.events[t];return null},addAnEvent(e){console.log("oooh addAnEvent..ORIG",e,this.currentDate),this.addPropsEventsTo(this.currentDate,[e]),this.events.push(e);let t=Be(he(e.date),{minute:Ct(e.time)}),a=Be(t,{minute:e.duration});this.dailyScheduled.set(e.id,{start:t,end:a,on:e.date,originalAt:e.time,for:e.duration,score:e.score}),this.endTimesSet.add(a.time),this.startTimesSet.add(t.time)},updateCurrentSchedule(){const e=new Map;let t=new Set;const a=Pt(new Date);let o=new Set,d=new Set;return this.events.forEach(h=>{let _=Be(he(h.date),{minute:Ct(h.time)}),v=Be(_,{minute:h.duration});e.set(h.id,{start:_,end:v,on:h.date,originalAt:h.time,for:h.duration,score:h.score}),t.add(v.time),d.has(_.time)?o.add({at:_.time,id:h.id}):d.add(_.time),this.canEnableEditScore(h.id,v,a),this.enableEndNowBtn(h.id,_,v)}),this.dailyScheduled=e,this.endTimesSet=t,this.startTimesSet=d,console.log("done updateCurrentSchedule",d,o),o},canEnableEditScore(e,t,a=null){const o=a||Pt(new Date);Dn(o,t)>0?this.disabledScoreEvts[e]=!0:(this.disabledScoreEvts[e]=!1,this.hasStarted[e]=!1)},enableEndNowBtn(e,t,a){const o=Pt(new Date);oa(o,t,a,!0)&&(this.hasStarted[e]=!0)},getEvents(e){const t=this.eventsMap[e]||[];if(t.length===1)t[0].side="full";else if(t.length===2){console.log("daEvents...LENGTH is 2?",t);const a=Be(he(t[0].date),{minute:Ct(t[0].time)}),o=Be(a,{minute:t[0].duration}),d=Be(he(t[1].date),{minute:Ct(t[1].time)}),h=Be(d,{minute:t[1].duration});oa(d,a,o,!0)||oa(h,a,o,!0)?(t[0].side="left",t[1].side="right"):(t[0].side="full",t[1].side="full")}return t},overlapOtherEvent(e,t,a){const o=[];let d=Be(t,{minute:0}),h=Be(d,{minute:a});console.log("overlapOtherEvent...targetTimes",d.time,h.time);let _=this.getTimeNumber(d),v=this.getTimeNumber(h);return _===!1||v===!1?(console.log("ERROR... overlapOtherEvent targetTimestamp error",t),o):(this.dailyScheduled.forEach((M,O,D)=>{if(O!=e){let T=this.getTimeNumber(M.start),x=this.getTimeNumber(M.end);if(T!==!1&&x!==!1){let R=_>=T&&_<x||v>=T&&v<=x,$=T>=_&&v>=x;(R||$)&&(console.log(`${O} overlapOtherEvent added`,R,$),o.push(O))}else console.log("ERROR... overlapOtherEvent eventTimestamp error",M)}}),o)},recurChangeTime(e,t,a,o=!1){let d=this.dailyScheduled.get(e);if(d){console.log(`dragDirection...target>>${a.time}`);let h=Ct(a.time)-Ct(t.time);console.log(`dragDirection...${o}: ${h>0?"DOWN":"UP"}`);let _=null;h>0||o?_=Be(a,{minute:parseInt(t.duration)+10}):_=Be(a,{minute:-(parseInt(t.duration)+10)});let v=this.overlapOtherEvent(e,_,d.for);if(v.length>0){console.log("WARNING...more overlaps",v,_.time);let R=0,$=v.length,X=this.getAnEvent(e);do console.log("CASCADE recurChangeTime:",v[R],_.time,X.title),this.recurChangeTime(v[R],X,_,o);while(++R<$)}let[M,O]=this.changeEvtSchedule(e,_,!0);console.log("overlappedEvtNew..",M,O,e,_);let D=h>0?Be(a,{minute:0}):Be(a,{minute:0}),[T,x]=this.changeEvtSchedule(t.id,D,!0);console.log("recurChangeTime complete",T,x,t.id,D)}else console.log("ERROR overlapped event not found!",e)},changeEvtSchedule(e,t,a=!1){let o=this.changeEventTime(e,t,a),d=this.updateScheduleMaps(e,t);return[o,d]},retrieveSameStart(e){let t=[];for(let[a,o]of this.dailyScheduled)o.start.time==e&&t.push(a);return t},retrieveSameEnd(e){let t=[];for(let[a,o]of this.dailyScheduled)o.end.time==e&&(console.log("retrieveSameEnd...FOUND",a,o),t.push(a));return t},enableEditScore(e){let t=this.retrieveSameEnd(e);console.log("enableEditScore...FOUND",t);for(let a of t)this.disabledScoreEvts[a]=!1},updateScheduleMaps(e,t){if(this.dailyScheduled.has(e)){let a=this.dailyScheduled.get(e),o=a.for,d=a.originalAt,h=a.start,_=a.end,v=Be(t,{minute:o}),M=a.score;return this.dailyScheduled.set(e,{on:t.date,originalAt:d,for:o,start:t,end:v,score:M}),this.endTimesSet.delete(_.time)?this.endTimesSet.add(v.time):console.log("updateScheduleMaps-endTimesSet NOT FOUND?!?"),this.startTimesSet.delete(h.time)?this.startTimesSet.add(t.time):console.log("updateScheduleMaps-startTimesSet NOT FOUND?!?"),this.canEnableEditScore(e,v),this.enableEndNowBtn(e,t,v),!0}else return console.log("updateScheduleMaps--euh not found?ERROR?",e,t),!1},changeEventTime(e,t,a=!1){console.log("changeEventTime",e,t.time);for(let o=0;o<this.events.length;o++){let d=this.events[o];if(d.id===e)return d.canMove?(d.time=t.time,a||this.$q.dialog({title:"Alert",cancel:"No",message:`Make ${t.time} the default time for ${d.title} ?`}).onOk(()=>{this.store.saveSubProp(e,t.time,null)}).onCancel(()=>{console.log("Nope cool, coolios")})):this.$q.dialog({title:"Alert",cancel:!0,message:`Move evt: ${d.title} around to ${t.time}?`}).onOk(()=>{d.time=t.time}).onCancel(()=>{this.doNotify(`${d.title} Cancelled moving ...`)}),!0}return!1},doRemove(e){let t=this.events.length;for(var a=0;a<t;a++)if(this.events[a].id===e.id){this.events.splice(a,1),console.log("removed event spliced!",e.title),this.dailyScheduled.has(e.id)?this.dailyScheduled.delete(e.id):console.log("ERROR doRemove has no such item?@? ",e);return}},reset(){this.draggedItem=null,this.targetDrop=null,this.toAddE=null,this.chosenScore=null},doNotify(e,t=void 0,a="top"){this.$q.notify({color:t!==void 0?t:"negative",position:a,message:e,icon:t==null?"report_problem":"thumb_up"})},updateButtons(e=null,t=null,a=null){this.reloadSaved=e!=null?e:this.reloadSaved,this.loadDefault=t!=null?t:this.loadDefault,this.doSchedule=a!=null?a:this.doSchedule},fetchEventsForDate(e){let t=this.store.getEventsForDate(e);if(!t){console.log(`ERROR no evts found for ${e}...`,t);return}let a=this.deepCopy(this.storedEvents),o=[];a.forEach(d=>{let h=t[d.id];h&&(d.date=e,d.time=h.time,d.duration=h.duration,o.push(d))}),o=this.addPropsEventsTo(null,o),this.events=o,this.updateCurrentSchedule()},isViewingPast(){let e=at();if(this.currentDate&&this.currentDate==e)return this.disableUpdates=!1,!1;let t=be(he(e));return be(he(this.currentDate))>=t?(this.disableUpdates=!1,!1):(this.disableUpdates=!0,!0)},onRefresh(e){setTimeout(()=>{this.loadSavedEvents(this.currentDate),console.log("Refreshing...",this.currentDate),e()},1e3)},doSaveSchedule(){console.log("doSaveSchedule for",this.currentDate);const e={};this.dailyScheduled.forEach((t,a,o)=>{e[a]={duration:t.for,time:t.start.time}}),this.store.saveDailySchedule(this.currentDate,e),this.disableSaveSchedule=!0,this.doNotify(`doSaveSchedule for ${this.currentDate}`,"positive","top")},onAddEvent(){console.log("I be adding",this.toAddE,this.targetDrop,this.currentDate,this.isViewingPast()),this.showEventDialog=!1,this.draggedItem=this.toAddE;let e=this.getAnEvent(this.toAddE.id);e||(console.log("onAddEvent...NEW",e,this.toAddE),e=this.toAddE,this.addAnEvent(this.toAddE));let t=this.overlapOtherEvent(e.id,this.targetDrop.timestamp,e.duration);console.log("AddEvent anyOverlap",t);let a=t.length;if(a>0){let o=0;do this.recurChangeTime(t[o],e,this.targetDrop.timestamp,!0);while(++o<a)}else if(this.dailyScheduled.has(e.id)){let[o,d]=this.changeEvtSchedule(e.id,this.targetDrop.timestamp,!1);console.log("AddEvent that was there complete",o,d,e.id)}else console.log("ERROR ERROR NEW event with current events as:",this.events);this.disableSaveSchedule=!1,this.updateButtons(null,!0,!0),this.reset()},onPickConflictReso(e,t){for(let a of t)a.id==e.id?console.log("Skipping choice!",a):(console.log("Removing conflict event!",a),this.doRemove(a))},onEndNow(e){const t=Pt(new Date);if(console.log("oooh doEndNow!!!",e,t.time),this.dailyScheduled.has(e)){let a=this.dailyScheduled.get(e),o=a.start,d=a.end;if(oa(t,o,d,!0)){let h=this.getTimeNumber(d)-this.getTimeNumber(o),_=this.getTimeNumber(t)-this.getTimeNumber(o);console.log("end data be:",d,o,a),console.log("Great, REDUCING duration to:",h,_);for(let v=0;v<this.events.length;v++){let M=this.events[v];M.id===e&&(M.duration=_)}this.dailyScheduled.set(e,{...a,for:_,end:t}),this.endTimesSet.delete(d.time),this.endTimesSet.add(t.time)}else console.log("umm aint in the middle of this event! Nothing to do...",t.time,o.time,d.time)}else{console.log("ERROR doEndNow not found!!!",e);return}this.disabledScoreEvts[e]=!1},onSaveScore(e,t){let a=this.dailyScheduled.get(t);if(a){a.score=e,this.store.saveSubProp(t,null,e);let d=(h=>this.events.find(_=>_.id==h))(t);d?d.score=e:console.log("onSaveScore ERROR not found",d,t)}else console.log(`ERROR onSaveScore could not find event ${t}?!?`)},onDragStart(e,t){if(console.log("onDragStart",e,t,this.currentDate),this.isViewingPast()){this.doNotify("Editing past is no no!"),e.preventDefault();return}this.draggedItem=t},onDragEnter(e,t,a){return t==="goal-item"?(console.log("onDragEnter..goal-item",e,a),e.preventDefault()):(this.targetDrop=a,e.preventDefault()),!0},onDragOver(e,t,a){return e.preventDefault(),!0},onDragLeave(e,t,a){return!1},onDragEnd(e){console.log("onDragEnd",this.endTimesSet,this.startTimesSet)},onDrop(e,t,a){console.log("onDrop",e,t,a);let o=this.getAnEvent(this.draggedItem.id);if(!o){console.log("onDrop ERROR",o,this.draggedItem);return}let d=null;if(t==="interval")console.log("onDrop...normal move with scope",a.timestamp),d=a.timestamp;else if(t==="goal-item"&&this.targetDrop)console.log("Dropping goal-item!!",e,t,this.targetDrop.timestamp),d=this.targetDrop.timestamp;else{console.log("Cannot drop here YO!!",e,t,a,this.targetDrop);return}if(!d){console.log("ERROR...no timestamp YO!!",e,t,a,this.targetDrop);return}let h=this.overlapOtherEvent(o.id,d,o.duration),_=h.length;if(_>0){console.log("WOAH WOAH onDrop...overlapp!",h);let v=0;do this.recurChangeTime(h[v],o,d);while(++v<_)}else{let[v,M]=this.changeEvtSchedule(o.id,d,!1);console.log("onDrop no overlap complete",v,M,o.id)}this.disableSaveSchedule=!1,this.reset(),this.updateButtons(null,!0,null)},onDblClickEvent(e,t){if(this.isViewingPast()){this.doNotify("Removing from the past is a no no!"),e.preventDefault();return}this.$q.dialog({title:"Alert",cancel:!0,message:`Sure to remove evt: ${t.title} from today?`}).onOk(()=>{this.doRemove(t),this.updateCurrentSchedule(),this.updateButtons(null,!0,null),this.disableSaveSchedule=!1}).onCancel(()=>{console.log("Cancelled remove")})},onClickDate(e){console.log("onClickDate",e)},onClickTime(e){if(console.log("onClickTime..event",e),this.isViewingPast()){this.doNotify("Adding to the past is a no no!");return}this.showEventDialog=!0,this.targetDrop=e.scope},onClickInterval(e){console.log("onClickInterval",e)},onClickHeadIntervals(e){console.log("onClickHeadIntervals",e)},onClickHeadDay(e){console.log("onClickHeadDay",e)},onMouseEnter(e){console.log("onMouseAt",e)},onMouseLeave(e){console.log("onMouseLeave",JSON.stringify(e))},onMouseDownTime({scope:e,event:t}){if(console.log("onMouseDownTime",{scope:e,event:t}),Fa(t)){if(this.mobile===!0&&this.anchorTimestamp!==null&&this.otherTimestamp!==null&&St(this.anchorTimestamp)===St(this.otherTimestamp)){this.otherTimestamp=e.timestamp,this.mouseDown=!1;return}this.mouseDown=!0,this.anchorTimestamp=e.timestamp,this.otherTimestamp=e.timestamp}},onMouseUpTime({scope:e,event:t}){if(console.log("onMouseUpTime",{scope:e,event:t}),this.mobile!==!0&&Fa(t)&&(this.otherTimestamp=e.timestamp,this.mouseDown=!1),!this.mousedown){let a=this.startEndTimes;console.log("onMouseUpTime range",a)}},onMouseMoveTime({scope:e,event:t}){this.mobile!==!0&&this.mouseDown===!0&&(this.otherTimestamp=e.timestamp)},scrollToEvent(e){this.$refs.calendar.scrollToTime(e.time,350)},onToday(){this.$refs.calendar.moveToToday()},onPrev(){this.doReset=!0,this.$refs.calendar.prev()},onNext(){this.$refs.calendar.next()},onChange(e){console.log("onChange",e,this.currentDate,this.isViewingPast());let t=this.store.hasEventsForDate(this.currentDate),a=at();e.start==this.currentDate&&this.currentDate==a?(console.log("onChange and all dates are ALIKE!"),this.events=this.addPropsEventsTo(e.start,this.doReset?this.returnNewEvts(!0):this.events),this.doReset=!1):(console.log("onChange..something is different?",e.start,this.currentDate,a,t),this.events=this.addPropsEventsTo(this.currentDate,this.returnNewEvts(!0)),this.disableSaveSchedule=!0);let o=this.updateCurrentSchedule();if(o.size>0)console.log("onChange..has some conflicts",o),t?this.onReloadSaved(o):this.fixConflicts(o);else if(t){console.log(`onChange and saved schedule ${this.currentDate}...loading!`),this.fetchEventsForDate(this.currentDate),this.updateButtons(!1,!0,!1),this.doNotify("Saved schedule Loaded","info"),this.reset();return}this.updateButtons(t,!t,!t)},fixConflicts(e){const t=d=>{let h=0,_=null;for(let v of d){let M=this.getAnEvent(v);if(M){let O=this.parentGoalsMap.get(M.parentGoal);O?O.priority>h&&(h=O.priority,_=M):console.log("findhigherPrio..ERROR no PARENT found?",M)}else console.log("findhigherPrio..ERROR not found?",v)}return console.log("findhigherPrio..Highest priority be",_,h),_};let a=function(d){const h=d.split(/on/);return h.length!=2?(console.log(`parseScore error?${d}`,h),-1):h[1]-h[0]};const o=d=>({label:d.title+" at "+d.score,value:d.id});for(let d of e){let h=null,_=this.retrieveSameStart(d.at);console.log("fixConflicts...results",_,d);let v=[],M="";for(let O of _){let D=this.getAnEvent(O);D?(v.push(D),M+=D.title+","):console.log("fixConflicts...ERROR not found?",O)}this.$q.dialog({title:"Alert",cancel:!1,persistent:!0,message:`${M} are conflicting.
 Choose how to solve this...`,options:{type:"radio",model:"opt1",items:[{label:"Resolve by Highest Priority",value:"opt1",color:"secondary"},{label:"Resolve by lowest Score",value:"opt2"},{label:"Pick event",value:"opt3"}]}}).onOk(O=>{if(O=="opt3"){this.$q.dialog({title:"Alert",cancel:!1,persistent:!0,message:"Choose the event to schedule",options:{type:"radio",model:"",items:v.map(o)}}).onOk(T=>{console.log("Chosen Manually",T);let x=this.getAnEvent(T);x?h=x:console.log("ERROR...Manually choice not find",T)}).onCancel(()=>{console.log("Cancelled loading...")}).onDismiss(()=>{console.log("oooh dismissed inner...",h),this.onPickConflictReso(h,v)});let D=this.updateCurrentSchedule();console.log("fixConflicts inner...after conflicts?",D),this.updateButtons(null,!0,null),this.disableSaveSchedule=!1}else if(O=="opt2"){console.log(">>>> OK, Option Score",O);let D=0,T=null;for(let x of v){let R=a(x.score);R>-1&&R>=D?(D=R,T=x):console.log("ERROR...parseScore?",R,x)}T&&(console.log("Option Score Chosen",T),h=T)}else h=t(_),console.log(">>>> OK, Higher prio",O,h);console.log("Pick be",h)}).onCancel(()=>{console.log("Cancelled loading...")}).onDismiss(()=>{if(console.log("Dismissing...",h),h){this.onPickConflictReso(h,v);let O=this.updateCurrentSchedule();console.log("fixConflicts outer...after conflicts?",O),this.updateButtons(null,!0,null),this.disableSaveSchedule=!1}})}return!0},onReloadSaved(e=null){console.log("doReloadSaved:",this.currentDate),this.$q.dialog({title:"Alert",cancel:!0,message:"Some saved schedule found, load it up?"}).onOk(()=>(this.fetchEventsForDate(this.currentDate),this.updateButtons(!1,!0,!1),this.reset(),!0)).onCancel(()=>(console.log("Cancelled loading..."),e&&(console.log("dont wanna reload eh..fix conflicts then",e),this.fixConflicts(e)),this.updateButtons(!0,!1,!0),!1))},onLoadDefault(){this.events=null,console.log("doLoadDefault:",this.currentDate),this.events=this.addPropsEventsTo(this.currentDate,this.returnNewEvts(!0)),this.updateCurrentSchedule();let e=this.store.hasEventsForDate(this.currentDate);this.updateButtons(e,!1,!0),this.disableSaveSchedule=!0,this.chosenScore=null},onReloadWithScore(){if(this.chosenScore==null){this.doNotify("Ayo select a score!");return}let e=this.store.fetchGoalsWithMinScore(this.chosenScore);console.log("bringScorey:",this.currentDate,this.chosenScore,e),e=this.addPropsEventsTo(this.currentDate,e),this.events=e,this.updateCurrentSchedule(),this.updateButtons(!1,!0,!0),this.disableSaveSchedule=!1},deepCopy(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(a=>this.deepCopy(a));const t={};for(let a in e)e.hasOwnProperty(a)&&(t[a]=this.deepCopy(e[a]));return t}}}),Na=e=>(rn("data-v-74b9f466"),e=e(),un(),e),Un={key:0,class:"q-gutter-md"},zn={key:1,class:"subcontent"},Gn={class:"float-right"},Xn={key:0},Yn={key:1},jn={key:2},Zn={class:"row justify-center"},Jn={style:{display:"flex","max-width":"800px",width:"100%",height:"400px"}},pn={style:{display:"flex","justify-content":"center","flex-wrap":"wrap",padding:"2px"}},el={class:"title q-calendar__ellipsis"},tl=["onDblclick","onDragstart"],al=Na(()=>it("div",{class:"text-h3"},"Pick event",-1)),nl={class:"q-ml-md event-select"},ll={class:"row justify-center"},rl=Na(()=>it("br",null,null,-1)),ul={class:"scroll overflow-auto",style:{height:"360px",width:"100%"}};function il(e,t,a,o,d,h){const _=ua("add-goal-form"),v=ua("navigation-bar"),M=ua("goaly-end"),O=ua("q-calendar-day");return Le(),Ye(kt,null,[e.showForm?(Le(),Ye("div",Un,[ge(dt,{class:"q-pl-xl justify-center",color:"","text-color":"green",elevated:"",label:"HideForm",onClick:t[0]||(t[0]=D=>e.showGoalForm=!e.showGoalForm),"no-caps":""}),ge(_)])):Et("",!0),e.showForm?Et("",!0):(Le(),Ye("div",zn,[ge(on,{onRefresh:e.onRefresh},{default:xe(()=>[ge(v,{onToday:e.onToday,onPrev:e.onPrev,onNext:e.onNext},null,8,["onToday","onPrev","onNext"]),it("div",Gn,[e.reloadSaved?(Le(),Ye("div",Xn,[ge(dt,{class:"q-mt-xl",color:"","text-color":"green",elevated:"",label:"Load Saved",onClick:e.onReloadSaved,"no-caps":""},null,8,["onClick"])])):Et("",!0),e.loadDefault?(Le(),Ye("div",Yn,[ge(dt,{class:"q-mt-xl",color:"","text-color":"blue",elevated:"",label:"Defaults",onClick:e.onLoadDefault,"no-caps":""},null,8,["onClick"])])):Et("",!0),e.doSchedule?(Le(),Ye("div",jn,[ge(Tn,{split:"",color:"",class:"q-mt-xl","text-color":"teal",elevated:"",label:e.chosenScoreLabel,onClick:e.onReloadWithScore,"no-caps":""},{default:xe(()=>[ge(sn,null,{default:xe(()=>[(Le(!0),Ye(kt,null,ia(e.scoreOptions,D=>At((Le(),ma(vn,{key:D.id,clickable:"",onClick:T=>e.chosenScore=D},{default:xe(()=>[ge(cn,null,{default:xe(()=>[ge(fn,null,{default:xe(()=>[Ot(Tt(D),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[Fn]])),128))]),_:1})]),_:1},8,["label","onClick"])])):Et("",!0)])]),_:1},8,["onRefresh"]),it("div",Zn,[it("div",Jn,[ge(O,{ref:"calendar",view:"day",modelValue:e.currentDate,"onUpdate:modelValue":t[5]||(t[5]=D=>e.currentDate=D),"drag-enter-func":e.onDragEnter,"drag-over-func":e.onDragOver,"drag-leave-func":e.onDragLeave,"drop-func":e.onDrop,animated:"",bordered:"",hoverable:"","no-active-date":"","transition-next":"slide-left","transition-prev":"slide-right","time-clicks-clamped":"","interval-minutes":15,"interval-count":96,"interval-height":28,"selected-start-end-dates":e.startEndTimes,onChange:e.onChange,onClickDate:e.onClickDate,onClickTime:e.onClickTime,onClickInterval:e.onClickInterval,onClickHeadIntervals:e.onClickHeadIntervals,onClickHeadDay:e.onClickHeadDay,onMousedownTime:e.onMouseDownTime,onMouseupTime:e.onMouseUpTime,onMousemoveTime:e.onMouseMoveTime},{"head-day-event":xe(({scope:{timestamp:D}})=>[it("div",pn,[(Le(!0),Ye(kt,null,ia(e.eventsMap[D.date],T=>(Le(),Ye(kt,{key:T.id},[T.time?(Le(),ma(qa,{key:1,class:ya(e.badgeClasses(T,"header")),style:Rt([e.badgeStyles(T,"header"),{margin:"1px",width:"10px","max-width":"10px",height:"10px","max-height":"10px",cursor:"pointer"}]),onClick:x=>e.scrollToEvent(T)},{default:xe(()=>[ge(ba,null,{default:xe(()=>[Ot(Tt(T.time+" - "+T.title),1)]),_:2},1024)]),_:2},1032,["class","style","onClick"])):(Le(),ma(qa,{key:0,class:ya(e.badgeClasses(T,"header")),style:Rt([e.badgeStyles(T,"header"),{width:"100%",cursor:"pointer",height:"12px","font-size":"10px",margin:"1px"}])},{default:xe(()=>[it("div",el,[Ot(Tt(T.title)+" ",1),ge(ba,null,{default:xe(()=>[Ot(Tt(T.details),1)]),_:2},1024)])]),_:2},1032,["class","style"]))],64))),128))])]),"day-container":xe(({scope:{days:D}})=>[e.hasDate(D)?(Le(),Ye(kt,{key:0},[it("div",{class:"day-view-current-time-indicator",style:Rt(e.style)},null,4),it("div",{class:"day-view-current-time-line",style:Rt(e.style)},null,4)],64)):Et("",!0)]),"day-body":xe(({scope:{timestamp:D,timeStartPos:T,timeDurationHeight:x}})=>[(Le(!0),Ye(kt,null,ia(e.getEvents(D.date),R=>(Le(),Ye(kt,{key:R.id},[R.time!==void 0?(Le(),Ye("div",{key:0,class:ya(["my-event",e.badgeClasses(R,"body")]),style:Rt(e.badgeStyles(R,"body",T,x)),draggable:!0,onDblclick:ga($=>e.onDblClickEvent($,R),["prevent"]),onDragstart:ga($=>e.onDragStart($,R),["stop"]),onDragend:t[1]||(t[1]=ga((...$)=>e.onDragEnd&&e.onDragEnd(...$),["stop"])),onDrop:t[2]||(t[2]=$=>e.onDrop($,"goal-item",e.scope)),onDragenter:t[3]||(t[3]=$=>e.onDragEnter($,"goal-item",e.scope)),onDragover:t[4]||(t[4]=$=>e.onDragOver($,"goal-item",e.scope))},[ge(M,{disabledScore:e.disabledScoreEvts[R.id],title:R.title,id:R.id,startTime:R.time,score:R.score,details:R.details,happeningNow:e.hasStarted[R.id]?e.hasStarted[R.id]:!1,onEndNow:e.onEndNow,onSaveScore:e.onSaveScore},null,8,["disabledScore","title","id","startTime","score","details","happeningNow","onEndNow","onSaveScore"])],46,tl)):Et("",!0)],64))),128))]),_:1},8,["modelValue","drag-enter-func","drag-over-func","drag-leave-func","drop-func","selected-start-end-dates","onChange","onClickDate","onClickTime","onClickInterval","onClickHeadIntervals","onClickHeadDay","onMousedownTime","onMouseupTime","onMousemoveTime"])]),ge(en,{modelValue:e.showEventDialog,"onUpdate:modelValue":t[7]||(t[7]=D=>e.showEventDialog=D),"transition-show":"rotate","transition-hide":"rotate"},{default:xe(()=>[ge(tn,null,{default:xe(()=>[ge(an,null,{default:xe(()=>[al]),_:1}),ge(nn),it("div",nl,[ge(hn,{modelValue:e.toAddE,"onUpdate:modelValue":t[6]||(t[6]=D=>e.toAddE=D),options:e.canbeScheduled,"option-value":"id","option-label":"title",label:"Sub Goal","item-aligned":""},null,8,["modelValue","options"])]),ge(ln,{align:"right"},{default:xe(()=>[ge(dt,{flat:"",label:"Add",color:"primary",onClick:e.onAddEvent},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),it("div",ll,[ge(dt,{class:"q-mt-xl",color:"Green","text-color":"blue",elevated:"",label:"SaveSchedule",disable:e.doDisableSaveSchedule,onClick:e.doSaveSchedule,"no-caps":""},null,8,["disable","onClick"]),ge(dt,{class:"q-mt-xl",color:"","text-color":"green",elevated:"",label:"ShowForm",onClick:t[8]||(t[8]=D=>e.showGoalForm=!e.showGoalForm),"no-caps":""})]),rl,it("div",ul,[(Le(!0),Ye(kt,null,ia(e.storedEvents,(D,T)=>(Le(),Ye("div",{key:T,class:"col-12",style:{"font-size":"10px","line-height":"10px","max-height":"14px","min-height":"14px",padding:"2px 2px","white-space":"nowrap"}},Tt(D),1))),128))])]))],64)}var vl=Oa(Qn,[["render",il],["__scopeId","data-v-74b9f466"]]);export{vl as default};
