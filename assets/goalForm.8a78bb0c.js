import{j as ce,ad as Ge,aF as yl,ae as He,aG as pl,c as u,aq as bt,g as ge,h as v,S as Ee,aH as xl,aI as Cl,ac as me,aJ as Et,aK as wl,aL as kl,aM as ql,aN as Mt,aO as cn,r as _,Z as _l,t as dn,k as pe,a4 as Vl,a5 as vn,a6 as Al,a7 as fn,a8 as mn,a9 as gn,aa as Pl,ab as hn,w as ye,aP as bn,aQ as Zt,aR as Sn,ap as dt,aS as yn,y as Rl,aT as pn,T as Il,e as Qe,aU as Tl,aV as xn,m as El,n as Ae,aW as Cn,aX as wn,aY as Ml,aZ as Bl,a_ as Ol,a$ as kn,b0 as el,at as lt,o as Fl,b1 as qn,$ as ct,b2 as _n,ao as Xe,af as Vn,aE as An,D as Ll,b as Bt,ag as Pn,z as Rn,b3 as In,v as zl,b4 as Tn,b5 as En,f as Ot,b6 as Mn,ax as tl,P as vt,ai as Bn,al as On,a3 as nt,am as Fn,a0 as rt,an as Ct,a1 as wt,b7 as Ln,b8 as Nl,q as zn,s as kt,b9 as Dl,_ as Nn,ba as Dn,F as oe,M as Se,I,H as K,K as xe,aB as ll,au as Te,G as Le,U as ze,J as fe,V as qe,bb as qt,Q as ke,bc as Gn,O as nl,N as al,ah as Hn,as as ol,av as il}from"./index.7a07270d.js";import{u as Qn,v as ul,d as Kn,e as jn,f as Un,g as rl,h as Wn,r as sl,s as Jn,p as $n,Q as _t,c as st}from"./utiFunc.81d12730.js";import{T as Ft,a as Gl,g as cl,s as dl,c as Xn,u as Yn,Q as Zn}from"./goalStorage.71aa9bdc.js";import{u as ea}from"./use-quasar.fe354fce.js";const ta={xs:8,sm:10,md:14,lg:20,xl:24};var Hl=ce({name:"QChip",props:{...Ge,...yl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:i}){const{proxy:{$q:n}}=ge(),c=He(e,n),a=pl(e,ta),o=u(()=>e.selected===!0||e.icon!==void 0),r=u(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),f=u(()=>e.iconRemove||n.iconSet.chip.remove),m=u(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=u(()=>{const h=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(h?` text-${h} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(m.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(c.value===!0?" q-chip--dark q-dark":"")}),g=u(()=>{const h=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},S={...h,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:h,remove:S}});function b(h){h.keyCode===13&&d(h)}function d(h){e.disable||(i("update:selected",!e.selected),i("click",h))}function P(h){(h.keyCode===void 0||h.keyCode===13)&&(me(h),e.disable===!1&&(i("update:modelValue",!1),i("remove")))}function T(){const h=[];m.value===!0&&h.push(v("div",{class:"q-focus-helper"})),o.value===!0&&h.push(v(Ee,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const S=e.label!==void 0?[v("div",{class:"ellipsis"},[e.label])]:void 0;return h.push(v("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},xl(l.default,S))),e.iconRight&&h.push(v(Ee,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&h.push(v(Ee,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:f.value,...g.value.remove,onClick:P,onKeyup:P})),h}return()=>{if(e.modelValue===!1)return;const h={class:s.value,style:a.value};return m.value===!0&&Object.assign(h,g.value.chip,{onClick:d,onKeyup:b}),bt("div",h,T(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Cl,e.ripple]])}}}),la=ce({name:"QField",inheritAttrs:!1,props:Et,emits:wl,setup(){return kl(ql())}}),ft=ce({name:"QItem",props:{...Ge,...Mt,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:i}){const{proxy:{$q:n}}=ge(),c=He(e,n),{hasLink:a,linkAttrs:o,linkClass:r,linkTag:f,navigateOnClick:m}=cn(),s=_(null),g=_(null),b=u(()=>e.clickable===!0||a.value===!0||e.tag==="label"),d=u(()=>e.disable!==!0&&b.value===!0),P=u(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(c.value===!0?" q-item--dark":"")+(a.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(d.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),T=u(()=>{if(e.insetLevel===void 0)return null;const y=n.lang.rtl===!0?"Right":"Left";return{["padding"+y]:16+e.insetLevel*56+"px"}});function h(y){d.value===!0&&(g.value!==null&&(y.qKeyEvent!==!0&&document.activeElement===s.value?g.value.focus():document.activeElement===g.value&&s.value.focus()),m(y))}function S(y){if(d.value===!0&&_l(y,13)===!0){me(y),y.qKeyEvent=!0;const k=new MouseEvent("click",y);k.qKeyEvent=!0,s.value.dispatchEvent(k)}i("keyup",y)}function M(){const y=dn(l.default,[]);return d.value===!0&&y.unshift(v("div",{class:"q-focus-helper",tabindex:-1,ref:g})),y}return()=>{const y={ref:s,class:P.value,style:T.value,role:"listitem",onClick:h,onKeyup:S};return d.value===!0?(y.tabindex=e.tabindex||"0",Object.assign(y,o.value)):b.value===!0&&(y["aria-disabled"]="true"),v(f.value,y,M())}}}),De=ce({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const i=u(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>v("div",{class:i.value},pe(l.default))}}),mt=ce({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const i=u(()=>parseInt(e.lines,10)),n=u(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(i.value===1?" ellipsis":"")),c=u(()=>e.lines!==void 0&&i.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":i.value}:null);return()=>v("div",{style:c.value,class:n.value},pe(l.default))}}),na=ce({name:"QMenu",inheritAttrs:!1,props:{...Qn,...Vl,...Ge,...vn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ul},self:{type:String,validator:ul},offset:{type:Array,validator:Kn},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Al,"click","escapeKey"],setup(e,{slots:l,emit:i,attrs:n}){let c=null,a,o,r;const f=ge(),{proxy:m}=f,{$q:s}=m,g=_(null),b=_(!1),d=u(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),P=He(e,s),{registerTick:T,removeTick:h}=fn(),{registerTimeout:S}=mn(),{transitionProps:M,transitionStyle:y}=gn(e),{localScrollTarget:k,changeScrollEvent:V,unconfigureScrollTarget:E}=jn(e,D),{anchorEl:L,canShow:U}=Un({showing:b}),{hide:J}=Pl({showing:b,canShow:U,handleShow:p,handleHide:w,hideOnRouteChange:d,processOnMount:!0}),{showPortal:le,hidePortal:Y,renderPortal:de}=hn(f,g,ue,"menu"),z={anchorEl:L,innerRef:g,onClickOutside(x){if(e.persistent!==!0&&b.value===!0)return J(x),(x.type==="touchstart"||x.target.classList.contains("q-dialog__backdrop"))&&me(x),!0}},C=u(()=>rl(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),B=u(()=>e.cover===!0?C.value:rl(e.self||"top start",s.lang.rtl)),$=u(()=>(e.square===!0?" q-menu--square":"")+(P.value===!0?" q-menu--dark q-dark":"")),R=u(()=>e.autoClose===!0?{onClick:Z}:{}),ne=u(()=>b.value===!0&&e.persistent!==!0);ye(ne,x=>{x===!0?(bn(Q),Wn(z)):(Zt(Q),sl(z))});function W(){Tl(()=>{let x=g.value;x&&x.contains(document.activeElement)!==!0&&(x=x.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||x.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||x.querySelector("[autofocus], [data-autofocus]")||x,x.focus({preventScroll:!0}))})}function p(x){if(c=e.noRefocus===!1?document.activeElement:null,Sn(ae),le(),D(),a=void 0,x!==void 0&&(e.touchPosition||e.contextMenu)){const re=dt(x);if(re.left!==void 0){const{top:Ve,left:Pe}=L.value.getBoundingClientRect();a={left:re.left-Pe,top:re.top-Ve}}}o===void 0&&(o=ye(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,N)),e.noFocus!==!0&&document.activeElement.blur(),T(()=>{N(),e.noFocus!==!0&&W()}),S(()=>{s.platform.is.ios===!0&&(r=e.autoClose,g.value.click()),N(),le(!0),i("show",x)},e.transitionDuration)}function w(x){h(),Y(),F(!0),c!==null&&(x===void 0||x.qClickOutside!==!0)&&(((x&&x.type.indexOf("key")===0?c.closest('[tabindex]:not([tabindex^="-"])'):void 0)||c).focus(),c=null),S(()=>{Y(!0),i("hide",x)},e.transitionDuration)}function F(x){a=void 0,o!==void 0&&(o(),o=void 0),(x===!0||b.value===!0)&&(yn(ae),E(),sl(z),Zt(Q)),x!==!0&&(c=null)}function D(){(L.value!==null||e.scrollTarget!==void 0)&&(k.value=Rl(L.value,e.scrollTarget),V(k.value,N))}function Z(x){r!==!0?(pn(m,x),i("click",x)):r=!1}function ae(x){ne.value===!0&&e.noFocus!==!0&&xn(g.value,x.target)!==!0&&W()}function Q(x){i("escapeKey"),J(x)}function N(){const x=g.value;x===null||L.value===null||Jn({el:x,offset:e.offset,anchorEl:L.value,anchorOrigin:C.value,selfOrigin:B.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ue(){return v(Il,M.value,()=>b.value===!0?v("div",{role:"menu",...n,ref:g,tabindex:-1,class:["q-menu q-position-engine scroll"+$.value,n.class],style:[n.style,y.value],...R.value},pe(l.default)):null)}return Qe(F),Object.assign(m,{focus:W,updatePosition:N}),de}});let gt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,gt=e.scrollLeft>=0,e.remove()}const _e=1e3,aa=["start","center","end","start-force","center-force","end-force"],Ql=Array.prototype.filter,oa=window.getComputedStyle(document.body).overflowAnchor===void 0?El:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const i=e.children||[];Ql.call(i,c=>c.dataset&&c.dataset.qVsAnchor!==void 0).forEach(c=>{delete c.dataset.qVsAnchor});const n=i[l];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function Ze(e,l){return e+l}function Vt(e,l,i,n,c,a,o,r){const f=e===window?document.scrollingElement||document.documentElement:e,m=c===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-o-r,scrollMaxSize:0,offsetStart:-o,offsetEnd:-r};if(c===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=f.scrollLeft,s.scrollViewSize+=f.clientWidth),s.scrollMaxSize=f.scrollWidth,a===!0&&(s.scrollStart=(gt===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=f.scrollTop,s.scrollViewSize+=f.clientHeight),s.scrollMaxSize=f.scrollHeight),i!==null)for(let g=i.previousElementSibling;g!==null;g=g.previousElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=g[m]);if(n!==null)for(let g=n.nextElementSibling;g!==null;g=g.nextElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=g[m]);if(l!==e){const g=f.getBoundingClientRect(),b=l.getBoundingClientRect();c===!0?(s.offsetStart+=b.left-g.left,s.offsetEnd-=b.width):(s.offsetStart+=b.top-g.top,s.offsetEnd-=b.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function vl(e,l,i,n){l==="end"&&(l=(e===window?document.body:e)[i===!0?"scrollWidth":"scrollHeight"]),e===window?i===!0?(n===!0&&(l=(gt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):i===!0?(n===!0&&(l=(gt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function at(e,l,i,n){if(i>=n)return 0;const c=l.length,a=Math.floor(i/_e),o=Math.floor((n-1)/_e)+1;let r=e.slice(a,o).reduce(Ze,0);return i%_e!==0&&(r-=l.slice(a*_e,i).reduce(Ze,0)),n%_e!==0&&n!==c&&(r-=l.slice(n,o*_e).reduce(Ze,0)),r}const ia={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ua={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...ia};function ra({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:i,virtualScrollItemSizeComputed:n}){const c=ge(),{props:a,emit:o,proxy:r}=c,{$q:f}=r;let m,s,g,b=[],d;const P=_(0),T=_(0),h=_({}),S=_(null),M=_(null),y=_(null),k=_({from:0,to:0}),V=u(()=>a.tableColspan!==void 0?a.tableColspan:100);n===void 0&&(n=u(()=>a.virtualScrollItemSize));const E=u(()=>n.value+";"+a.virtualScrollHorizontal),L=u(()=>E.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);ye(L,()=>{$()}),ye(E,U);function U(){B(s,!0)}function J(w){B(w===void 0?s:w)}function le(w,F){const D=l();if(D==null||D.nodeType===8)return;const Z=Vt(D,i(),S.value,M.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);g!==Z.scrollViewSize&&$(Z.scrollViewSize),de(D,Z,Math.min(e.value-1,Math.max(0,parseInt(w,10)||0)),0,aa.indexOf(F)>-1?F:s>-1&&w>s?"end":"start")}function Y(){const w=l();if(w==null||w.nodeType===8)return;const F=Vt(w,i(),S.value,M.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),D=e.value-1,Z=F.scrollMaxSize-F.offsetStart-F.offsetEnd-T.value;if(m===F.scrollStart)return;if(F.scrollMaxSize<=0){de(w,F,0,0);return}g!==F.scrollViewSize&&$(F.scrollViewSize),z(k.value.from);const ae=Math.floor(F.scrollMaxSize-Math.max(F.scrollViewSize,F.offsetEnd)-Math.min(d[D],F.scrollViewSize/2));if(ae>0&&Math.ceil(F.scrollStart)>=ae){de(w,F,D,F.scrollMaxSize-F.offsetEnd-b.reduce(Ze,0));return}let Q=0,N=F.scrollStart-F.offsetStart,ue=N;if(N<=Z&&N+F.scrollViewSize>=P.value)N-=P.value,Q=k.value.from,ue=N;else for(let x=0;N>=b[x]&&Q<D;x++)N-=b[x],Q+=_e;for(;N>0&&Q<D;)N-=d[Q],N>-F.scrollViewSize?(Q++,ue=N):ue=d[Q]+N;de(w,F,Q,ue)}function de(w,F,D,Z,ae){const Q=typeof ae=="string"&&ae.indexOf("-force")>-1,N=Q===!0?ae.replace("-force",""):ae,ue=N!==void 0?N:"start";let x=Math.max(0,D-h.value[ue]),re=x+h.value.total;re>e.value&&(re=e.value,x=Math.max(0,re-h.value.total)),m=F.scrollStart;const Ve=x!==k.value.from||re!==k.value.to;if(Ve===!1&&N===void 0){ne(D);return}const{activeElement:Pe}=document,Ce=y.value;Ve===!0&&Ce!==null&&Ce!==Pe&&Ce.contains(Pe)===!0&&(Ce.addEventListener("focusout",C),setTimeout(()=>{Ce!==null&&Ce.removeEventListener("focusout",C)})),oa(Ce,D-x);const Ke=N!==void 0?d.slice(x,D).reduce(Ze,0):0;if(Ve===!0){const Re=re>=k.value.from&&x<=k.value.to?k.value.to:re;k.value={from:x,to:Re},P.value=at(b,d,0,x),T.value=at(b,d,re,e.value),requestAnimationFrame(()=>{k.value.to!==re&&m===F.scrollStart&&(k.value={from:k.value.from,to:re},T.value=at(b,d,re,e.value))})}requestAnimationFrame(()=>{if(m!==F.scrollStart)return;Ve===!0&&z(x);const Re=d.slice(x,D).reduce(Ze,0),Ie=Re+F.offsetStart+P.value,Me=Ie+d[D];let Be=Ie+Z;if(N!==void 0){const et=Re-Ke,ve=F.scrollStart+et;Be=Q!==!0&&ve<Ie&&Me<ve+F.scrollViewSize?ve:N==="end"?Me-F.scrollViewSize:Ie-(N==="start"?0:Math.round((F.scrollViewSize-d[D])/2))}m=Be,vl(w,Be,a.virtualScrollHorizontal,f.lang.rtl),ne(D)})}function z(w){const F=y.value;if(F){const D=Ql.call(F.children,x=>x.classList&&x.classList.contains("q-virtual-scroll--skip")===!1),Z=D.length,ae=a.virtualScrollHorizontal===!0?x=>x.getBoundingClientRect().width:x=>x.offsetHeight;let Q=w,N,ue;for(let x=0;x<Z;){for(N=ae(D[x]),x++;x<Z&&D[x].classList.contains("q-virtual-scroll--with-prev")===!0;)N+=ae(D[x]),x++;ue=N-d[Q],ue!==0&&(d[Q]+=ue,b[Math.floor(Q/_e)]+=ue),Q++}}}function C(){y.value!==null&&y.value!==void 0&&y.value.focus()}function B(w,F){const D=1*n.value;(F===!0||Array.isArray(d)===!1)&&(d=[]);const Z=d.length;d.length=e.value;for(let Q=e.value-1;Q>=Z;Q--)d[Q]=D;const ae=Math.floor((e.value-1)/_e);b=[];for(let Q=0;Q<=ae;Q++){let N=0;const ue=Math.min((Q+1)*_e,e.value);for(let x=Q*_e;x<ue;x++)N+=d[x];b.push(N)}s=-1,m=void 0,P.value=at(b,d,0,k.value.from),T.value=at(b,d,k.value.to,e.value),w>=0?(z(k.value.from),Ae(()=>{le(w)})):W()}function $(w){if(w===void 0&&typeof window!="undefined"){const N=l();N!=null&&N.nodeType!==8&&(w=Vt(N,i(),S.value,M.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}g=w;const F=parseFloat(a.virtualScrollSliceRatioBefore)||0,D=parseFloat(a.virtualScrollSliceRatioAfter)||0,Z=1+F+D,ae=w===void 0||w<=0?1:Math.ceil(w/n.value),Q=Math.max(1,ae,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/Z));h.value={total:Math.ceil(Q*Z),start:Math.ceil(Q*F),center:Math.ceil(Q*(.5+F)),end:Math.ceil(Q*(1+F)),view:ae}}function R(w,F){const D=a.virtualScrollHorizontal===!0?"width":"height",Z={["--q-virtual-scroll-item-"+D]:n.value+"px"};return[w==="tbody"?v(w,{class:"q-virtual-scroll__padding",key:"before",ref:S},[v("tr",[v("td",{style:{[D]:`${P.value}px`,...Z},colspan:V.value})])]):v(w,{class:"q-virtual-scroll__padding",key:"before",ref:S,style:{[D]:`${P.value}px`,...Z}}),v(w,{class:"q-virtual-scroll__content",key:"content",ref:y,tabindex:-1},F.flat()),w==="tbody"?v(w,{class:"q-virtual-scroll__padding",key:"after",ref:M},[v("tr",[v("td",{style:{[D]:`${T.value}px`,...Z},colspan:V.value})])]):v(w,{class:"q-virtual-scroll__padding",key:"after",ref:M,style:{[D]:`${T.value}px`,...Z}})]}function ne(w){s!==w&&(a.onVirtualScroll!==void 0&&o("virtualScroll",{index:w,from:k.value.from,to:k.value.to-1,direction:w<s?"decrease":"increase",ref:r}),s=w)}$();const W=Cn(Y,f.platform.is.ios===!0?120:35);wn(()=>{$()});let p=!1;return Ml(()=>{p=!0}),Bl(()=>{if(p!==!0)return;const w=l();m!==void 0&&w!==void 0&&w!==null&&w.nodeType!==8?vl(w,m,a.virtualScrollHorizontal,f.lang.rtl):le(s)}),Qe(()=>{W.cancel()}),Object.assign(r,{scrollTo:le,reset:U,refresh:J}),{virtualScrollSliceRange:k,virtualScrollSliceSizeComputed:h,setVirtualScrollSize:$,onVirtualScrollEvt:W,localResetVirtualScroll:B,padVirtualScroll:R,scrollTo:le,reset:U,refresh:J}}function ot(e,l,i){return i<=l?l:Math.min(i,Math.max(l,e))}function ht(e,l,i){if(i<=l)return l;const n=i-l+1;let c=l+(e-l)%n;return c<l&&(c=n+c),c===0?0:c}const fl=e=>["add","add-unique","toggle"].includes(e),sa=".*+?^${}()|[]\\",ca=Object.keys(Et);var At=ce({name:"QSelect",inheritAttrs:!1,props:{...ua,...Ol,...Et,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:fl},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...wl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:i}){const{proxy:n}=ge(),{$q:c}=n,a=_(!1),o=_(!1),r=_(-1),f=_(""),m=_(!1),s=_(!1);let g=null,b,d,P,T=null,h,S,M,y;const k=_(null),V=_(null),E=_(null),L=_(null),U=_(null),J=kn(e),le=_n(Wt),Y=u(()=>Array.isArray(e.options)?e.options.length:0),de=u(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:z,virtualScrollSliceSizeComputed:C,localResetVirtualScroll:B,padVirtualScroll:$,onVirtualScrollEvt:R,scrollTo:ne,setVirtualScrollSize:W}=ra({virtualScrollLength:Y,getVirtualScrollTarget:$l,getVirtualScrollEl:jt,virtualScrollItemSizeComputed:de}),p=ql(),w=u(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,A=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const q=e.mapOptions===!0&&b!==void 0?b:[],G=A.map(te=>Jl(te,q));return e.modelValue===null&&t===!0?G.filter(te=>te!==null):G}return A}),F=u(()=>{const t={};return ca.forEach(A=>{const q=e[A];q!==void 0&&(t[A]=q)}),t}),D=u(()=>e.optionsDark===null?p.isDark.value:e.optionsDark),Z=u(()=>el(w.value)),ae=u(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||w.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),Q=u(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),N=u(()=>Y.value===0),ue=u(()=>w.value.map(t=>he.value(t)).join(", ")),x=u(()=>e.displayValue!==void 0?e.displayValue:ue.value),re=u(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Ve=u(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||w.value.some(re.value))),Pe=u(()=>p.focused.value===!0?e.tabindex:-1),Ce=u(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${p.targetUid.value}_lb`};return r.value>=0&&(t["aria-activedescendant"]=`${p.targetUid.value}_${r.value}`),t}),Ke=u(()=>({id:`${p.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Re=u(()=>w.value.map((t,A)=>({index:A,opt:t,html:re.value(t),selected:!0,removeAtIndex:se,toggleOption:Oe,tabindex:Pe.value}))),Ie=u(()=>{if(Y.value===0)return[];const{from:t,to:A}=z.value;return e.options.slice(t,A).map((q,G)=>{const te=O.value(q)===!0,X=t+G,ie={clickable:!0,active:!1,activeClass:et.value,manualFocus:!0,focused:!1,disable:te,tabindex:-1,dense:e.optionsDense,dark:D.value,role:"option",id:`${p.targetUid.value}_${X}`,onClick:()=>{Oe(q)}};return te!==!0&&(yt(q)===!0&&(ie.active=!0),r.value===X&&(ie.focused=!0),ie["aria-selected"]=ie.active===!0?"true":"false",c.platform.is.desktop===!0&&(ie.onMousemove=()=>{a.value===!0&&je(X)})),{index:X,opt:q,html:re.value(q),label:he.value(q),selected:ie.active,focused:ie.focused,toggleOption:Oe,setOptionIndex:je,itemProps:ie}})}),Me=u(()=>e.dropdownIcon!==void 0?e.dropdownIcon:c.iconSet.arrow.dropdown),Be=u(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),et=u(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ve=u(()=>St(e.optionValue,"value")),he=u(()=>St(e.optionLabel,"label")),O=u(()=>St(e.optionDisable,"disable")),j=u(()=>w.value.map(t=>ve.value(t))),ee=u(()=>{const t={onInput:Wt,onChange:le,onKeydown:Kt,onKeyup:Ht,onKeypress:Qt,onFocus:Dt,onClick(A){d===!0&&Xe(A)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=le,t});ye(w,t=>{b=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&p.innerLoading.value!==!0&&(o.value!==!0&&a.value!==!0||Z.value!==!0)&&(P!==!0&&$e(),(o.value===!0||a.value===!0)&&Ue(""))},{immediate:!0}),ye(()=>e.fillInput,$e),ye(a,pt),ye(Y,sn);function H(t){return e.emitValue===!0?ve.value(t):t}function we(t){if(t>-1&&t<w.value.length)if(e.multiple===!0){const A=e.modelValue.slice();i("remove",{index:t,value:A.splice(t,1)[0]}),i("update:modelValue",A)}else i("update:modelValue",null)}function se(t){we(t),p.focus()}function Nt(t,A){const q=H(t);if(e.multiple!==!0){e.fillInput===!0&&tt(he.value(t),!0,!0),i("update:modelValue",q);return}if(w.value.length===0){i("add",{index:0,value:q}),i("update:modelValue",e.multiple===!0?[q]:q);return}if(A===!0&&yt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const G=e.modelValue.slice();i("add",{index:G.length,value:q}),G.push(q),i("update:modelValue",G)}function Oe(t,A){if(p.editable.value!==!0||t===void 0||O.value(t)===!0)return;const q=ve.value(t);if(e.multiple!==!0){A!==!0&&(tt(e.fillInput===!0?he.value(t):"",!0,!0),Fe()),V.value!==null&&V.value.focus(),(w.value.length===0||lt(ve.value(w.value[0]),q)!==!0)&&i("update:modelValue",e.emitValue===!0?q:t);return}if((d!==!0||m.value===!0)&&p.focus(),Dt(),w.value.length===0){const X=e.emitValue===!0?q:t;i("add",{index:0,value:X}),i("update:modelValue",e.multiple===!0?[X]:X);return}const G=e.modelValue.slice(),te=j.value.findIndex(X=>lt(X,q));if(te>-1)i("remove",{index:te,value:G.splice(te,1)[0]});else{if(e.maxValues!==void 0&&G.length>=e.maxValues)return;const X=e.emitValue===!0?q:t;i("add",{index:G.length,value:X}),G.push(X)}i("update:modelValue",G)}function je(t){if(c.platform.is.desktop!==!0)return;const A=t>-1&&t<Y.value?t:-1;r.value!==A&&(r.value=A)}function it(t=1,A){if(a.value===!0){let q=r.value;do q=ht(q+t,-1,Y.value-1);while(q!==-1&&q!==r.value&&O.value(e.options[q])===!0);r.value!==q&&(je(q),ne(q),A!==!0&&e.useInput===!0&&e.fillInput===!0&&ut(q>=0?he.value(e.options[q]):h))}}function Jl(t,A){const q=G=>lt(ve.value(G),t);return e.options.find(q)||A.find(q)||t}function St(t,A){const q=t!==void 0?t:A;return typeof q=="function"?q:G=>G!==null&&typeof G=="object"&&q in G?G[q]:G}function yt(t){const A=ve.value(t);return j.value.find(q=>lt(q,A))!==void 0}function Dt(t){e.useInput===!0&&V.value!==null&&(t===void 0||V.value===t.target&&t.target.value===ue.value)&&V.value.select()}function Gt(t){_l(t,27)===!0&&a.value===!0&&(Xe(t),Fe(),$e()),i("keyup",t)}function Ht(t){const{value:A}=t.target;if(t.keyCode!==void 0){Gt(t);return}if(t.target.value="",g!==null&&(clearTimeout(g),g=null),$e(),typeof A=="string"&&A.length>0){const q=A.toLocaleLowerCase(),G=X=>{const ie=e.options.find(be=>X.value(be).toLocaleLowerCase()===q);return ie===void 0?!1:(w.value.indexOf(ie)===-1?Oe(ie):Fe(),!0)},te=X=>{G(ve)!==!0&&(G(he)===!0||X===!0||Ue(A,!0,()=>te(!0)))};te()}else p.clearValue(t)}function Qt(t){i("keypress",t)}function Kt(t){if(i("keydown",t),Vn(t)===!0)return;const A=f.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),q=t.shiftKey!==!0&&e.multiple!==!0&&(r.value>-1||A===!0);if(t.keyCode===27){ct(t);return}if(t.keyCode===9&&q===!1){We();return}if(t.target===void 0||t.target.id!==p.targetUid.value)return;if(t.keyCode===40&&p.innerLoading.value!==!0&&a.value===!1){me(t),Je();return}if(t.keyCode===8&&e.hideSelected!==!0&&f.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?we(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&i("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof f.value!="string"||f.value.length===0)&&(me(t),r.value=-1,it(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&C.value!==void 0&&(me(t),r.value=Math.max(-1,Math.min(Y.value,r.value+(t.keyCode===33?-1:1)*C.value.view)),it(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(me(t),it(t.keyCode===38?-1:1,e.multiple));const G=Y.value;if((M===void 0||y<Date.now())&&(M=""),G>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||M.length>0)){a.value!==!0&&Je(t);const te=t.key.toLocaleLowerCase(),X=M.length===1&&M[0]===te;y=Date.now()+1500,X===!1&&(me(t),M+=te);const ie=new RegExp("^"+M.split("").map(xt=>sa.indexOf(xt)>-1?"\\"+xt:xt).join(".*"),"i");let be=r.value;if(X===!0||be<0||ie.test(he.value(e.options[be]))!==!0)do be=ht(be+1,-1,G-1);while(be!==r.value&&(O.value(e.options[be])===!0||ie.test(he.value(e.options[be]))!==!0));r.value!==be&&Ae(()=>{je(be),ne(be),be>=0&&e.useInput===!0&&e.fillInput===!0&&ut(he.value(e.options[be]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||M!=="")&&(t.keyCode!==9||q===!1))){if(t.keyCode!==9&&me(t),r.value>-1&&r.value<G){Oe(e.options[r.value]);return}if(A===!0){const te=(X,ie)=>{if(ie){if(fl(ie)!==!0)return}else ie=e.newValueMode;if(X==null)return;tt("",e.multiple!==!0,!0),(ie==="toggle"?Oe:Nt)(X,ie==="add-unique"),e.multiple!==!0&&(V.value!==null&&V.value.focus(),Fe())};if(e.onNewValue!==void 0?i("newValue",f.value,te):te(f.value),e.multiple!==!0)return}a.value===!0?We():p.innerLoading.value!==!0&&Je()}}function jt(){return d===!0?U.value:E.value!==null&&E.value.contentEl!==null?E.value.contentEl:void 0}function $l(){return jt()}function Xl(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Re.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Re.value.map((t,A)=>v(Hl,{key:"option-"+A,removable:p.editable.value===!0&&O.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Pe.value,onRemove(){t.removeAtIndex(A)}},()=>v("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:he.value(t.opt)}))):[v("span",{[Ve.value===!0?"innerHTML":"textContent"]:x.value})]}function Ut(){if(N.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:f.value}):void 0;const t=l.option!==void 0?l.option:q=>v(ft,{key:q.index,...q.itemProps},()=>v(De,()=>v(mt,()=>v("span",{[q.html===!0?"innerHTML":"textContent"]:q.label}))));let A=$("div",Ie.value.map(t));return l["before-options"]!==void 0&&(A=l["before-options"]().concat(A)),Ll(l["after-options"],A)}function Yl(t,A){const q=A===!0?{...Ce.value,...p.splitAttrs.attributes.value}:void 0,G={ref:A===!0?V:void 0,key:"i_t",class:ae.value,style:e.inputStyle,value:f.value!==void 0?f.value:"",type:"search",...q,id:A===!0?p.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ee.value};return t!==!0&&d===!0&&(Array.isArray(G.class)===!0?G.class=[...G.class,"no-pointer-events"]:G.class+=" no-pointer-events"),v("input",G)}function Wt(t){g!==null&&(clearTimeout(g),g=null),!(t&&t.target&&t.target.qComposing===!0)&&(ut(t.target.value||""),P=!0,h=f.value,p.focused.value!==!0&&(d!==!0||m.value===!0)&&p.focus(),e.onFilter!==void 0&&(g=setTimeout(()=>{g=null,Ue(f.value)},e.inputDebounce)))}function ut(t){f.value!==t&&(f.value=t,i("inputValue",t))}function tt(t,A,q){P=q!==!0,e.useInput===!0&&(ut(t),(A===!0||q!==!0)&&(h=t),A!==!0&&Ue(t))}function Ue(t,A,q){if(e.onFilter===void 0||A!==!0&&p.focused.value!==!0)return;p.innerLoading.value===!0?i("filterAbort"):(p.innerLoading.value=!0,s.value=!0),t!==""&&e.multiple!==!0&&w.value.length>0&&P!==!0&&t===he.value(w.value[0])&&(t="");const G=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);T!==null&&clearTimeout(T),T=G,i("filter",t,(te,X)=>{(A===!0||p.focused.value===!0)&&T===G&&(clearTimeout(T),typeof te=="function"&&te(),s.value=!1,Ae(()=>{p.innerLoading.value=!1,p.editable.value===!0&&(A===!0?a.value===!0&&Fe():a.value===!0?pt(!0):a.value=!0),typeof X=="function"&&Ae(()=>{X(n)}),typeof q=="function"&&Ae(()=>{q(n)})}))},()=>{p.focused.value===!0&&T===G&&(clearTimeout(T),p.innerLoading.value=!1,s.value=!1),a.value===!0&&(a.value=!1)})}function Zl(){return v(na,{ref:E,class:Q.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&N.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:D.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Be.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ke.value,onScrollPassive:R,onBeforeShow:$t,onBeforeHide:en,onShow:tn},Ut)}function en(t){Xt(t),We()}function tn(){W()}function ln(t){Xe(t),V.value!==null&&V.value.focus(),m.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function nn(t){Xe(t),Ae(()=>{m.value=!1})}function an(){const t=[v(la,{class:`col-auto ${p.fieldClass.value}`,...F.value,for:p.targetUid.value,dark:D.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:f.value.length>0,...p.splitAttrs.listeners.value,onFocus:ln,onBlur:nn},{...l,rawControl:()=>p.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&t.push(v("div",{ref:U,class:Q.value+" scroll",style:e.popupContentStyle,...Ke.value,onClick:ct,onScrollPassive:R},Ut())),v(An,{ref:L,modelValue:o.value,position:e.useInput===!0?"top":void 0,transitionShow:S,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:$t,onBeforeHide:on,onHide:un,onShow:rn},()=>v("div",{class:"q-select__dialog"+(D.value===!0?" q-select__dialog--dark q-dark":"")+(m.value===!0?" q-select__dialog--focused":"")},t))}function on(t){Xt(t),L.value!==null&&L.value.__updateRefocusTarget(p.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),p.focused.value=!1}function un(t){Fe(),p.focused.value===!1&&i("blur",t),$e()}function rn(){const t=document.activeElement;(t===null||t.id!==p.targetUid.value)&&V.value!==null&&V.value!==t&&V.value.focus(),W()}function We(){o.value!==!0&&(r.value=-1,a.value===!0&&(a.value=!1),p.focused.value===!1&&(T!==null&&(clearTimeout(T),T=null),p.innerLoading.value===!0&&(i("filterAbort"),p.innerLoading.value=!1,s.value=!1)))}function Je(t){p.editable.value===!0&&(d===!0?(p.onControlFocusin(t),o.value=!0,Ae(()=>{p.focus()})):p.focus(),e.onFilter!==void 0?Ue(f.value):(N.value!==!0||l["no-option"]!==void 0)&&(a.value=!0))}function Fe(){o.value=!1,We()}function $e(){e.useInput===!0&&tt(e.multiple!==!0&&e.fillInput===!0&&w.value.length>0&&he.value(w.value[0])||"",!0,!0)}function pt(t){let A=-1;if(t===!0){if(w.value.length>0){const q=ve.value(w.value[0]);A=e.options.findIndex(G=>lt(ve.value(G),q))}B(A)}je(A)}function sn(t,A){a.value===!0&&p.innerLoading.value===!1&&(B(-1,!0),Ae(()=>{a.value===!0&&p.innerLoading.value===!1&&(t>A?B():pt(!0))}))}function Jt(){o.value===!1&&E.value!==null&&E.value.updatePosition()}function $t(t){t!==void 0&&Xe(t),i("popupShow",t),p.hasPopupOpen=!0,p.onControlFocusin(t)}function Xt(t){t!==void 0&&Xe(t),i("popupHide",t),p.hasPopupOpen=!1,p.onControlFocusout(t)}function Yt(){d=c.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||N.value===!1:!0),S=c.platform.is.ios===!0&&d===!0&&e.useInput===!0?"fade":e.transitionShow}return Fl(Yt),qn(Jt),Yt(),Qe(()=>{g!==null&&clearTimeout(g)}),Object.assign(n,{showPopup:Je,hidePopup:Fe,removeAtIndex:we,add:Nt,toggleOption:Oe,getOptionIndex:()=>r.value,setOptionIndex:je,moveOptionSelection:it,filter:Ue,updateMenuPosition:Jt,updateInputValue:tt,isOptionSelected:yt,getEmittingOptionValue:H,isOptionDisabled:(...t)=>O.value.apply(null,t)===!0,getOptionValue:(...t)=>ve.value.apply(null,t),getOptionLabel:(...t)=>he.value.apply(null,t)}),Object.assign(p,{innerValue:w,fieldClass:u(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:k,targetRef:V,hasValue:Z,showPopup:Je,floatingLabel:u(()=>e.hideSelected!==!0&&Z.value===!0||typeof f.value=="number"||f.value.length>0||el(e.displayValue)),getControlChild:()=>{if(p.editable.value!==!1&&(o.value===!0||N.value!==!0||l["no-option"]!==void 0))return d===!0?an():Zl();p.hasPopupOpen===!0&&(p.hasPopupOpen=!1)},controlEvents:{onFocusin(t){p.onControlFocusin(t)},onFocusout(t){p.onControlFocusout(t,()=>{$e(),We()})},onClick(t){if(ct(t),d!==!0&&a.value===!0){We(),V.value!==null&&V.value.focus();return}Je(t)}},getControl:t=>{const A=Xl(),q=t===!0||o.value!==!0||d!==!0;if(e.useInput===!0)A.push(Yl(t,q));else if(p.editable.value===!0){const te=q===!0?Ce.value:void 0;A.push(v("input",{ref:q===!0?V:void 0,key:"d_t",class:"q-select__focus-target",id:q===!0?p.targetUid.value:void 0,value:x.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...te,onKeydown:Kt,onKeyup:Gt,onKeypress:Qt})),q===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&A.push(v("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ht}))}if(J.value!==void 0&&e.disable!==!0&&j.value.length>0){const te=j.value.map(X=>v("option",{value:X,selected:!0}));A.push(v("select",{class:"hidden",name:J.value,multiple:e.multiple},te))}const G=e.useInput===!0||q!==!0?void 0:p.splitAttrs.attributes.value;return v("div",{class:"q-field__native row items-center",...G,...p.splitAttrs.listeners.value},A)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[v(Ee,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Me.value})]:null}),kl(p)}});const Ye=40,Pt=20;var da=ce({name:"QPullToRefresh",props:{color:String,bgColor:String,icon:String,noMouse:Boolean,disable:Boolean,scrollTarget:{default:void 0}},emits:["refresh"],setup(e,{slots:l,emit:i}){const{proxy:n}=ge(),{$q:c}=n,a=_("pull"),o=_(0),r=_(!1),f=_(-Ye),m=_(!1),s=_({}),g=u(()=>({opacity:o.value,transform:`translateY(${f.value}px) rotate(${o.value*360}deg)`})),b=u(()=>"q-pull-to-refresh__puller row flex-center"+(m.value===!0?" q-pull-to-refresh__puller--animating":"")+(e.bgColor!==void 0?` bg-${e.bgColor}`:""));function d(E){if(E.isFinal===!0){r.value===!0&&(r.value=!1,a.value==="pulled"?(a.value="refreshing",k({pos:Pt}),h()):a.value==="pull"&&k({pos:-Ye,ratio:0}));return}if(m.value===!0||a.value==="refreshing")return!1;if(E.isFirst===!0){if(Rn(M)!==0||E.direction!=="down")return r.value===!0&&(r.value=!1,a.value="pull",k({pos:-Ye,ratio:0})),!1;r.value=!0;const{top:J,left:le}=S.getBoundingClientRect();s.value={top:J+"px",left:le+"px",width:window.getComputedStyle(S).getPropertyValue("width")}}ct(E.evt);const L=Math.min(140,Math.max(0,E.distance.y));f.value=L-Ye,o.value=ot(L/(Pt+Ye),0,1);const U=f.value>Pt?"pulled":"pull";a.value!==U&&(a.value=U)}const P=u(()=>{const E={down:!0};return e.noMouse!==!0&&(E.mouse=!0),[[Ft,d,void 0,E]]}),T=u(()=>`q-pull-to-refresh__content${r.value===!0?" no-pointer-events":""}`);function h(){i("refresh",()=>{k({pos:-Ye,ratio:0},()=>{a.value="pull"})})}let S,M,y=null;function k({pos:E,ratio:L},U){m.value=!0,f.value=E,L!==void 0&&(o.value=L),y!==null&&clearTimeout(y),y=setTimeout(()=>{y=null,m.value=!1,U&&U()},300)}function V(){M=Rl(S,e.scrollTarget)}return ye(()=>e.scrollTarget,V),Bt(()=>{S=n.$el,V()}),Qe(()=>{y!==null&&clearTimeout(y)}),Object.assign(n,{trigger:h,updateScrollTarget:V}),()=>{const E=[v("div",{class:T.value},pe(l.default)),v("div",{class:"q-pull-to-refresh__puller-container fixed row flex-center no-pointer-events z-top",style:s.value},[v("div",{class:b.value,style:g.value},[a.value!=="refreshing"?v(Ee,{name:e.icon||c.iconSet.pullToRefresh.icon,color:e.color,size:"32px"}):v(Pn,{size:"24px",color:e.color})])])];return bt("div",{class:"q-pull-to-refresh"},E,"main",e.disable===!1,()=>P.value)}}});const Lt={...yl,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Tt=50,Kl=2*Tt,jl=Kl*Math.PI,va=Math.round(jl*1e3)/1e3;var fa=ce({name:"QCircularProgress",props:{...Lt,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:l}){const{proxy:{$q:i}}=ge(),n=pl(e),c=u(()=>{const b=(i.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(i.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-b}deg)`:`rotate3d(0, 0, 1, ${b-90}deg)`}}),a=u(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),o=u(()=>Kl/(1-e.thickness/2)),r=u(()=>`${o.value/2} ${o.value/2} ${o.value} ${o.value}`),f=u(()=>ot(e.value,e.min,e.max)),m=u(()=>jl*(1-(f.value-e.min)/(e.max-e.min))),s=u(()=>e.thickness/2*o.value);function g({thickness:b,offset:d,color:P,cls:T,rounded:h}){return v("circle",{class:"q-circular-progress__"+T+(P!==void 0?` text-${P}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":b,"stroke-dasharray":va,"stroke-dashoffset":d,"stroke-linecap":h,cx:o.value,cy:o.value,r:Tt})}return()=>{const b=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&b.push(v("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Tt-s.value/2,cx:o.value,cy:o.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&b.push(g({cls:"track",thickness:s.value,offset:0,color:e.trackColor})),b.push(g({cls:"circle",thickness:s.value,offset:m.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const d=[v("svg",{class:"q-circular-progress__svg",style:c.value,viewBox:r.value,"aria-hidden":"true"},b)];return e.showValue===!0&&d.push(v("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},l.default!==void 0?l.default():[v("div",f.value)])),v("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:n.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:f.value},xl(l.internal,d))}}});const ml=[34,37,40,33,39,38],ma=Object.keys(Lt);var ga=ce({name:"QKnob",props:{...Ol,...Lt,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(e,{slots:l,emit:i}){const{proxy:n}=ge(),{$q:c}=n,a=_(e.modelValue),o=_(!1),r=u(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),f=u(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax);let m;function s(){a.value=e.modelValue===null?r.value:ot(e.modelValue,r.value,f.value),Y(!0)}ye(()=>`${e.modelValue}|${r.value}|${f.value}`,s),s();const g=u(()=>e.disable===!1&&e.readonly===!1),b=u(()=>"q-knob non-selectable"+(g.value===!0?" q-knob--editable":e.disable===!0?" disabled":"")),d=u(()=>(String(e.step).trim().split(".")[1]||"").length),P=u(()=>e.step===0?1:e.step),T=u(()=>e.instantFeedback===!0||o.value===!0),h=c.platform.is.mobile===!0?u(()=>g.value===!0?{onClick:L}:{}):u(()=>g.value===!0?{onMousedown:E,onClick:L,onKeydown:U,onKeyup:le}:{}),S=u(()=>g.value===!0?{tabindex:e.tabindex}:{[`aria-${e.disable===!0?"disabled":"readonly"}`]:"true"}),M=u(()=>{const C={};return ma.forEach(B=>{C[B]=e[B]}),C});function y(C){C.isFinal?(J(C.evt,!0),o.value=!1):(C.isFirst&&(V(),o.value=!0),J(C.evt))}const k=u(()=>[[Ft,y,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function V(){const{top:C,left:B,width:$,height:R}=n.$el.getBoundingClientRect();m={top:C+R/2,left:B+$/2}}function E(C){V(),J(C)}function L(C){V(),J(C,!0)}function U(C){if(!ml.includes(C.keyCode))return;me(C);const B=([34,33].includes(C.keyCode)?10:1)*P.value,$=[34,37,40].includes(C.keyCode)?-B:B;a.value=ot(parseFloat((a.value+$).toFixed(d.value)),r.value,f.value),Y()}function J(C,B){const $=dt(C),R=Math.abs($.top-m.top),ne=Math.sqrt(R**2+Math.abs($.left-m.left)**2);let W=Math.asin(R/ne)*(180/Math.PI);$.top<m.top?W=m.left<$.left?90-W:270+W:W=m.left<$.left?W+90:270-W,c.lang.rtl===!0?W=ht(-W-e.angle,0,360):e.angle&&(W=ht(W-e.angle,0,360)),e.reverse===!0&&(W=360-W);let p=e.min+W/360*(e.max-e.min);if(P.value!==0){const w=p%P.value;p=p-w+(Math.abs(w)>=P.value/2?(w<0?-1:1)*P.value:0),p=parseFloat(p.toFixed(d.value))}p=ot(p,r.value,f.value),i("dragValue",p),a.value!==p&&(a.value=p),Y(B)}function le(C){ml.includes(C.keyCode)&&Y(!0)}function Y(C){e.modelValue!==a.value&&i("update:modelValue",a.value),C===!0&&i("change",a.value)}const de=In(e);function z(){return v("input",de.value)}return()=>{const C={class:b.value,role:"slider","aria-valuemin":r.value,"aria-valuemax":f.value,"aria-valuenow":e.modelValue,...S.value,...M.value,value:a.value,instantFeedback:T.value,...h.value},B={default:l.default};return g.value===!0&&e.name!==void 0&&(B.internal=z),bt(fa,C,B,"knob",g.value,()=>k.value)}}}),ha=ce({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:l,emit:i}){const n=ge(),c=_(null);let a=0;const o=[];function r(d){const P=typeof d=="boolean"?d:e.noErrorFocus!==!0,T=++a,h=(y,k)=>{i("validation"+(y===!0?"Success":"Error"),k)},S=y=>{const k=y.validate();return typeof k.then=="function"?k.then(V=>({valid:V,comp:y}),V=>({valid:!1,comp:y,err:V})):Promise.resolve({valid:k,comp:y})};return(e.greedy===!0?Promise.all(o.map(S)).then(y=>y.filter(k=>k.valid!==!0)):o.reduce((y,k)=>y.then(()=>S(k).then(V=>{if(V.valid===!1)return Promise.reject(V)})),Promise.resolve()).catch(y=>[y])).then(y=>{if(y===void 0||y.length===0)return T===a&&h(!0),!0;if(T===a){const{comp:k,err:V}=y[0];if(V!==void 0&&console.error(V),h(!1,k),P===!0){const E=y.find(({comp:L})=>typeof L.focus=="function"&&Tn(L.$)===!1);E!==void 0&&E.comp.focus()}}return!1})}function f(){a++,o.forEach(d=>{typeof d.resetValidation=="function"&&d.resetValidation()})}function m(d){d!==void 0&&me(d);const P=a+1;r().then(T=>{P===a&&T===!0&&(e.onSubmit!==void 0?i("submit",d):d!==void 0&&d.target!==void 0&&typeof d.target.submit=="function"&&d.target.submit())})}function s(d){d!==void 0&&me(d),i("reset"),Ae(()=>{f(),e.autofocus===!0&&e.noResetFocus!==!0&&g()})}function g(){Tl(()=>{if(c.value===null)return;const d=c.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||c.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||c.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(c.value.querySelectorAll("[tabindex]"),P=>P.tabIndex>-1);d!=null&&d.focus({preventScroll:!0})})}zl(En,{bindComponent(d){o.push(d)},unbindComponent(d){const P=o.indexOf(d);P>-1&&o.splice(P,1)}});let b=!1;return Ml(()=>{b=!0}),Bl(()=>{b===!0&&e.autofocus===!0&&g()}),Bt(()=>{e.autofocus===!0&&g()}),Object.assign(n.proxy,{validate:r,resetValidation:f,submit:m,reset:s,focus:g,getValidationComponents:()=>o}),()=>v("form",{class:"q-form",ref:c,onSubmit:m,onReset:s},pe(l.default))}});function zt(){const e=new Map;return{getCache:function(l,i){return e[l]===void 0?e[l]=i:e[l]},getCacheWithFn:function(l,i){return e[l]===void 0?e[l]=i():e[l]}}}const gl=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var ba=ce({name:"QSlideItem",props:{...Ge,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:l,emit:i}){const{proxy:n}=ge(),{$q:c}=n,a=He(e,c),{getCacheWithFn:o}=zt(),r=_(null);let f=null,m={},s={},g={};const b=u(()=>c.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),d=u(()=>"q-slide-item q-item-type overflow-hidden"+(a.value===!0?" q-slide-item--dark q-dark":""));function P(){r.value.style.transform="translate(0,0)"}function T(S,M,y){e.onSlide!==void 0&&i("slide",{side:S,ratio:M,isReset:y})}function h(S){const M=r.value;if(S.isFirst)m={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},M.classList.add("no-transition"),gl.forEach(E=>{if(l[E[0]]!==void 0){const L=g[E[0]];L.style.transform="scale(1)",m.size[E[0]]=L.getBoundingClientRect()[E[3]]}}),m.axis=S.direction==="up"||S.direction==="down"?"Y":"X";else if(S.isFinal){M.classList.remove("no-transition"),m.scale===1?(M.style.transform=`translate${m.axis}(${m.dir*100}%)`,f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,i(m.showing,{reset:P}),i("action",{side:m.showing,reset:P})},230)):(M.style.transform="translate(0,0)",T(m.showing,0,!0));return}else S.direction=m.axis==="X"?S.offset.x<0?"left":"right":S.offset.y<0?"up":"down";if(l.left===void 0&&S.direction===b.value.right||l.right===void 0&&S.direction===b.value.left||l.top===void 0&&S.direction==="down"||l.bottom===void 0&&S.direction==="up"){M.style.transform="translate(0,0)";return}let y,k,V;m.axis==="X"?(k=S.direction==="left"?-1:1,y=k===1?b.value.left:b.value.right,V=S.distance.x):(k=S.direction==="up"?-2:2,y=k===2?"top":"bottom",V=S.distance.y),!(m.dir!==null&&Math.abs(k)!==Math.abs(m.dir))&&(m.dir!==k&&(["left","right","top","bottom"].forEach(E=>{s[E]&&(s[E].style.visibility=y===E?"visible":"hidden")}),m.showing=y,m.dir=k),m.scale=Math.max(0,Math.min(1,(V-40)/m.size[y])),M.style.transform=`translate${m.axis}(${V*k/Math.abs(k)}px)`,g[y].style.transform=`scale(${m.scale})`,T(y,m.scale,!1))}return Fl(()=>{s={},g={}}),Qe(()=>{f!==null&&clearTimeout(f)}),Object.assign(n,{reset:P}),()=>{const S=[],M={left:l[b.value.right]!==void 0,right:l[b.value.left]!==void 0,up:l.bottom!==void 0,down:l.top!==void 0},y=Object.keys(M).filter(V=>M[V]===!0);gl.forEach(V=>{const E=V[0];l[E]!==void 0&&S.push(v("div",{ref:L=>{s[E]=L},class:`q-slide-item__${E} absolute-full row no-wrap items-${V[1]} justify-${V[2]}`+(e[E+"Color"]!==void 0?` bg-${e[E+"Color"]}`:"")},[v("div",{ref:L=>{g[E]=L}},l[E]())]))});const k=v("div",{key:`${y.length===0?"only-":""} content`,ref:r,class:"q-slide-item__content"},pe(l.default));return y.length===0?S.push(k):S.push(Ot(k,o("dir#"+y.join(""),()=>{const V={prevent:!0,stop:!0,mouse:!0};return y.forEach(E=>{V[E]=!0}),[[Ft,h,void 0,V]]}))),v("div",{class:d.value},S)}}});const Ne=Mn({}),Sa=Object.keys(Mt);var ya=ce({name:"QExpansionItem",props:{...Mt,...Vl,...Ge,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Al,"click","afterShow","afterHide"],setup(e,{slots:l,emit:i}){const{proxy:{$q:n}}=ge(),c=He(e,n),a=_(e.modelValue!==null?e.modelValue:e.defaultOpened),o=_(null),r=tl(),{show:f,hide:m,toggle:s}=Pl({showing:a});let g,b;const d=u(()=>`q-expansion-item q-item-type q-expansion-item--${a.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),P=u(()=>{if(e.contentInsetLevel===void 0)return null;const R=n.lang.rtl===!0?"Right":"Left";return{["padding"+R]:e.contentInsetLevel*56+"px"}}),T=u(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),h=u(()=>{const R={};return Sa.forEach(ne=>{R[ne]=e[ne]}),R}),S=u(()=>T.value===!0||e.expandIconToggle!==!0),M=u(()=>e.expandedIcon!==void 0&&a.value===!0?e.expandedIcon:e.expandIcon||n.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),y=u(()=>e.disable!==!0&&(T.value===!0||e.expandIconToggle===!0)),k=u(()=>({expanded:a.value===!0,detailsId:e.targetUid,toggle:s,show:f,hide:m})),V=u(()=>{const R=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:n.lang.label[a.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":a.value===!0?"true":"false","aria-controls":r,"aria-label":R}});ye(()=>e.group,R=>{b!==void 0&&b(),R!==void 0&&Y()});function E(R){T.value!==!0&&s(R),i("click",R)}function L(R){R.keyCode===13&&U(R,!0)}function U(R,ne){ne!==!0&&o.value!==null&&o.value.focus(),s(R),me(R)}function J(){i("afterShow")}function le(){i("afterHide")}function Y(){g===void 0&&(g=tl()),a.value===!0&&(Ne[e.group]=g);const R=ye(a,W=>{W===!0?Ne[e.group]=g:Ne[e.group]===g&&delete Ne[e.group]}),ne=ye(()=>Ne[e.group],(W,p)=>{p===g&&W!==void 0&&W!==g&&m()});b=()=>{R(),ne(),Ne[e.group]===g&&delete Ne[e.group],b=void 0}}function de(){const R={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},ne=[v(Ee,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&a.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:M.value})];return y.value===!0&&(Object.assign(R,{tabindex:0,...V.value,onClick:U,onKeyup:L}),ne.unshift(v("div",{ref:o,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),v(De,R,()=>ne)}function z(){let R;return l.header!==void 0?R=[].concat(l.header(k.value)):(R=[v(De,()=>[v(mt,{lines:e.labelLines},()=>e.label||""),e.caption?v(mt,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&R[e.switchToggleSide===!0?"push":"unshift"](v(De,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>v(Ee,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&R[e.switchToggleSide===!0?"unshift":"push"](de()),R}function C(){const R={ref:"item",style:e.headerStyle,class:e.headerClass,dark:c.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return S.value===!0&&(R.clickable=!0,R.onClick=E,Object.assign(R,T.value===!0?h.value:V.value)),v(ft,R,z)}function B(){return Ot(v("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:P.value,id:r},pe(l.default)),[[Bn,a.value]])}function $(){const R=[C(),v(Gl,{duration:e.duration,onShow:J,onHide:le},B)];return e.expandSeparator===!0&&R.push(v(vt,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:c.value}),v(vt,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:c.value})),R}return e.group!==void 0&&Y(),Qe(()=>{b!==void 0&&b()}),()=>v("div",{class:d.value},[v("div",{class:"q-expansion-item__container relative-position"},$())])}}),pa=ce({name:"QList",props:{...Ge,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:l}){const i=ge(),n=He(e,i.proxy.$q),c=u(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(n.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>v(e.tag,{class:c.value},pe(l.default))}}),Rt=ce({name:"QStepperNavigation",setup(e,{slots:l}){return()=>v("div",{class:"q-stepper__nav"},pe(l.default))}}),Ul=ce({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:l}){const{proxy:{$q:i}}=ge(),n=_(null),c=u(()=>e.stepper.modelValue===e.step.name),a=u(()=>{const h=e.step.disable;return h===!0||h===""}),o=u(()=>{const h=e.step.error;return h===!0||h===""}),r=u(()=>{const h=e.step.done;return a.value===!1&&(h===!0||h==="")}),f=u(()=>{const h=e.step.headerNav,S=h===!0||h===""||h===void 0;return a.value===!1&&e.stepper.headerNav&&S}),m=u(()=>e.step.prefix&&(c.value===!1||e.stepper.activeIcon==="none")&&(o.value===!1||e.stepper.errorIcon==="none")&&(r.value===!1||e.stepper.doneIcon==="none")),s=u(()=>{const h=e.step.icon||e.stepper.inactiveIcon;if(c.value===!0){const S=e.step.activeIcon||e.stepper.activeIcon;return S==="none"?h:S||i.iconSet.stepper.active}if(o.value===!0){const S=e.step.errorIcon||e.stepper.errorIcon;return S==="none"?h:S||i.iconSet.stepper.error}if(a.value===!1&&r.value===!0){const S=e.step.doneIcon||e.stepper.doneIcon;return S==="none"?h:S||i.iconSet.stepper.done}return h}),g=u(()=>{const h=o.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(c.value===!0){const S=e.step.activeColor||e.stepper.activeColor||e.step.color;return S!==void 0?S:h}return h!==void 0?h:a.value===!1&&r.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),b=u(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(g.value!==void 0?` text-${g.value}`:"")+(o.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(m.value===!0?"prefix":"icon"):"")+(c.value===!0?" q-stepper__tab--active":"")+(r.value===!0?" q-stepper__tab--done":"")+(f.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(a.value===!0?" q-stepper__tab--disabled":"")),d=u(()=>e.stepper.headerNav!==!0?!1:f.value);function P(){n.value!==null&&n.value.focus(),c.value===!1&&e.goToPanel(e.step.name)}function T(h){h.keyCode===13&&c.value===!1&&e.goToPanel(e.step.name)}return()=>{const h={class:b.value};f.value===!0&&(h.onClick=P,h.onKeyup=T,Object.assign(h,a.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:l.tabindex||0}));const S=[v("div",{class:"q-focus-helper",tabindex:-1,ref:n}),v("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[v("span",{class:"row flex-center"},[m.value===!0?e.step.prefix:v(Ee,{name:s.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const M=[v("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&M.push(v("div",{class:"q-stepper__caption"},e.step.caption)),S.push(v("div",{class:"q-stepper__label q-stepper__line relative-position"},M))}return Ot(v("div",h,S),[[Cl,d.value]])}}});function xa(e){const l=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,n)=>{const c=parseFloat(i);c&&(l[n]=c)}),l}var Ca=On({name:"touch-swipe",beforeMount(e,{value:l,arg:i,modifiers:n}){if(n.mouse!==!0&&nt.has.touch!==!0)return;const c=n.mouseCapture===!0?"Capture":"",a={handler:l,sensitivity:xa(i),direction:cl(n),noop:El,mouseStart(o){dl(o,a)&&Fn(o)&&(rt(a,"temp",[[document,"mousemove","move",`notPassive${c}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(o,!0))},touchStart(o){if(dl(o,a)){const r=o.target;rt(a,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),a.start(o)}},start(o,r){nt.is.firefox===!0&&Ct(e,!0);const f=dt(o);a.event={x:f.left,y:f.top,time:Date.now(),mouse:r===!0,dir:!1}},move(o){if(a.event===void 0)return;if(a.event.dir!==!1){me(o);return}const r=Date.now()-a.event.time;if(r===0)return;const f=dt(o),m=f.left-a.event.x,s=Math.abs(m),g=f.top-a.event.y,b=Math.abs(g);if(a.event.mouse!==!0){if(s<a.sensitivity[1]&&b<a.sensitivity[1]){a.end(o);return}}else if(s<a.sensitivity[2]&&b<a.sensitivity[2])return;const d=s/r,P=b/r;a.direction.vertical===!0&&s<b&&s<100&&P>a.sensitivity[0]&&(a.event.dir=g<0?"up":"down"),a.direction.horizontal===!0&&s>b&&b<100&&d>a.sensitivity[0]&&(a.event.dir=m<0?"left":"right"),a.direction.up===!0&&s<b&&g<0&&s<100&&P>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&s<b&&g>0&&s<100&&P>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&s>b&&m<0&&b<100&&d>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&s>b&&m>0&&b<100&&d>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(me(o),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Xn(),a.styleCleanup=T=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const h=()=>{document.body.classList.remove("no-pointer-events--children")};T===!0?setTimeout(h,50):h()}),a.handler({evt:o,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:r,distance:{x:s,y:b}})):a.end(o)},end(o){a.event!==void 0&&(wt(a,"temp"),nt.is.firefox===!0&&Ct(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),o!==void 0&&a.event.dir!==!1&&me(o),a.event=void 0)}};if(e.__qtouchswipe=a,n.mouse===!0){const o=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";rt(a,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}nt.has.touch===!0&&rt(a,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,l){const i=e.__qtouchswipe;i!==void 0&&(l.oldValue!==l.value&&(typeof l.value!="function"&&i.end(),i.handler=l.value),i.direction=cl(l.modifiers))},beforeUnmount(e){const l=e.__qtouchswipe;l!==void 0&&(wt(l,"main"),wt(l,"temp"),nt.is.firefox===!0&&Ct(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(),delete e.__qtouchswipe)}});const wa={name:{required:!0},disable:Boolean},hl={setup(e,{slots:l}){return()=>v("div",{class:"q-panel scroll",role:"tabpanel"},pe(l.default))}},ka={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},qa=["update:modelValue","beforeTransition","transition"];function _a(){const{props:e,emit:l,proxy:i}=ge(),{getCacheWithFn:n}=zt();let c,a;const o=_(null),r=_(null);function f(z){const C=e.vertical===!0?"up":"left";L((i.$q.lang.rtl===!0?-1:1)*(z.direction===C?1:-1))}const m=u(()=>[[Ca,f,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),s=u(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),g=u(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),b=u(()=>`--q-transition-duration: ${e.transitionDuration}ms`),d=u(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),P=u(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),T=u(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ye(()=>e.modelValue,(z,C)=>{const B=y(z)===!0?k(z):-1;a!==!0&&E(B===-1?0:B<k(C)?-1:1),o.value!==B&&(o.value=B,l("beforeTransition",z,C),Ae(()=>{l("transition",z,C)}))});function h(){L(1)}function S(){L(-1)}function M(z){l("update:modelValue",z)}function y(z){return z!=null&&z!==""}function k(z){return c.findIndex(C=>C.props.name===z&&C.props.disable!==""&&C.props.disable!==!0)}function V(){return c.filter(z=>z.props.disable!==""&&z.props.disable!==!0)}function E(z){const C=z!==0&&e.animated===!0&&o.value!==-1?"q-transition--"+(z===-1?s.value:g.value):null;r.value!==C&&(r.value=C)}function L(z,C=o.value){let B=C+z;for(;B>-1&&B<c.length;){const $=c[B];if($!==void 0&&$.props.disable!==""&&$.props.disable!==!0){E(z),a=!0,l("update:modelValue",$.props.name),setTimeout(()=>{a=!1});return}B+=z}e.infinite===!0&&c.length>0&&C!==-1&&C!==c.length&&L(z,z===-1?c.length:-1)}function U(){const z=k(e.modelValue);return o.value!==z&&(o.value=z),!0}function J(){const z=y(e.modelValue)===!0&&U()&&c[o.value];return e.keepAlive===!0?[v(Nl,P.value,[v(T.value===!0?n(d.value,()=>({...hl,name:d.value})):hl,{key:d.value,style:b.value},()=>z)])]:[v("div",{class:"q-panel scroll",style:b.value,key:d.value,role:"tabpanel"},[z])]}function le(){if(c.length!==0)return e.animated===!0?[v(Il,{name:r.value},J)]:J()}function Y(z){return c=Ln(pe(z.default,[])).filter(C=>C.props!==null&&C.props.slot===void 0&&y(C.props.name)===!0),c.length}function de(){return c}return Object.assign(i,{next:h,previous:S,goTo:M}),{panelIndex:o,panelDirectives:m,updatePanelsList:Y,updatePanelIndex:U,getPanelContent:le,getEnabledPanels:V,getPanels:de,isValidPanelName:y,keepAliveProps:P,needsUniqueKeepAliveWrapper:T,goToPanelByOffset:L,goToPanel:M,nextPanel:h,previousPanel:S}}function Wl(e){return v("div",{class:"q-stepper__step-content"},[v("div",{class:"q-stepper__step-inner"},pe(e.default))])}const bl={setup(e,{slots:l}){return()=>Wl(l)}};var It=ce({name:"QStep",props:{...wa,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:l,emit:i}){const{proxy:{$q:n}}=ge(),c=zn(Dl,kt);if(c===kt)return console.error("QStep needs to be a child of QStepper"),kt;const{getCacheWithFn:a}=zt(),o=_(null),r=u(()=>c.value.modelValue===e.name),f=u(()=>n.platform.is.ios!==!0&&n.platform.is.chrome===!0||r.value!==!0||c.value.vertical!==!0?{}:{onScroll(g){const{target:b}=g;b.scrollTop>0&&(b.scrollTop=0),e.onScroll!==void 0&&i("scroll",g)}}),m=u(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function s(){const g=c.value.vertical;return g===!0&&c.value.keepAlive===!0?v(Nl,c.value.keepAliveProps.value,r.value===!0?[v(c.value.needsUniqueKeepAliveWrapper.value===!0?a(m.value,()=>({...bl,name:m.value})):bl,{key:m.value},l.default)]:void 0):g!==!0||r.value===!0?Wl(l):void 0}return()=>v("div",{ref:o,class:"q-stepper__step",role:"tabpanel",...f.value},c.value.vertical===!0?[v(Ul,{stepper:c.value,step:e,goToPanel:c.value.goToPanel}),c.value.animated===!0?v(Gl,s):s()]:[s()])}});const Va=/(-\w)/g;function Aa(e){const l={};for(const i in e){const n=i.replace(Va,c=>c[1].toUpperCase());l[n]=e[i]}return l}var Pa=ce({name:"QStepper",props:{...Ge,...ka,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:qa,setup(e,{slots:l}){const i=ge(),n=He(e,i.proxy.$q),{updatePanelsList:c,isValidPanelName:a,updatePanelIndex:o,getPanelContent:r,getPanels:f,panelDirectives:m,goToPanel:s,keepAliveProps:g,needsUniqueKeepAliveWrapper:b}=_a();zl(Dl,u(()=>({goToPanel:s,keepAliveProps:g,needsUniqueKeepAliveWrapper:b,...e})));const d=u(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(n.value===!0?" q-stepper--dark q-dark":"")),P=u(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function T(){const h=pe(l.message,[]);if(e.vertical===!0){a(e.modelValue)&&o();const S=v("div",{class:"q-stepper__content"},pe(l.default));return h===void 0?[S]:h.concat(S)}return[v("div",{class:P.value},f().map(S=>{const M=Aa(S.props);return v(Ul,{key:M.name,stepper:e,step:M,goToPanel:s})})),h,bt("div",{class:"q-stepper__content q-panel-parent"},r(),"cont",e.swipeable,()=>m.value)]}return()=>(c(l),v("div",{class:d.value},Ll(l.navigation,T())))}});const Ra=v("div",{class:"q-space"});var Sl=ce({name:"QSpace",setup(){return()=>Ra}});const Ia={name:"addGoalForm",setup(){const e=_(40),l=_(!1),i=_(!1),n=_(!1),c=_(1),a=_(null),o=_(null),r=_(null),f=_(""),m=_(""),s=_(""),g=_([]),b=_(""),d=_(3),P=_(15),T=_(""),h=_(null),S=_(!1),M=_(!1),y=_(!1),k=_("line"),V=_(null),E=_(null),L=_(null),U=_(null),J=_({}),le=_("Submit"),Y=_([]),de=_([]),z=_(null),C=ea(),B=Yn();let $,R=null;const ne=u(()=>B.headerRefs);u(()=>B.getHeaders);const W=u(()=>L.value),p=u(()=>k.value!=="main"),w=u(()=>n.value?"Import":"Finish");Dn(()=>{E.value=L.value}),Bt(()=>{L.value=B.getMainGoals,U.value=B.getSubGoals;let O=[];L.value&&L.value.forEach(ee=>{J[ee.id]=!1,O.push(ee.bgcolor)});let j=$n();g.value=j.filter(ee=>!O.find(H=>H==ee)),Y.value=B.fetchGoalsTree()}),Qe(()=>{clearTimeout($)});function F(){c.value=1,i.value=!0,n.value=!1,a.value=JSON.stringify(L.value,null,1),o.value=JSON.stringify(U.value,null,1),r.value=JSON.stringify(B.getAllDates,null,1)}function D(){if(i.value=!0,n.value){if(!o.value||o.value==""||!a.value||a.value==""){console.log("ERROR::importing empty!"),C.notify({color:"negative",position:"top",message:"Something is empty :(",icon:"report_problem"});return}let O=null,j=null,ee=null;try{O=JSON.parse(a.value);let H=[];for(let we in O){let se=O[we];"id"in se&&"title"in se&&"priority"in se||(console.log("ERROR::invalid Parent Goal!",se),H.push(`:INVALID pGoal >> ${JSON.stringify(se)}`))}if(H.length>0)throw H;console.log("Yeee!! PGoals are good!")}catch(H){H instanceof SyntaxError?console.log("ERROR:: MainG SyntaxError!",H):console.log("ERROR:: MainG dataError!",H),C.notify({color:"negative",position:"top",message:"Error with Parent goals :(...check logs",icon:"report_problem"});return}try{j=JSON.parse(o.value);let H=[];for(let we in j){let se=j[we];"id"in se&&"parentGoal"in se&&"title"in se&&"score"in se&&"duration"in se||(console.log("ERROR::invalid subGoal!",se),H.push(`:INVALID subGoal >> ${JSON.stringify(se)}`))}if(H.length>0)throw H;console.log("Yeee!! subGoals are good!")}catch(H){H instanceof SyntaxError?console.log("ERROR:: subG SyntaxError!",H):console.log("ERROR:: subGoals dataError!",H),C.notify({color:"negative",position:"top",message:"Error with Sub goals :(...check logs",icon:"report_problem"});return}if(r.value&&r.value!="")try{ee=JSON.parse(r.value)}catch(H){H instanceof SyntaxError&&console.log("ERROR:: allS SyntaxError!",H),C.notify({color:"negative",position:"top",message:"Error parsing AllEvents...skipping!",icon:"report_problem"})}console.log("importing...",O,j,ee),B.importGoals(O,j,ee),this.doPrint()}else console.log("finished prolly?....."),i.value=!1,this.resetBoxes()}function Z(){a.value=null,o.value=null,r.value=null,console.log("resetBoxes!!")}function ae(){k.value==="main"?C.dialog({title:"Warning",cancel:!0,message:"Reset all Parent Goals?"}).onOk(()=>{B.resetMain()}).onCancel(()=>{console.log("Cancelled!!")}):k.value==="sub"?B.resetSub():C.dialog({title:"Warning",cancel:!0,message:"Reset all goals?"}).onOk(()=>{console.log("Resetting all goals"),B.resetAll()}).onCancel(()=>{console.log("Cancelled!!")})}function Q(){let O=le.value==="Save"?"Save":"Add";if(O==="Save")Ke();else{if(f.value.trim()==""){C.notify({color:"negative",position:"top",message:"Cannot have an empty goal!",icon:"report_problem"});return}if(k.value==="main")B.addMainGoal(f.value,m.value,s.value,d.value);else if(V.value){let j=V.value;B.addSubGoal(j.id,f.value,T.value,b.value,P.value,S.value,M.value,y.value,h.value),console.log("Subgoal Goal added for parent:",j.title)}else{C.notify({color:"negative",position:"top",message:"A sub goal must have a parent goal",icon:"report_problem"}),Me();return}}C.notify({color:"positive",position:"top",message:`Success ${O} for "${f.value}"`,icon:"thumb_up"}),Be()}function N(O){return this.getSubGoals(O).length>0}function ue(O){const j=[];return U.value&&U.value.forEach(ee=>{ee.parentGoal==O&&j.push(ee)}),j}function x(O){$=setTimeout(()=>{O()},0)}function re({reset:O},j,ee){O(),B.removeSubgoal(j),J.value[ee]=!1,C.notify("Delete action triggered for:"+j)}function Ve({reset:O},j,ee){let H=U.value.find(se=>se.id==j),we=L.value.find(se=>se.id==ee);H&&we?(le.value="Save",k.value="sub",f.value=H.title,V.value=we,b.value=H.time,T.value=H.score,P.value=parseInt(H.duration),S.value=H.canMove,M.value=H.inDefaults,y.value=H.isAlternative,h.value=H.jeSuis,R=j):(C.notify({color:"negative",position:"top",message:`ERROR during edit action for ${j} and ${ee}...not found!`,icon:"report_problem"}),console.log(`ERROR could not find all info for ${j} and ${ee}`)),x(O),J.value[ee]=!0}function Pe(O,j,ee){if(console.log(`onParentAction:${O} for> ${j}`,ee),O=="del")C.dialog({title:"Warning",cancel:!0,message:`Delete Parent Goal "${ee}" ?`}).onOk(()=>{B.removeMaingoal(j,!1)}).onCancel(()=>{console.log("Cancelled!!"),J.value[j]=!1});else if(O=="edit"){let H=L.value.find(we=>we.id==j);H?(le.value="Save",k.value="main",V.value=H,f.value=H.title,m.value=H.details,s.value=H.bgcolor,d.value=H.priority,R=j):(C.notify({color:"negative",position:"top",message:`ERROR during edit action for Goal: '${ee}'...not found!`,icon:"report_problem"}),console.log(`ERROR No info for ${j} '${ee}' to edit!!`))}else console.log("ERROR...unknow action!"),J.value[j]=!1}function Ce(){R?B.editSubGoal(R,f.value,T.value,b.value,P.value,S.value,M.value,y.value,h.value):C.notify({color:"negative",position:"top",message:"ERROR: No subgoalId to edit found!",icon:"report_problem"})}function Ke(){let O=V.value;k.value==="main"?R&&(O==null?void 0:O.id)==R?(B.editMainGoal(R,f.value,m.value,s.value,d.value),J.value[O==null?void 0:O.id]=!1):console.log("Error when Edit Parent Goal...inconsistent or not found!",R,O):(Ce(),J.value[O==null?void 0:O.id]=!1),le.value="Submit"}function Re(O){setTimeout(()=>{Ie(),console.log("Refreshing..."),O()},1e3)}function Ie(){L.value=B.getMainGoals,U.value=B.getSubGoals,Y.value=B.fetchGoalsTree(),console.log("reloadin...",U.value,L.value,Y.value)}function Me(){f.value=f.value||" ",d.value=d.value||3,b.value=b.value||"",P.value=P.value||15,m.value=m.value||"",s.value=s.value||"",S.value=S.value||!1,M.value=M.value||!1,console.log("softResetting...with label as>>",le.value)}function Be(){f.value=" ",d.value=3,b.value="",P.value=5,V.value=null,m.value="",s.value="",S.value=!1,M.value=!1,y.value=!1,h.value=null,R=null,console.log("hardReset...")}function et(O){return`row items-center ${O.isChildren?"text-":"text-white bg-"}${O.color} `}function ve(O){return O?"text-white bg-"+O.toLocaleLowerCase():"bg-white"}function he(O){return`${O}${(ee=>{if(!ee)return"";let H=ee.split(":");return parseInt(H[0])>=12?"PM":"AM"})(O)}`}return{splitterModel:e,Adminy:l,step:c,mainGJson:a,subGJson:o,allJson:r,isImporting:n,AdminLabel:w,showGoalsArea:i,showSubG:p,mainGoals:L,subGoals:U,allMGoals:W,howThis:E,daRefs:ne,expanded:J,buttonLabel:le,expandedNodes:de,treeGoals:Y,selected:z,moods:h,goalTitle:f,details:m,bgcolor:s,time:b,priority:d,duration:P,score:T,canMove:S,goalType:k,pGoal:V,inDefaults:M,avColors:g,isAlternative:y,hasSubG:N,doPrint:F,doReset:ae,doImport:D,resetBoxes:Z,onSubmit:Q,getSubGoals:ue,onRightDelete:re,onLeftEdit:Ve,softReset:Me,onParentAction:Pe,refresh:Re,classyColor:et,classyHeader:ve,niceyLabel:he}}},Ta={class:"page page--table q-pa-md"},Ea={style:{"max-width":"400px"}},Ma={class:"q-gutter-sm"},Ba={key:0,class:"q-gutter-md"},Oa={key:2,class:"q-gutter-md"},Fa=xe("br",null,null,-1),La={key:3,class:"q-gutter-sm"},za=xe("br",null,null,-1),Na=xe("br",null,null,-1),Da=xe("br",null,null,-1),Ga=xe("br",null,null,-1),Ha=xe("br",null,null,-1),Qa=xe("br",null,null,-1),Ka=xe("br",null,null,-1),ja=xe("br",null,null,-1),Ua={key:0},Wa={key:0,class:"q-pa-md"},Ja={key:0,class:"q-pa-md"},$a={key:1},Xa={key:0,class:"q-pa-md"},Ya={key:1},Za={key:0,class:"q-pa-md"},eo={key:1},to={class:"row justify-center q-pa-md"},lo={key:1,align:"center"};function no(e,l,i,n,c,a){return oe(),Se("main",Ta,[I(da,{onRefresh:n.refresh},{default:K(()=>[I(Zn,{modelValue:n.splitterModel,"onUpdate:modelValue":l[25]||(l[25]=o=>n.splitterModel=o)},{before:K(()=>[xe("div",Ea,[I(ha,{onSubmit:n.onSubmit,class:"q-gutter-md form"},{default:K(()=>[xe("div",Ma,[I(ll,{modelValue:n.goalType,"onUpdate:modelValue":l[0]||(l[0]=o=>n.goalType=o),onClick:n.softReset,"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"main",label:"Main goal"},null,8,["modelValue","onClick"]),I(ll,{modelValue:n.goalType,"onUpdate:modelValue":l[1]||(l[1]=o=>n.goalType=o),onClick:n.softReset,"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"sub",label:"Sub goal"},null,8,["modelValue","onClick"])]),I(Te,{class:"q-ml-md",filled:"",modelValue:n.goalTitle,"onUpdate:modelValue":l[2]||(l[2]=o=>n.goalTitle=o),label:"A Goal","lazy-rules":"","item-aligned":"",rules:[o=>o&&o.length>0||"Please type a goal"]},null,8,["modelValue","rules"]),n.showSubG?(oe(),Se("div",Ba,[I(At,{class:"q-pl-md",modelValue:n.pGoal,"onUpdate:modelValue":l[3]||(l[3]=o=>n.pGoal=o),options:n.mainGoals,"option-value":"id","option-label":"title",label:"Parent Goal",popupContentClass:"q-gutter-md"},null,8,["modelValue","options"])])):(oe(),Le(Te,{key:1,filled:"",modelValue:n.details,"onUpdate:modelValue":l[4]||(l[4]=o=>n.details=o),label:"Description/Details"},null,8,["modelValue"])),n.showSubG?ze("",!0):(oe(),Se("div",Oa,[I(At,{class:"q-pl-md",modelValue:n.bgcolor,"onUpdate:modelValue":l[5]||(l[5]=o=>n.bgcolor=o),options:n.avColors,color:n.bgcolor,label:"Color",popupContentClass:"q-gutter-md"},null,8,["modelValue","options","color"]),Fa,I(Te,{filled:"",modelValue:n.priority,"onUpdate:modelValue":l[6]||(l[6]=o=>n.priority=o),modelModifiers:{number:!0},type:"number",label:"Priority",hint:"0 to 10"},null,8,["modelValue"])])),n.showSubG?(oe(),Se("div",La,[I(Te,{modelValue:n.time,"onUpdate:modelValue":l[7]||(l[7]=o=>n.time=o),filled:"",type:"time",hint:"Default time"},null,8,["modelValue"]),za,I(Te,{modelValue:n.score,"onUpdate:modelValue":l[8]||(l[8]=o=>n.score=o),filled:"",label:"Score",hint:"format: #on#","lazy-rules":"",rules:[o=>o&&o.includes("on")&&o.length>3||"hint, hint!"]},null,8,["modelValue","rules"]),Na,I(At,{label:"Moods: 'je-suis'",filled:"",modelValue:n.moods,"onUpdate:modelValue":l[9]||(l[9]=o=>n.moods=o),"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",style:{width:"100%"}},{"selected-item":K(o=>[I(Hl,{removable:"",dense:"",onRemove:r=>o.removeAtIndex(o.index),tabindex:o.tabindex,"text-color":"black",class:"q-ma-none",style:{width:"100px"}},{default:K(()=>[fe(qe(o.opt),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue"]),Da,fe(" Duration (min) "),I(ga,{min:5,max:120,thickness:.22,step:5,modelValue:n.duration,"onUpdate:modelValue":l[10]||(l[10]=o=>n.duration=o),"show-value":"",size:"75px",color:"teal","track-color":"grey-3",class:"q-ma-md"},null,8,["thickness","modelValue"]),Ga,I(qt,{modelValue:n.canMove,"onUpdate:modelValue":l[11]||(l[11]=o=>n.canMove=o),label:"Can Move","left-label":"",color:"green"},{default:K(()=>[I(_t,{color:"orange",floating:"",style:{top:"5px",position:"relative",width:"10px","max-width":"10px",height:"10px","max-height":"10px","padding-inline":"3px 6px",cursor:"pointer"}},{default:K(()=>[fe(" ? "),I(st,null,{default:K(()=>[fe("Have to confirm any timeslot change")]),_:1})]),_:1})]),_:1},8,["modelValue"]),Ha,I(qt,{modelValue:n.inDefaults,"onUpdate:modelValue":l[12]||(l[12]=o=>n.inDefaults=o),label:"In Defaults","left-label":"",color:"blue"},{default:K(()=>[I(_t,{color:"orange",floating:"",style:{top:"5px",position:"relative",width:"10px","max-width":"10px",height:"10px","max-height":"10px","padding-inline":"3px 6px",cursor:"pointer"}},{default:K(()=>[fe(" ? "),I(st,null,{default:K(()=>[fe("Is scheduled by default")]),_:1})]),_:1})]),_:1},8,["modelValue"]),Qa,n.duration<30?(oe(),Le(qt,{key:0,modelValue:n.isAlternative,"onUpdate:modelValue":l[13]||(l[13]=o=>n.isAlternative=o),label:"As Alternative","left-label":"",color:"blue"},{default:K(()=>[I(_t,{color:"orange",floating:"",style:{top:"5px",position:"relative",width:"10px","max-width":"10px",height:"10px","max-height":"10px","padding-inline":"3px 6px",cursor:"pointer"}},{default:K(()=>[fe(" ? "),I(st,null,{default:K(()=>[fe("Can be scheduled as an alternative")]),_:1})]),_:1})]),_:1},8,["modelValue"])):ze("",!0)])):ze("",!0),xe("div",null,[I(ke,{label:n.buttonLabel,type:"submit",color:"primary",class:"q-ml-sm",align:"between"},null,8,["label"])])]),_:1},8,["onSubmit"])])]),after:K(()=>[I(pa,{bordered:""},{default:K(()=>[I(ft,null,{default:K(()=>[I(De,null,{default:K(()=>[I(mt,{overline:"",class:"q-mx-lg q-px-md row justify-center",style:{"max-width":"100%","font-weight":"bolder"}},{default:K(()=>[fe("Swipe to Edit or Delete Goal")]),_:1})]),_:1})]),_:1}),I(vt,{spaced:""}),I(Gn,{name:"dalist"},{default:K(()=>[(oe(!0),Se(nl,null,al(n.allMGoals,o=>(oe(),Le(ya,{class:"q-my-sm",modelValue:n.expanded[o.id],"onUpdate:modelValue":r=>n.expanded[o.id]=r,key:o.id,label:o.title,caption:o.details,popup:"",expandSeparator:"","header-class":n.classyHeader(o==null?void 0:o.bgcolor),clickable:""},{default:K(()=>[(oe(!0),Se(nl,null,al(n.getSubGoals(o.id),r=>(oe(),Le(ol,{key:r.id},{default:K(()=>{var f;return[I(ba,{onRight:m=>n.onRightDelete(m,r.id,o.id),onLeft:m=>n.onLeftEdit(m,r.id,o.id)},{left:K(()=>[fe(" Edit ")]),right:K(()=>[fe(" Delete ")]),default:K(()=>[I(ft,null,{default:K(()=>[I(De,{class:"q-mx-sm"},{default:K(()=>[fe(qe(r.title)+" > "+qe(n.niceyLabel(r.time))+" ("+qe(r.duration)+") ",1)]),_:2},1024),I(De,{class:"q-mx-*"},{default:K(()=>[fe(qe(r.score)+" :: "+qe(r.canMove?"canMove":"NoMoves")+" :: "+qe(r.inDefaults?"InDefaults":"NotADefault")+" :: "+qe(r.isAlternative?"Alt":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onRight","onLeft"]),I(vt,{color:(f=o==null?void 0:o.bgcolor)==null?void 0:f.toLocaleLowerCase()},null,8,["color"])]}),_:2},1024))),128)),n.hasSubG(o.id)?ze("",!0):(oe(),Le(ol,{key:0},{default:K(()=>[I(ke,{label:"Delete goal",type:"reset",color:"secondary",noWrap:"",push:"",align:"evenly",class:"q-mx-sm",onClick:il(r=>n.onParentAction("del",o.id,o.title),["prevent"])},null,8,["onClick"]),fe(" OR "),I(ke,{label:"Edit goal",type:"reset",color:"primary",noWrap:"",push:"",align:"evenly",class:"q-mx-sm",onClick:il(r=>n.onParentAction("edit",o.id,o.title),["prevent"])},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue","label","caption","header-class"]))),128))]),_:1})]),_:1}),ja,I(Hn,{dense:"",modelValue:n.Adminy,"onUpdate:modelValue":l[14]||(l[14]=o=>n.Adminy=o),label:"Admin Stuff",color:"teal",class:"q-pa-sm"},null,8,["modelValue"]),n.Adminy?(oe(),Se("div",Ua,[n.showGoalsArea?(oe(),Se("div",Wa,[n.isImporting&&n.mainGJson&&n.mainGJson!=""&&n.subGJson&&n.subGJson!=""?(oe(),Le(ke,{key:0,label:"Reset",push:"",color:"white","text-color":"primary",onClick:n.doPrint,class:"q-px-md"},null,8,["onClick"])):ze("",!0),I(Pa,{modelValue:n.step,"onUpdate:modelValue":l[23]||(l[23]=o=>n.step=o),"header-nav":"",ref:"stepper",color:"primary",animated:""},{default:K(()=>[I(It,{name:1,title:"Main Goals",icon:"settings",done:n.step>1,"header-nav":n.step>1,error:n.step>1&&n.mainGJson==null},{default:K(()=>[n.isImporting?(oe(),Se("div",Ja,[I(Te,{modelValue:n.mainGJson,"onUpdate:modelValue":l[15]||(l[15]=o=>n.mainGJson=o),filled:"",type:"textarea",autogrow:""},null,8,["modelValue"])])):(oe(),Se("div",$a,qe(n.mainGJson),1)),I(Rt,null,{default:K(()=>[I(ke,{onClick:l[16]||(l[16]=()=>{e.done1=!0,n.step=2}),noWrap:"",align:"around",color:"primary",label:"SubGoals->"})]),_:1})]),_:1},8,["done","header-nav","error"]),I(It,{name:2,title:"SubGoals",icon:"create_new_folder",done:n.step>2,"header-nav":n.step>2,error:n.step>2&&n.subGJson==null},{default:K(()=>[n.isImporting?(oe(),Se("div",Xa,[I(Te,{modelValue:n.subGJson,"onUpdate:modelValue":l[17]||(l[17]=o=>n.subGJson=o),filled:"",type:"textarea",autogrow:""},null,8,["modelValue"])])):(oe(),Se("div",Ya,qe(n.subGJson),1)),I(Rt,null,{default:K(()=>[I(ke,{onClick:l[18]||(l[18]=()=>{e.done2=!0,n.step=3}),noWrap:"",align:"around",color:"primary",label:"AllScheduled->"}),I(ke,{flat:"",onClick:l[19]||(l[19]=o=>n.step=1),noWrap:"",align:"around",color:"primary",label:"Back",class:"q-ml-sm"})]),_:1})]),_:1},8,["done","header-nav","error"]),I(It,{name:3,title:"All Dates",caption:"Optional",icon:"add_comment","header-nav":n.step>3},{default:K(()=>[n.isImporting?(oe(),Se("div",Za,[I(Te,{modelValue:n.allJson,"onUpdate:modelValue":l[20]||(l[20]=o=>n.allJson=o),filled:"",type:"textarea",autogrow:""},null,8,["modelValue"])])):(oe(),Se("div",eo,qe(n.allJson),1)),I(Rt,null,{default:K(()=>[I(ke,{color:"primary",onClick:l[21]||(l[21]=()=>{e.done3=!0,n.doImport()}),label:n.AdminLabel,noWrap:"",align:"around"},null,8,["label"]),I(ke,{flat:"",onClick:l[22]||(l[22]=o=>n.step=2),noWrap:"",align:"around",color:"primary",label:"Back",class:"q-ml-sm"})]),_:1})]),_:1},8,["header-nav"])]),_:1},8,["modelValue"])])):ze("",!0),xe("div",to,[I(ke,{class:"q-mt-md",color:"white","text-color":"blue",elevated:"",label:"Print","no-caps":"",align:"around",onClick:n.doPrint},null,8,["onClick"]),I(Sl),I(ke,{class:"q-mt-md",color:"white","text-color":"red",elevated:"",align:"around","no-wrap":"",label:"Reset GoalType","no-caps":"",onClick:n.doReset},null,8,["onClick"]),I(Sl),n.isImporting?ze("",!0):(oe(),Le(ke,{key:0,class:"q-mt-md",color:"white","text-color":"red",elevated:"",align:"around",label:"Import","no-caps":"",onClick:l[24]||(l[24]=()=>{n.showGoalsArea=!0,n.isImporting=!0,n.step=1})}))])])):(oe(),Se("div",lo,[fe(" *Note* Goals named the same can be auto-scheduled!"),I(st,null,{default:K(()=>[fe("Title names are substring/included of/in each other")]),_:1})]))]),default:K(()=>[Ka]),_:1},8,["modelValue"])]),_:1},8,["onRefresh"])])}var ao=Nn(Ia,[["render",no]]),so=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"}));export{na as Q,pa as a,ft as b,De as c,mt as d,Sl as e,At as f,ga as g,ao as h,Hl as i,da as j,so as k};
