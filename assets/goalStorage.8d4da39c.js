import{a7 as $e,r as V,$ as Me,a8 as ce,n as Ae,a9 as Y,w as z,e as He,i as Q,g as re,aa as le,y as ne,ab as de,ac as Ce,C as Le,j as se,ad as Pe,ae as ee,u as De,af as Oe,c as q,ag as We,ah as Ne,ai as je,aj as ke,ak as qe,v as Je,h as U,T as Se,k as ye,a0 as Be,l as ie,m as R,p as Re,t as ze,al as Fe,am as Qe}from"./index.57b3fa58.js";import{p as Ie}from"./utiFunc.f569f737.js";function oe(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),$e.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const be={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},nt={...be,contextMenu:Boolean};function Ke({showing:e,avoidEmit:o,configureAnchorEl:r}){const{props:t,proxy:c,emit:p}=re(),s=V(null);let h=null;function v(f){return s.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const b={};r===void 0&&(Object.assign(b,{hide(f){c.hide(f)},toggle(f){c.toggle(f),f.qAnchorHandled=!0},toggleKey(f){Me(f,13)===!0&&b.toggle(f)},contextClick(f){c.hide(f),ce(f),Ae(()=>{c.show(f),f.qAnchorHandled=!0})},prevent:ce,mobileTouch(f){if(b.mobileCleanup(f),v(f)!==!0)return;c.hide(f),s.value.classList.add("non-selectable");const x=f.target;Y(b,"anchor",[[x,"touchmove","mobileCleanup","passive"],[x,"touchend","mobileCleanup","passive"],[x,"touchcancel","mobileCleanup","passive"],[s.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{h=null,c.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){s.value.classList.remove("non-selectable"),h!==null&&(clearTimeout(h),h=null),e.value===!0&&f!==void 0&&oe()}}),r=function(f=t.contextMenu){if(t.noParentEvent===!0||s.value===null)return;let x;f===!0?c.$q.platform.is.mobile===!0?x=[[s.value,"touchstart","mobileTouch","passive"]]:x=[[s.value,"mousedown","hide","passive"],[s.value,"contextmenu","contextClick","notPassive"]]:x=[[s.value,"click","toggle","passive"],[s.value,"keyup","toggleKey","passive"]],Y(b,"anchor",x)});function w(){le(b,"anchor")}function W(f){for(s.value=f;s.value.classList.contains("q-anchor--skip");)s.value=s.value.parentNode;r()}function P(){if(t.target===!1||t.target===""||c.$el.parentNode===null)s.value=null;else if(t.target===!0)W(c.$el.parentNode);else{let f=t.target;if(typeof t.target=="string")try{f=document.querySelector(t.target)}catch{f=void 0}f!=null?(s.value=f.$el||f,r()):(s.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return z(()=>t.contextMenu,f=>{s.value!==null&&(w(),r(f))}),z(()=>t.target,()=>{s.value!==null&&w(),P()}),z(()=>t.noParentEvent,f=>{s.value!==null&&(f===!0?w():r())}),He(()=>{P(),o!==!0&&t.modelValue===!0&&s.value===null&&p("update:modelValue",!1)}),Q(()=>{h!==null&&clearTimeout(h),w()}),{anchorEl:s,canShow:v,anchorEvents:b}}function Ve(e,o){const r=V(null);let t;function c(h,v){const b=`${v!==void 0?"add":"remove"}EventListener`,w=v!==void 0?v:t;h!==window&&h[b]("scroll",w,ne.passive),window[b]("scroll",w,ne.passive),t=v}function p(){r.value!==null&&(c(r.value),r.value=null)}const s=z(()=>e.noParentEvent,()=>{r.value!==null&&(p(),o())});return Q(s),{localScrollTarget:r,unconfigureScrollTarget:p,changeScrollEvent:c}}const{notPassiveCapture:X}=ne,B=[];function _(e){const o=e.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let r=de.length-1;for(;r>=0;){const t=de[r].$;if(t.type.name==="QTooltip"){r--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;r--}for(let t=B.length-1;t>=0;t--){const c=B[t];if((c.anchorEl.value===null||c.anchorEl.value.contains(o)===!1)&&(o===document.body||c.innerRef.value!==null&&c.innerRef.value.contains(o)===!1))e.qClickOutside=!0,c.onClickOutside(e);else return}}function Ye(e){B.push(e),B.length===1&&(document.addEventListener("mousedown",_,X),document.addEventListener("touchstart",_,X))}function fe(e){const o=B.findIndex(r=>r===e);o!==-1&&(B.splice(o,1),B.length===0&&(document.removeEventListener("mousedown",_,X),document.removeEventListener("touchstart",_,X)))}let he,ge;function me(e){const o=e.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Ue(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ae={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ae[`${e}#ltr`]=e,ae[`${e}#rtl`]=e});function ve(e,o){const r=e.split(" ");return{vertical:r[0],horizontal:ae[`${r[1]}#${o===!0?"rtl":"ltr"}`]}}function Xe(e,o){let{top:r,left:t,right:c,bottom:p,width:s,height:h}=e.getBoundingClientRect();return o!==void 0&&(r-=o[1],t-=o[0],p+=o[1],c+=o[0],s+=o[0],h+=o[1]),{top:r,bottom:p,height:h,left:t,right:c,width:s,middle:t+(c-t)/2,center:r+(p-r)/2}}function _e(e,o,r){let{top:t,left:c}=e.getBoundingClientRect();return t+=o.top,c+=o.left,r!==void 0&&(t+=r[1],c+=r[0]),{top:t,bottom:t+1,height:1,left:c,right:c+1,width:1,middle:c,center:t}}function Ze(e,o){return{top:0,center:o/2,bottom:o,left:0,middle:e/2,right:e}}function pe(e,o,r,t){return{top:e[r.vertical]-o[t.vertical],left:e[r.horizontal]-o[t.horizontal]}}function xe(e,o=0){if(e.targetEl===null||e.anchorEl===null||o>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{xe(e,o+1)},10);return}const{targetEl:r,offset:t,anchorEl:c,anchorOrigin:p,selfOrigin:s,absoluteOffset:h,fit:v,cover:b,maxHeight:w,maxWidth:W}=e;if(Ce.is.ios===!0&&window.visualViewport!==void 0){const J=document.body.style,{offsetLeft:L,offsetTop:N}=window.visualViewport;L!==he&&(J.setProperty("--q-pe-left",L+"px"),he=L),N!==ge&&(J.setProperty("--q-pe-top",N+"px"),ge=N)}const{scrollLeft:P,scrollTop:f}=r,x=h===void 0?Xe(c,b===!0?[0,0]:t):_e(c,h,t);Object.assign(r.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:W,maxHeight:w,visibility:"visible"});const{offsetWidth:S,offsetHeight:M}=r,{elWidth:C,elHeight:H}=v===!0||b===!0?{elWidth:Math.max(x.width,S),elHeight:b===!0?Math.max(x.height,M):M}:{elWidth:S,elHeight:M};let A={maxWidth:W,maxHeight:w};(v===!0||b===!0)&&(A.minWidth=x.width+"px",b===!0&&(A.minHeight=x.height+"px")),Object.assign(r.style,A);const k=Ze(C,H);let T=pe(x,k,p,s);if(h===void 0||t===void 0)te(T,x,k,p,s);else{const{top:J,left:L}=T;te(T,x,k,p,s);let N=!1;if(T.top!==J){N=!0;const j=2*t[1];x.center=x.top-=j,x.bottom-=j+2}if(T.left!==L){N=!0;const j=2*t[0];x.middle=x.left-=j,x.right-=j+2}N===!0&&(T=pe(x,k,p,s),te(T,x,k,p,s))}A={top:T.top+"px",left:T.left+"px"},T.maxHeight!==void 0&&(A.maxHeight=T.maxHeight+"px",x.height>T.maxHeight&&(A.minHeight=A.maxHeight)),T.maxWidth!==void 0&&(A.maxWidth=T.maxWidth+"px",x.width>T.maxWidth&&(A.minWidth=A.maxWidth)),Object.assign(r.style,A),r.scrollTop!==f&&(r.scrollTop=f),r.scrollLeft!==P&&(r.scrollLeft=P)}function te(e,o,r,t,c){const p=r.bottom,s=r.right,h=Le(),v=window.innerHeight-h,b=document.body.clientWidth;if(e.top<0||e.top+p>v)if(c.vertical==="center")e.top=o[t.vertical]>v/2?Math.max(0,v-p):0,e.maxHeight=Math.min(p,v);else if(o[t.vertical]>v/2){const w=Math.min(v,t.vertical==="center"?o.center:t.vertical===c.vertical?o.bottom:o.top);e.maxHeight=Math.min(p,w),e.top=Math.max(0,w-p)}else e.top=Math.max(0,t.vertical==="center"?o.center:t.vertical===c.vertical?o.top:o.bottom),e.maxHeight=Math.min(p,v-e.top);if(e.left<0||e.left+s>b)if(e.maxWidth=Math.min(s,b),c.horizontal==="middle")e.left=o[t.horizontal]>b/2?Math.max(0,b-s):0;else if(o[t.horizontal]>b/2){const w=Math.min(b,t.horizontal==="middle"?o.middle:t.horizontal===c.horizontal?o.right:o.left);e.maxWidth=Math.min(s,w),e.left=Math.max(0,w-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?o.middle:t.horizontal===c.horizontal?o.left:o.right),e.maxWidth=Math.min(s,b-e.left)}var it=se({name:"QTooltip",inheritAttrs:!1,props:{...be,...Pe,...ee,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ee.transitionShow,default:"jump-down"},transitionHide:{...ee.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:me},self:{type:String,default:"top middle",validator:me},offset:{type:Array,default:()=>[14,14],validator:Ue},scrollTarget:De,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Oe],setup(e,{slots:o,emit:r,attrs:t}){let c,p;const s=re(),{proxy:{$q:h}}=s,v=V(null),b=V(!1),w=q(()=>ve(e.anchor,h.lang.rtl)),W=q(()=>ve(e.self,h.lang.rtl)),P=q(()=>e.persistent!==!0),{registerTick:f,removeTick:x}=We(),{registerTimeout:S}=Ne(),{transitionProps:M,transitionStyle:C}=je(e),{localScrollTarget:H,changeScrollEvent:A,unconfigureScrollTarget:k}=Ve(e,a),{anchorEl:T,canShow:J,anchorEvents:L}=Ke({showing:b,configureAnchorEl:E}),{show:N,hide:j}=ke({showing:b,canShow:J,handleShow:F,handleHide:n,hideOnRouteChange:P,processOnMount:!0});Object.assign(L,{delayShow:d,delayHide:G});const{showPortal:I,hidePortal:K,renderPortal:Z}=qe(s,v,g,"tooltip");if(h.platform.is.mobile===!0){const u={anchorEl:T,innerRef:v,onClickOutside($){return j($),$.target.classList.contains("q-dialog__backdrop")&&Be($),!0}},m=q(()=>e.modelValue===null&&e.persistent!==!0&&b.value===!0);z(m,$=>{($===!0?Ye:fe)(u)}),Q(()=>{fe(u)})}function F(u){I(),f(()=>{p=new MutationObserver(()=>l()),p.observe(v.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),l(),a()}),c===void 0&&(c=z(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,l)),S(()=>{I(!0),r("show",u)},e.transitionDuration)}function n(u){x(),K(),i(),S(()=>{K(!0),r("hide",u)},e.transitionDuration)}function i(){p!==void 0&&(p.disconnect(),p=void 0),c!==void 0&&(c(),c=void 0),k(),le(L,"tooltipTemp")}function l(){xe({targetEl:v.value,offset:e.offset,anchorEl:T.value,anchorOrigin:w.value,selfOrigin:W.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function d(u){if(h.platform.is.mobile===!0){oe(),document.body.classList.add("non-selectable");const m=T.value,$=["touchmove","touchcancel","touchend","click"].map(D=>[m,D,"delayHide","passiveCapture"]);Y(L,"tooltipTemp",$)}S(()=>{N(u)},e.delay)}function G(u){h.platform.is.mobile===!0&&(le(L,"tooltipTemp"),oe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),S(()=>{j(u)},e.hideDelay)}function E(){if(e.noParentEvent===!0||T.value===null)return;const u=h.platform.is.mobile===!0?[[T.value,"touchstart","delayShow","passive"]]:[[T.value,"mouseenter","delayShow","passive"],[T.value,"mouseleave","delayHide","passive"]];Y(L,"anchor",u)}function a(){if(T.value!==null||e.scrollTarget!==void 0){H.value=Je(T.value,e.scrollTarget);const u=e.noParentEvent===!0?l:j;A(H.value,u)}}function y(){return b.value===!0?U("div",{...t,ref:v,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,C.value],role:"tooltip"},ye(o.default)):null}function g(){return U(Se,M.value,y)}return Q(i),Object.assign(s.proxy,{updatePosition:l}),Z}}),ot=se({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:o,emit:r}){let t=!1,c,p,s=null,h=null,v,b;function w(){c&&c(),c=null,t=!1,s!==null&&(clearTimeout(s),s=null),h!==null&&(clearTimeout(h),h=null),p!==void 0&&p.removeEventListener("transitionend",v),v=null}function W(S,M,C){M!==void 0&&(S.style.height=`${M}px`),S.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,c=C}function P(S,M){S.style.overflowY=null,S.style.height=null,S.style.transition=null,w(),M!==b&&r(M)}function f(S,M){let C=0;p=S,t===!0?(w(),C=S.offsetHeight===S.scrollHeight?0:void 0):(b="hide",S.style.overflowY="hidden"),W(S,C,M),s=setTimeout(()=>{s=null,S.style.height=`${S.scrollHeight}px`,v=H=>{h=null,(Object(H)!==H||H.target===S)&&P(S,"show")},S.addEventListener("transitionend",v),h=setTimeout(v,e.duration*1.1)},100)}function x(S,M){let C;p=S,t===!0?w():(b="show",S.style.overflowY="hidden",C=S.scrollHeight),W(S,C,M),s=setTimeout(()=>{s=null,S.style.height=0,v=H=>{h=null,(Object(H)!==H||H.target===S)&&P(S,"hide")},S.addEventListener("transitionend",v),h=setTimeout(v,e.duration*1.1)},100)}return Q(()=>{t===!0&&w()}),()=>U(Se,{css:!1,appear:e.appear,onEnter:f,onLeave:x},o.default)}}),at=se({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:o}){const{proxy:{$q:r}}=re(),t=ie(Re,R);if(t===R)return console.error("QPage needs to be a deep child of QLayout"),R;if(ie(ze,R)===R)return console.error("QPage needs to be child of QPageContainer"),R;const p=q(()=>{const h=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const v=t.isContainer.value===!0?t.containerHeight.value:r.screen.height;return e.styleFn(h,v)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-h+"px":r.screen.height===0?h!==0?`calc(100vh - ${h}px)`:"100vh":r.screen.height-h+"px"}}),s=q(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>U("main",{class:s.value,style:p.value},ye(o.default))}});function et(){return ie(Fe)}const rt=Qe("allGoals",()=>{const e=et(),o=q(()=>{let n=JSON.parse(e.localStorage.getItem("mainGoals"));return c(n)}),r=q(()=>{let n=JSON.parse(e.localStorage.getItem("subGoals"));return c(n)}),t=q(()=>JSON.parse(e.localStorage.getItem("AllDates")));function c(n){return n?[...n]:[]}function p(n){e.localStorage.set("Balancey",JSON.stringify(n))}function s(){return JSON.parse(e.localStorage.getItem("Balancey"))}function h(n,i,l=null){x(),e.localStorage.set("mainGoals",JSON.stringify(n)),e.localStorage.set("subGoals",JSON.stringify(i)),l&&e.localStorage.set("AllDates",JSON.stringify(l))}function v(n,i,l,d,G=null){let E=this.getMainGoals;if(!E){console.log("umm no mainGoals...adding"),e.localStorage.set("mainGoals",JSON.stringify([{id:0,title:n.trim(),details:i,priority:d,bgcolor:l,icon:G?F(G):"fas fa-utensils"}]));return}let a=E.length+1;for(;E.some(y=>y.id===a);)a=Math.floor(Math.random()*(a*2));return E.unshift({id:a,title:n.trim(),details:i,priority:d,bgcolor:l,icon:G?F(G):"fas fa-utensils"}),e.localStorage.set("mainGoals",JSON.stringify(E)),a}function b(n,i,l,d,G,E=null){let a=this.getMainGoals;for(var y=0;y<a.length;y++)if(a[y].id===n){a[y].title=i.trim(),a[y].details=l,a[y].bgcolor=d,a[y].priority=G,a[y].icon=E?F(E):a[y].icon;break}e.localStorage.set("mainGoals",JSON.stringify(a))}function w(n,i,l,d,G,E,a,y,g){let u=this.getSubGoals;if(!u){e.localStorage.set("subGoals",JSON.stringify([{id:0,parentGoal:n,title:i.trim(),score:l,time:d,duration:G,canMove:E,inDefaults:a,isAlternative:y,jeSuis:g||[]}]));return}let m=u.length+1;for(;u.some($=>$.id===m);)m=Math.floor(Math.random()*(m*2));return u.unshift({id:m,parentGoal:n,title:i.trim(),score:l,time:d,duration:G,canMove:E,inDefaults:a,isAlternative:y,jeSuis:g||[]}),e.localStorage.set("subGoals",JSON.stringify(u)),m}function W(n,i,l,d,G,E,a,y,g){let u=this.getSubGoals;for(var m=0;m<u.length;m++)if(u[m].id===n){u[m].title=i.trim(),u[m].score=l,u[m].time=d,u[m].duration=G,u[m].canMove=E,u[m].inDefaults=a,u[m].isAlternative=y,u[m].jeSuis=g||[];break}e.localStorage.set("subGoals",JSON.stringify(u))}function P(){e.localStorage.remove("mainGoals"),console.log("removed all mainGoal")}function f(){e.localStorage.remove("subGoals"),console.log("removed all subGoals")}function x(){e.localStorage.remove("subGoals"),e.localStorage.remove("mainGoals"),e.localStorage.remove("AllDates"),e.localStorage.remove("Balancey"),console.log("removed ALL")}function S(n,i=null,l=null){let d=this.getSubGoals;for(var G=0;G<d.length;G++)if(d[G].id===n){d[G].time=i||d[G].time,d[G].score=l||d[G].score;break}e.localStorage.set("subGoals",JSON.stringify(d))}function M(n){let i=this.getSubGoals;for(var l=0;l<i.length;l++)i[l].id===n&&i.splice(l,1);return e.localStorage.set("subGoals",JSON.stringify(i)),i}function C(n,i){let l=this.getMainGoals;for(var d=0;d<l.length;d++)l[d].id===n&&l.splice(d,1);return e.localStorage.set("mainGoals",JSON.stringify(l)),l}function H(n){var d;let i=this.getMainGoals;for(var l=0;l<i.length;l++)if(((d=i[l])==null?void 0:d.title.trim())===n)return i[l];return null}function A(n,i=null){let l=this.getAllDates;l?i?l[`${n}`]=i:n in l&&delete l[`${n}`]:(console.log(`Adding new schedule for ${n}`),l={},l[`${n}`]=i),e.localStorage.set("AllDates",JSON.stringify(l))}function k(n){let i=this.getAllDates;if(i)return i[`${n}`]}function T(n){let i=this.getAllDates;return i?!!i[`${n}`]:!1}function J(){const n=[];let i=function(d){return d==null?void 0:d.inDefaults},l=this.getSubGoals;return l?(l.forEach(d=>{i(d)&&n.push(d)}),n):(console.log("No subgoals to fetch defaults :("),n)}function L(){let n=this.getMainGoals,i=new Set;return n?(n.forEach(l=>{i.add(l.priority)}),i):(console.log("fetchAllPrio::No mainGoals :("),i)}function N(){const n=[];let i=this.getSubGoals;return i&&i.forEach(l=>{l!=null&&l.isAlternative&&n.push(l)}),n}function j(n){const i=[];let l=this.getSubGoals;return l&&l.forEach(d=>{if(d.score=="")console.log(`ERROR::empty score event added: ${d.title}`,d.score),i.push(d);else{let G=Ie(d.score);G>-1&&G<=n&&i.push(d)}}),i}function I(n){const l=(n/60).toFixed(2);return parseFloat(l)}function K(){let n=this.getMainGoals,i=this.getSubGoals,l=(a,y)=>{if(a.id>y.id)return 1;if(a.id==y.id)return 0;if(a.id<y.id)return-1},d=a=>{if(!a)return"";let y=a.split(":");return parseInt(y[0])>=12?a+" PM":a+" AM"},G=a=>{let y=[];return i&&i.forEach(g=>{g.parentGoal==a&&y.push(g)}),y},E=[];return n?(n.forEach(a=>{var m,$,D,ue;let y={id:a.id,label:`${a.id}) ${a==null?void 0:a.title.trim()}`,details:`${a.details} ==> Priority (${a==null?void 0:a.priority})`,color:`${a==null?void 0:a.bgcolor}`,prio:a==null?void 0:a.priority,icon:a==null?void 0:a.icon,children:[]},g=G(a.id);for(let O=0;O<g.length;O++){let Ge=g[O].inDefaults?"Dft":"#",Te=g[O].canMove?"Mv":"#",we=g[O].isAlternative?"Alt":"#",Ee=[`${d((m=g[O])==null?void 0:m.time)} for ${($=g[O])==null?void 0:$.duration} mins`,`:: ${Ge}~${Te}~${we}`].join(`
`);y.children.push({id:g[O].id,label:`${g[O].id})- ${(D=g[O])==null?void 0:D.title.trim()} (${(ue=g[O])==null?void 0:ue.score})`,details:Ee,color:`${a==null?void 0:a.bgcolor}`,isChildren:!0,moods:g[O].jeSuis||[]})}let u=y.children;u.sort(l),y.children=u,E.push(y)}),E.sort(l),E):(console.log("fetchGoalsTree::No mainGoals :("),E)}function Z(){var y;let n=this.getAllDates;if(!n)return[];let i=this.getMainGoals,l=this.getSubGoals,d={};for(let g in n){let u=n[g];for(let m in u){d[m]||(d[m]=[]);let $={date:g,logged:I(u[m].duration),atScore:(y=u[m])==null?void 0:y.atScore};"notes"in u[m]&&($.notes=u[m].notes),d[m].push($)}}let G=g=>{let u=[];return l&&l.forEach(m=>{m.parentGoal==g&&u.push(m)}),u},E=(g,u=null)=>{let m={children:[],title:u?`${g.title.trim()} (${g.score})`:`${g.title.trim()} !${g.priority}!`,key:u?`${u}-${g.id}`:g.id,logged:[],expanded:!0,color:g==null?void 0:g.bgcolor,isChild:!!u};if(u){let $=d[g.id]||[];m.logged=[...$]}return m},a=[];return i.forEach(g=>{let u=E(g),m=G(g.id);for(let $=0;$<m.length;$++){let D=E(m[$],g.id);D.logged.length!=0&&(u.logged.push(...D.logged),D.children.length<1?delete D.children:console.log("huh children has descendents?!? ERROR?",D),u.children.push(D))}a.push(u)}),a}function F(n){if(n.indexOf("-")>-1)return n;let i=n.replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).map(d=>d.toLowerCase()),l=!1;return i.length>1&&(console.log("iconParse::FAS",i),l=!0),i=i.join("-"),i.includes("regular")?"far fa-"+i.replace("-regular",""):l?"fas fa-"+i:"fab fa-"+i}return{getMainGoals:o,getSubGoals:r,getAllDates:t,currentBalance:s,setBalance:p,addMainGoal:v,addSubGoal:w,editSubGoal:W,editMainGoal:b,importGoals:h,getGoalByTitle:H,saveSubProp:S,saveDailySchedule:A,resetSub:f,resetMain:P,resetAll:x,removeSubgoal:M,removeMaingoal:C,getEventsForDate:k,hasEventsForDate:T,fetchAllTaskSummary:Z,fetchGoalsUpToMaxScore:j,fetchAllPrio:L,fetchDefaults:J,fetchAlternativeEvts:N,fetchGoalsTree:K}});export{at as Q,rt as a,it as b,ot as c,oe as d,nt as e,Ue as f,Ve as g,Ke as h,Ye as i,ve as p,fe as r,xe as s,et as u,me as v};
