import{c as H,d as _a,r as v,a as Da,w as $,o as qa,b as Fa,f as Ca,h as l,T as Ha,g as Sa,n as Xa}from"./index.7efdc94b.js";import{d as $a,e as vt,g as ut,f as lt,h as pa,v as Ne,j as rt,k as ha,c as Fe,l as za,a as Ga,u as Ja,b as at,R as fa,m as ma,n as ga,o as wa,q as Wa,r as xa,s as ge,t as ia,w as Ta,x as La,y as Ra,p as ca,z as Aa,A as Ea,B as Oa,C as ke,D as Ia,E as Ma,F as Je,G as Ya,H as Qa,I as ne,J as Ba,K as Va,L as ft,M as ht,O as yt,Q as _t}from"./NavigationBar.a2a961b5.js";function tt(e,s){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s);return}e.scrollTop=s}function mt(e,s){if(e===window){window.scrollTo(s,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=s}function gt(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function wt(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function dt(e,s,q=0){const oe=arguments[3]===void 0?performance.now():arguments[3],x=gt(e);if(q<=0){x!==s&&tt(e,s);return}requestAnimationFrame(ye=>{const ce=ye-oe,R=x+(s-x)/Math.max(ce,q)*ce;tt(e,R),R!==s&&dt(e,s,q-ce,ye)})}function it(e,s,q=0){const oe=arguments[3]===void 0?performance.now():arguments[3],x=wt(e);if(q<=0){x!==s&&mt(e,s);return}requestAnimationFrame(ye=>{const ce=ye-oe,R=x+(s-x)/Math.max(ce,q)*ce;setHorizontalScroll(e,R),R!==s&&it(e,s,q-ce,ye)})}const et={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:Ne},intervalMinutes:{type:[Number,String],default:60,validator:Ne},intervalStart:{type:[Number,String],default:0,validator:Ne},intervalCount:{type:[Number,String],default:24,validator:Ne},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},ct={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Ne},resourceMinHeight:{type:[Number,String],default:70,validator:Ne},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},bt={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:Ne},dayMinHeight:{type:[Number,String],default:40,validator:Ne}},ot={modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Ne},resourceMinHeight:{type:[Number,String],default:70,validator:Ne},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:Ne},noSticky:Boolean};function Ua(e,{weekdaySkips:s,times:q,scrollArea:oe,parsedStart:x,parsedEnd:ye,maxDays:ce,size:R,headerColumnRef:j}){const Y=H(()=>parseInt(e.intervalStart,10)),V=H(()=>parseInt(e.intervalMinutes,10)),ue=H(()=>parseInt(e.intervalCount,10)),N=H(()=>parseFloat(e.intervalHeight)),p=H(()=>{let i=0;return e.cellWidth?i=e.cellWidth:R.width>0&&j.value&&(i=j.value.offsetWidth/(e.columnCount>1?e.columnCount:ce.value)),i}),ve=H(()=>Y.value*V.value),ee=H(()=>ue.value*N.value),D=H(()=>ue.value*p.value),O=H(()=>ze(x.value)),b=H(()=>We(ye.value)),g=H(()=>$a(x.value,ye.value,q.today,s.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,ce.value)),I=H(()=>g.value.map(i=>vt(i,Y.value,V.value,ue.value,q.now)));function ze(i){return ut(i,e.weekdays,q.today)}function We(i){return lt(i,e.weekdays,q.today)}function we(i,A){return i&&i.length>0&&i.includes(rt(A))}function le(i,A){const W={firstDay:!1,betweenDays:!1,lastDay:!1};if(i&&i.length===2){const z=ha(A),G=ha(Fe(i[0])),ae=ha(Fe(i[1]));W.firstDay=G===z,W.lastDay=ae===z,W.betweenDays=G<z&&ae>z}return W}function C(i,A=[],W=[]){const z=we(A,i),{firstDay:G,lastDay:ae,betweenDays:P}=le(W,i);return{"q-selected":z,"q-range-first":G===!0,"q-range":P===!0,"q-range-last":ae===!0,"q-disabled-interval disabled":i.disabled===!0}}function E(i,A=[],W=[]){return[]}const fe=H(()=>{const i={timeZone:"UTC",hour12:!e.hour24Format,hour:"2-digit",minute:"2-digit"},A={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric",minute:"2-digit"},W={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric"};return pa(e.locale,(z,G)=>G?z.minute===0?W:A:i)}),Be=H(()=>{const i={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return pa(e.locale,A=>i)});function Ee(i){const A=I.value[0][0];return!(A.hour===i.hour&&A.minute===i.minute)&&i.minute===0}function Te(i){}function Ue(i){}function aa(i,A,W=!1,z=void 0){let G=za(A);const ae=i.currentTarget.getBoundingClientRect(),P=i,he=i,K=P.changedTouches||P.touches,Ae=((K&&K[0]?K[0].clientY:he.clientY)-ae.top)/N.value,be=Math.floor((W?Math.floor(Ae):Ae)*V.value);return be!==0&&(G=Ga(G,{minute:be})),z&&Ja(G,z,!0),G}function je(i,A,W=!1,z=void 0){let G=za(A);const ae=i.currentTarget.getBoundingClientRect(),P=i,he=i,K=P.changedTouches||P.touches,Ae=((K&&K[0]?K[0].clientY:he.clientY)-ae.top)/N.value,be=Math.floor((W?Math.floor(Ae):Ae)*V.value);return be!==0&&(G=Ga(G,{minute:be})),z&&Ja(G,z,!0),G}function Xe(i,A,W=!1,z=void 0){let G=za(A);const ae=i.currentTarget.getBoundingClientRect(),P=i,he=i,K=P.changedTouches||P.touches,Ae=((K&&K[0]?K[0].clientX:he.clientX)-ae.left)/p.value,be=Math.floor((W?Math.floor(Ae):Ae)*V.value);return be!==0&&(G=Ga(G,{minute:be})),z&&Ja(G,z,!0),G}function Ye(i,A){const W={timestamp:i};return W.timeStartPos=Z,W.timeDurationHeight=Re,A!==void 0&&(W.columnIndex=A),W}function Le(i,A){const W={timestamp:za(i)};return W.timeStartPosX=Q,W.timeDurationWidth=_e,A!==void 0&&(W.index=A),W}function De(i,A=0){const W=Z(i);return W===!1||!oe.value?!1:(dt(oe.value,W,A),!0)}function Oe(i,A=0){const W=Q(i);return W===!1||!oe.value?!1:(it(oe.value,W,A),!0)}function Re(i){return i/V.value*N.value}function _e(i){return i/V.value*p.value}function $e(i){return parseInt(i,10)*V.value/N.value}function se(i){return parseInt(i,10)*V.value/p.value}function Z(i,A=!0){const W=at(i);if(W===!1)return!1;const z=ve.value,G=ue.value*V.value;let P=(W-z)/G*ee.value;return A&&(P<0&&(P=0),P>ee.value&&(P=ee.value)),P}function Q(i,A=!0){const W=at(i);if(W===!1)return!1;const z=ve.value,G=ue.value*V.value;let P=(W-z)/G*D.value;return A&&(P<0&&(P=0),P>D.value&&(P=D.value)),P}return{parsedIntervalStart:Y,parsedIntervalMinutes:V,parsedIntervalCount:ue,parsedIntervalHeight:N,parsedCellWidth:p,parsedStartMinute:ve,bodyHeight:ee,bodyWidth:D,parsedWeekStart:O,parsedWeekEnd:b,days:g,intervals:I,intervalFormatter:fe,ariaDateTimeFormatter:Be,arrayHasDateTime:we,checkIntervals:le,getIntervalClasses:C,getResourceClasses:E,showIntervalLabelDefault:Ee,showResourceLabelDefault:Te,styleDefault:Ue,getTimestampAtEventInterval:aa,getTimestampAtEvent:je,getTimestampAtEventX:Xe,getScopeForSlot:Ye,getScopeForSlotX:Le,scrollToTime:De,scrollToTimeX:Oe,timeDurationHeight:Re,timeDurationWidth:_e,heightToMinutes:$e,widthToMinutes:se,timeStartPos:Z,timeStartPosX:Q}}const Za={columnCount:{type:[Number,String],default:0,validator:Ne},columnIndexStart:{type:[Number,String],default:0,validator:Ne}},Pa={maxDays:{type:Number,default:1}},Ka={cellWidth:[Number,String]};function ja(e){return{isSticky:H(()=>e.cellWidth!==void 0)}}var kt=_a({name:"QCalendarAgenda",directives:[fa],props:{...ma,...bt,...Za,...Pa,...ga,...Ka,...wa},emits:["update:model-value",...Wa,...xa,...ge("-date"),...ge("-head-day"),...ge("-time")],setup(e,{slots:s,emit:q,expose:oe}){const x=v(null),ye=v(null),ce=v(null),R=v(null),j=v(null),Y=v({}),V=v({}),ue=v({}),N=v("next"),p=v(ia()),ve=v("0000-00-00"),ee=v(0),D=v(e.modelValue),O=Da({width:0,height:0}),b=v(!1),g=v(null),I=v(null);$(()=>e.view,()=>{ee.value=0});const ze=H(()=>e.view==="month"?"month-interval":e.view),We=Sa();if(We===null)throw new Error("current instance is null");const{emitListeners:we}=Ta(We),{isSticky:le}=ja(e);$(le,n=>{});const{times:C,setCurrent:E,updateCurrent:fe}=La(e);fe(),E();const{weekdaySkips:Be,parsedStart:Ee,parsedEnd:Te,dayFormatter:Ue,weekdayFormatter:aa,ariaDateFormatter:je,dayStyleDefault:Xe,getRelativeClasses:Ye}=Ra(e,{startDate:p,endDate:ve,times:C}),Le=H(()=>ca(e.modelValue,C.now)||Ee.value||C.today);j.value=Le.value,R.value=Le.value.date;const{renderValues:De}=Aa(e,{parsedView:ze,parsedValue:Le,times:C}),{rootRef:Oe,scrollWidth:Re,__initCalendar:_e,__renderCalendar:$e}=Ea(e,xe,{scrollArea:x,pane:ye}),{days:se,parsedCellWidth:Z,getScopeForSlot:Q}=Ua(e,{weekdaySkips:Be,times:C,scrollArea:x,parsedStart:Ee,parsedEnd:Te,maxDays:ee,size:O,headerColumnRef:ce}),{move:i}=Ia(e,{parsedView:ze,parsedValue:Le,weekdaySkips:Be,direction:N,maxDays:ee,times:C,emittedValue:D,emit:q}),{getDefaultMouseEventHandlers:A}=Ba(q,we),{checkChange:W}=Ma(q,{days:se,lastStart:g,lastEnd:I}),{isKeyCode:z}=Va(),{tryFocus:G}=Oa(e,{rootRef:Oe,focusRef:R,focusValue:j,datesRef:Y,days:se,parsedView:ze,parsedValue:Le,emittedValue:D,weekdaySkips:Be,direction:N,times:C}),ae=H(()=>se.value.length+(P.value===!0?e.leftColumnOptions.length:0)+(he.value===!0?e.rightColumnOptions.length:0)+se.value.length===1&&parseInt(e.columnCount,10)>0?parseInt(e.columnCount,10):0),P=H(()=>e.leftColumnOptions!==void 0&&Array.isArray(e.leftColumnOptions)),he=H(()=>e.rightColumnOptions!==void 0&&Array.isArray(e.rightColumnOptions)),K=H(()=>{if(Oe.value){const n=O.width||Oe.value.getBoundingClientRect().width;if(n&&ae.value)return(n-Re.value)/ae.value+"px"}return 100/ae.value+"%"});$([se],W,{deep:!0,immediate:!0}),$(()=>e.modelValue,(n,c)=>{if(D.value!==n){if(e.animated===!0){const t=ke(Fe(n)),d=ke(Fe(c));N.value=t>=d?"next":"prev"}D.value=n}R.value=n}),$(D,(n,c)=>{if(D.value!==e.modelValue){if(e.animated===!0){const t=ke(Fe(n)),d=ke(Fe(c));N.value=t>=d?"next":"prev"}q("update:model-value",n)}}),$(R,n=>{n&&(j.value=ca(n))}),$(j,n=>{Y.value[R.value]?Y.value[R.value].focus():G()}),$(()=>e.maxDays,n=>{ee.value=n}),qa(()=>{Y.value={}}),Fa(()=>{_e()});function Ve(){D.value=ia()}function Ae(n=1){i(n)}function be(n=1){i(-n)}function Ge({width:n,height:c}){O.width=n,O.height=c}function Ie(n){return n.date===D.value}function qe(n,c){const t=s["head-column"],d={column:n,index:c,days:se.value},f=le.value===!0?e.cellWidth:K.value,r=e.focusable===!0&&e.focusType.includes("weekday"),y=e.columnOptionsId!==void 0?n[e.columnOptionsId]:void 0,L={maxWidth:f,width:f};return l("div",{key:y,tabindex:r===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":r===!0},style:L,onDragenter:a=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(a,"head-column",d)===!0?b.value=y:b.value="")},onDragover:a=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(a,"head-column",d)===!0?b.value=y:b.value="")},onDragleave:a=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(a,"head-column",d)===!0?b.value=y:b.value="")},onDrop:a=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(a,"head-column",d)===!0?b.value=y:b.value="")},...A("-head-column",(a,o)=>({scope:{column:n,index:c},event:a}))},[e.noDefaultHeaderText!==!0&&oa(n),t&&t(d),Je()])}function oa(n){const c=s["head-column-label"],t={column:n},d=e.columnOptionsLabel!==void 0?n[e.columnOptionsLabel]:n.label,f=l("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[c&&c({scope:t}),!c&&l("span",{class:"ellipsis"},d)]);return e.dateHeader==="stacked"?f:l("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[f])}function Pe(){return l("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":le.value===!0},style:{marginRight:Re.value+"px"}},[la()])}function la(){return l("div",{ref:ce,class:{"q-calendar-agenda__head--days__column":!0}},[ta(),pe()])}function ta(){return l("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...na()])}function pe(){const n=s["head-days-events"];return Xa(()=>{if(ue.value&&e.columnCount===0&&window)try{const c=window.getComputedStyle(ue.value);V.value.parentElement.style.height=c.height,V.value.style.height=c.height}catch{}}),l("div",{class:{"q-calendar-agenda__head--days__event":!0}},[n&&l("div",{ref:V,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[n({scope:{days:se.value,ref:ue}})]),...ra()])}function na(){return se.value.length===1&&parseInt(e.columnCount,10)>0?[P.value===!0&&e.leftColumnOptions.map((n,c)=>qe(n,c)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,c)=>c+parseInt(e.columnIndexStart,10)).map(n=>da(se.value[0],n)),he.value===!0&&e.rightColumnOptions.map((n,c)=>qe(n,c))]:[P.value===!0&&e.leftColumnOptions.map((n,c)=>qe(n,c)),se.value.map(n=>da(n)),he.value===!0&&e.rightColumnOptions.map((n,c)=>qe(n,c))]}function ra(){return se.value.length===1&&parseInt(e.columnCount,10)>0?[Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,c)=>c+parseInt(e.columnIndexStart,10)).map(n=>ea(se.value[0],n))]:se.value.map(n=>ea(n))}function da(n,c){const t=s["head-day"],d=s["head-date"],f=e.noActiveDate!==!0&&Ie(n),r=Q(n,c);r.activeDate=f,r.droppable=b.value===n.date,r.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1;const y=le.value===!0?e.cellWidth:K.value,L=e.weekdayStyle||Xe,a={width:y,maxWidth:y,...L({scope:r})};le.value===!0&&(a.minWidth=y);const o=typeof e.weekdayClass=="function"?e.weekdayClass({scope:r}):{},_=e.focusable===!0&&e.focusType.includes("weekday"),w={key:n.date+(c!==void 0?"-"+c:""),ref:S=>{Y.value[n.date]=S},tabindex:_===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,...o,...Ye(n),"q-active-date":f,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":_===!0},style:a,onDragenter:S=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(S,"head-day",r)===!0?b.value=n.date:b.value="")},onDragover:S=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(S,"head-day",r)===!0?b.value=n.date:b.value="")},onDragleave:S=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(S,"head-day",r)===!0?b.value=n.date:b.value="")},onDrop:S=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(S,"head-day",r)===!0?b.value=n.date:b.value="")},onFocus:S=>{_===!0&&(R.value=n.date)},...A("-head-day",S=>({scope:r,event:S}))};return l("div",w,[t!==void 0&&t({scope:r}),t===void 0&&sa(n),t===void 0&&d&&d({scope:r}),Je()])}function sa(n){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ke(n),e.noDefaultHeaderBtn!==!0&&Ce(n)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ke(n),e.noDefaultHeaderBtn!==!0&&Ce(n)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ke(n),e.noDefaultHeaderBtn!==!0&&Ce(n)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ke(n),e.noDefaultHeaderBtn!==!0&&Ce(n)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ce(n),e.noDefaultHeaderText!==!0&&Ke(n)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ce(n),e.noDefaultHeaderText!==!0&&Ke(n)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ce(n),e.noDefaultHeaderText!==!0&&Ke(n)])}function ea(n,c){const t=s["head-day-event"],d=e.noActiveDate!==!0&&Ie(n),f=Q(n,c);f.activeDate=d,f.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1;const r=le.value===!0?e.cellWidth:K.value,y={width:r,maxWidth:r};return le.value===!0&&(y.minWidth=r),l("div",{key:"event-"+n.date+(c!==void 0?"-"+c:""),class:{"q-calendar-agenda__head--day__event":!0,...Ye(n),"q-active-date":d},style:y},[t&&t({scope:f})])}function Ke(n){const c=s["head-weekday-label"],t=Q(n);t.shortWeekdayLabel=e.shortWeekdayLabel;const d={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return l("div",d,c&&c({scope:t})||ua(n,e.shortWeekdayLabel))}function ua(n,c){const t=aa.value(n,c||e.weekdayBreakpoints[0]>0&&Z.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&Z.value<=e.weekdayBreakpoints[1]?Ya(t,e.minWeekdayLabel):t)}function Ce(n){const c={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return l("div",c,va(n))}function va(n){const c=e.noActiveDate!==!0&&Ie(n),t=Ue.value(n,!1),d=s["head-day-label"],f=s["head-day-button"],r={dayLabel:t,timestamp:n,activeDate:c,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1},y={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":n.current===!0,"q-calendar__focusable":!0},disabled:n.disabled,onKeydown:L=>{n.disabled!==!0&&z(L,[13,32])&&(L.stopPropagation(),L.preventDefault())},onKeyup:L=>{n.disabled!==!0&&z(L,[13,32])&&(D.value=n.date,we.value.onClickDate!==void 0&&q("click-date",{scope:r}))},...A("-date",(L,a)=>((a==="click-date"||a==="contextmenu-date")&&(D.value=n.date,a==="click-date"&&L.preventDefault()),{scope:r,event:L}))};return e.noAria!==!0&&(y.ariaLabel=je.value(n)),f?f({scope:r}):Qa(e,y,d?d({scope:r}):t)}function Qe(){return l("div",{class:"q-calendar-agenda__body"},[h()])}function h(){return le.value===!0?l("div",{ref:x,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[U()]):e.noScroll===!0?X():l("div",{ref:x,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[X()])}function X(){return l("div",{ref:ye,class:"q-calendar-agenda__pane"},[U()])}function U(){const n=s["day-container"];return l("div",{class:"q-calendar-agenda__day-container"},[le.value===!0&&e.noHeader!==!0&&Pe(),l("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...J()]),n&&n({scope:{days:se.value}})])}function J(){return se.value.length===1&&parseInt(e.columnCount,10)>0?[P.value===!0&&e.leftColumnOptions.map((n,c)=>de(n,c)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,c)=>c+parseInt(e.columnIndexStart,10)).map(n=>re(se.value[0],0,n)),he.value===!0&&e.rightColumnOptions.map((n,c)=>de(n,c))]:[P.value===!0&&e.leftColumnOptions.map((n,c)=>de(n,c)),se.value.map((n,c)=>re(n)),he.value===!0&&e.rightColumnOptions.map((n,c)=>de(n,c))]}function de(n,c){const t=s.column,d={column:n,days:se.value,index:c},f=le.value===!0?e.cellWidth:K.value,r=e.focusable===!0&&e.focusType.includes("day"),y=e.columnOptionsId!==void 0?n[e.columnOptionsId]:void 0;return l("div",{key:y,tabindex:r===!0?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":r===!0},style:{maxWidth:f,width:f},onDragenter:L=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(L,"column",d)===!0?b.value=y:b.value="")},onDragover:L=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(L,"column",d)===!0?b.value=y:b.value="")},onDragleave:L=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(L,"column",d)===!0?b.value=y:b.value="")},onDrop:L=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(L,"column",d)===!0?b.value=y:b.value="")},...A("-column",(L,a)=>({scope:d,event:L}))},[t&&t({scope:d})])}function re(n,c,t){const d=s.day,f=Q(n,t),r=le.value===!0?e.cellWidth:K.value,y={width:r,maxWidth:r};return le.value===!0&&(y.minWidth=r),y.height=parseInt(e.dayHeight,10)>0?ne(parseInt(e.dayHeight,10)):"auto",parseInt(e.dayMinHeight,10)>0&&(y.minHeight=ne(parseInt(e.dayMinHeight,10))),l("div",{key:n.date+(t!==void 0?":"+t:""),class:{"q-calendar-agenda__day":!0,...Ye(n)},style:y},[d&&d({scope:f})])}function xe(){const{start:n,end:c,maxDays:t}=De.value;(p.value!==n.date||ve.value!==c.date||ee.value!==t)&&(p.value=n.date,ve.value=c.date,ee.value=t);const d=O.width>0,f=Ca(l("div",{class:"q-calendar-agenda",key:p.value},[d===!0&&le.value!==!0&&e.noHeader!==!0&&Pe(),d===!0&&Qe()]),[[fa,Ge]]);if(e.animated===!0){const r="q-calendar--"+(N.value==="prev"?e.transitionPrev:e.transitionNext);return l(Ha,{name:r,appear:!0},()=>f)}return f}return oe({prev:be,next:Ae,move:i,moveToToday:Ve,updateCurrent:fe}),()=>$e()}}),nt=_a({name:"QCalendarDay",directives:[fa],props:{...ma,...et,...Za,...Pa,...ga,...Ka,...wa},emits:["update:model-value",...Wa,...xa,...ge("-date"),...ge("-interval"),...ge("-head-intervals"),...ge("-head-day"),...ge("-time")],setup(e,{slots:s,emit:q,expose:oe}){const x=v(null),ye=v(null),ce=v(null),R=v(null),j=v(null),Y=v({}),V=v({}),ue=v({}),N=v("next"),p=v(e.modelValue||ia()),ve=v("0000-00-00"),ee=v(0),D=v(e.modelValue),O=Da({width:0,height:0}),b=v(!1),g=v(!1),I=v(null),ze=v(null);$(()=>e.view,()=>{ee.value=0});const We=H(()=>e.view==="month"?"month-interval":e.view),we=Sa();if(we===null)throw new Error("current instance is null");const{emitListeners:le}=Ta(we),{isSticky:C}=ja(e),{times:E,setCurrent:fe,updateCurrent:Be}=La(e);Be(),fe();const{weekdaySkips:Ee,parsedStart:Te,parsedEnd:Ue,dayFormatter:aa,weekdayFormatter:je,ariaDateFormatter:Xe,dayStyleDefault:Ye,getRelativeClasses:Le}=Ra(e,{startDate:p,endDate:ve,times:E}),De=H(()=>ca(e.modelValue,E.now)||Te.value||E.today);j.value=De.value,R.value=De.value.date;const{renderValues:Oe}=Aa(e,{parsedView:We,parsedValue:De,times:E}),{rootRef:Re,scrollWidth:_e,__initCalendar:$e,__renderCalendar:se}=Ea(e,Ze,{scrollArea:x,pane:ye}),{days:Z,intervals:Q,intervalFormatter:i,ariaDateTimeFormatter:A,parsedCellWidth:W,getIntervalClasses:z,showIntervalLabelDefault:G,styleDefault:ae,getTimestampAtEventInterval:P,getTimestampAtEvent:he,getScopeForSlot:K,scrollToTime:Ve,heightToMinutes:Ae,timeDurationHeight:be,timeStartPos:Ge}=Ua(e,{weekdaySkips:Ee,times:E,scrollArea:x,parsedStart:Te,parsedEnd:Ue,maxDays:ee,size:O,headerColumnRef:ce}),{move:Ie}=Ia(e,{parsedView:We,parsedValue:De,weekdaySkips:Ee,direction:N,maxDays:ee,times:E,emittedValue:D,emit:q}),{getDefaultMouseEventHandlers:qe}=Ba(q,le),{checkChange:oa}=Ma(q,{days:Z,lastStart:I,lastEnd:ze}),{isKeyCode:Pe}=Va(),{tryFocus:la}=Oa(e,{rootRef:Re,focusRef:R,focusValue:j,datesRef:Y,days:Z,parsedView:We,parsedValue:De,emittedValue:D,weekdaySkips:Ee,direction:N,times:E}),ta=H(()=>We.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):We.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:Z.value.length),pe=H(()=>Re.value?parseInt(getComputedStyle(Re.value).getPropertyValue("--calendar-intervals-width"),10):0),na=H(()=>{if(Re.value){const u=O.width||Re.value.getBoundingClientRect().width;if(u&&pe.value&&ta.value)return(u-_e.value-pe.value)/ta.value+"px"}return 100/ta.value+"%"});$([Z],oa,{deep:!0,immediate:!0}),$(()=>e.modelValue,(u,m)=>{if(D.value!==e.modelValue){if(e.animated===!0){const F=ke(Fe(u)),T=ke(Fe(m));N.value=F>=T?"next":"prev"}D.value=u}R.value=u}),$(D,(u,m)=>{if(D.value!==e.modelValue){if(e.animated===!0){const F=ke(Fe(u)),T=ke(Fe(m));N.value=F>=T?"next":"prev"}q("update:model-value",u)}}),$(R,u=>{u&&(j.value=ca(u))}),$(j,u=>{Y.value[R.value]?Y.value[R.value].focus():la()}),$(()=>e.maxDays,u=>{ee.value=u}),qa(()=>{Y.value={},V.value={},ue.value={}}),Fa(()=>{$e()});function ra(){D.value=ia()}function da(u=1){Ie(u)}function sa(u=1){Ie(-u)}function ea({width:u,height:m}){O.width=u,O.height=m}function Ke(u){return u.date===D.value}function ua(){return l("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":C.value===!0},style:{marginRight:_e.value+"px"}},[Ce(),va()])}function Ce(){const u=s["head-intervals"],m={timestamps:Z.value,days:Z.value,date:e.modelValue};return l("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":C.value===!0},...qe("-head-intervals",F=>({scope:m,event:F}))},[u&&u({scope:m})])}function va(){return l("div",{ref:ce,class:{"q-calendar-day__head--days__column":!0}},[Qe(),h()])}function Qe(){return l("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...X()])}function h(){const u=s["head-days-events"];return Xa(()=>{if(ue.value&&parseInt(e.columnCount,10)===0&&window)try{const m=window.getComputedStyle(ue.value);V.value.parentElement.style.height=m.height,V.value.style.height=m.height}catch{}}),l("div",{class:{"q-calendar-day__head--days__event":!0}},[u&&l("div",{ref:V,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[u({scope:{days:Z.value,ref:ue}})]),...U()])}function X(){return Z.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,m)=>m+parseInt(e.columnIndexStart,10)).map(u=>J(Z.value[0],u)):Z.value.map(u=>J(u))}function U(){return Z.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,m)=>m+parseInt(e.columnIndexStart,10)).map(u=>re(Z.value[0],u)):Z.value.map(u=>re(u))}function J(u,m){const F=s["head-day"],T=s["head-date"],M=e.noActiveDate!==!0&&Ke(u),B=K(u,m);B.activeDate=M,B.droppable=b.value===u.date,B.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const He=C.value===!0?e.cellWidth:na.value,ie=e.weekdayStyle||Ye,ya={width:He,maxWidth:He,minWidth:He,...ie({scope:B})};C.value===!0&&(ya.minWidth=He);const Na=typeof e.weekdayClass=="function"?e.weekdayClass({scope:B}):{},ba=e.focusable===!0&&e.focusType.includes("weekday"),Se=u.date+(m!==void 0?"-"+m:""),ka={key:Se,ref:Me=>{Y.value[Se]=Me},tabindex:ba===!0?0:-1,class:{"q-calendar-day__head--day":!0,...Na,...Le(u),"q-active-date":M,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ba===!0},style:ya,onFocus:Me=>{ba===!0&&(R.value=Se)},onKeydown:Me=>{u.disabled!==!0&&Pe(Me,[13,32])&&(Me.stopPropagation(),Me.preventDefault())},onKeyup:Me=>{u.disabled!==!0&&Pe(Me,[13,32])&&(D.value=u.date)},...qe("-head-day",Me=>({scope:B,event:Me})),onDragenter:Me=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Me,"head-day",B)===!0?b.value=u.date:b.value="")},onDragover:Me=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Me,"head-day",B)===!0?b.value=u.date:b.value="")},onDragleave:Me=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Me,"head-day",B)===!0?b.value=u.date:b.value="")},onDrop:Me=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Me,"head-day",B)===!0?b.value=u.date:b.value="")}};return l("div",ka,[F!==void 0&&F({scope:B}),F===void 0&&d(u,m),F===void 0&&de(u),F===void 0&&T&&T({scope:B}),F===void 0&&f(u,m),Je()])}function de(u){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&xe(u),e.noDefaultHeaderBtn!==!0&&c(u)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&xe(u),e.noDefaultHeaderBtn!==!0&&c(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&xe(u),e.noDefaultHeaderBtn!==!0&&c(u)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&xe(u),e.noDefaultHeaderBtn!==!0&&c(u)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&c(u),e.noDefaultHeaderText!==!0&&xe(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&c(u),e.noDefaultHeaderText!==!0&&xe(u)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&c(u),e.noDefaultHeaderText!==!0&&xe(u)])}function re(u,m){const F=s["head-day-event"],T=e.noActiveDate!==!0&&Ke(u),M=K(u,m);M.activeDate=T,M.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const B=C.value===!0?ne(W.value):na.value,He={width:B,maxWidth:B,minWidth:B};return C.value===!0&&(He.minWidth=B),l("div",{key:"event-"+u.date+(m!==void 0?"-"+m:""),class:{"q-calendar-day__head--day__event":!0,...Le(u),"q-active-date":T},style:He},[F&&F({scope:M})])}function xe(u){const m=s["head-weekday-label"],F=e.shortWeekdayLabel===!0,T=K(u);T.shortWeekdayLabel=e.shortWeekdayLabel,T.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const M={class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return l("div",M,m&&m({scope:T})||n(u,F))}function n(u,m){const F=je.value(u,m||e.weekdayBreakpoints[0]>0&&W.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&W.value<=e.weekdayBreakpoints[1]?Ya(F,e.minWeekdayLabel):F)}function c(u){const m={class:{"q-calendar-day__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return l("div",m,t(u))}function t(u){const m=e.noActiveDate!==!0&&Ke(u),F=aa.value(u,!1),T=s["head-day-label"],M=s["head-day-button"],B={dayLabel:F,timestamp:u,activeDate:m,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1},He={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":u.current===!0,"q-calendar__focusable":!0},disabled:u.disabled,onKeydown:ie=>{u.disabled!==!0&&Pe(ie,[13,32])&&(ie.stopPropagation(),ie.preventDefault())},onKeyup:ie=>{u.disabled!==!0&&Pe(ie,[13,32])&&(D.value=u.date,le.value.onClickDate!==void 0&&q("click-date",{scope:B}))},...qe("-date",(ie,ya)=>((ya==="click-date"||ya==="contextmenu-date")&&(D.value=u.date,ya==="click-date"&&ie.preventDefault()),{scope:B,event:ie}))};return e.noAria!==!0&&(He.ariaLabel=Xe.value(u)),M?M({scope:B}):Qa(e,He,T?T({scope:B}):F)}function d(u,m){const F=s["column-header-before"];if(F)return l("div",{class:"q-calendar-day__column-header--before"},[F({scope:{timestamp:u,columnIndex:m}})])}function f(u,m){const F=s["column-header-after"];if(F)return l("div",{class:"q-calendar-day__column-header--after"},[F({scope:{timestamp:u,columnIndex:m}})])}function r(){return l("div",{class:"q-calendar-day__body"},[y()])}function y(){return C.value===!0?l("div",{ref:x,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[C.value!==!0&&k(),a()]):e.noScroll===!0?L():l("div",{ref:x,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[L()])}function L(){return l("div",{ref:ye,class:"q-calendar-day__pane"},[k(),a()])}function a(){const u=s["day-container"];return l("div",{class:"q-calendar-day__day-container"},[C.value===!0&&e.noHeader!==!0&&ua(),l("div",{style:{display:"flex",flexDirection:"row"}},[C.value===!0&&k(),...o()]),u&&u({scope:{days:Z.value}})])}function o(){return Z.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,m)=>m+parseInt(e.columnIndexStart,10)).map(u=>_(Z.value[0],0,u)):Z.value.map((u,m)=>_(u,m))}function _(u,m,F){const T=s["day-body"],M=K(u,F),B=C.value===!0?e.cellWidth:na.value,He={width:B,maxWidth:B,minWidth:B};return C.value===!0&&(He.minWidth=B),l("div",{key:u.date+(F!==void 0?":"+F:""),class:{"q-calendar-day__day":!0,...Le(u)},style:He},[...w(m,F),T&&T({scope:M})])}function w(u,m){return Q.value[u].map(F=>S(F,m))}function S(u,m){const F=ne(e.intervalHeight),T=e.intervalStyle||ae,M=s["day-interval"],B=K(u,m);B.droppable=g.value===ha(u);const He=typeof e.intervalClass=="function"?e.intervalClass({scope:B}):{},ie=e.focusable===!0&&e.focusType.includes("interval"),Na={key:rt(u),tabindex:ie===!0?0:-1,class:{"q-calendar-day__day-interval":u.minute===0,"q-calendar-day__day-interval--section":u.minute!==0,...He,...z(u,e.selectedDates,e.selectedStartEndDates),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ie===!0},style:{height:F,...T({scope:B})},onDragenter:Se=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Se,"interval",B)===!0?g.value=ha(u):g.value="")},onDragover:Se=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Se,"interval",B)===!0?g.value=ha(u):g.value="")},onDragleave:Se=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Se,"interval",B)===!0?g.value=ha(u):g.value="")},onDrop:Se=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Se,"interval",B)===!0?g.value=ha(u):g.value="")},onKeydown:Se=>{Pe(Se,[13,32])&&(Se.stopPropagation(),Se.preventDefault())},onKeyup:Se=>{if(Pe(Se,[13,32])){const ka=K(u,m);D.value=ka.timestamp.date,le.value.onClickTime!==void 0&&q("click-time",{scope:ka,event:Se})}},...qe("-time",Se=>({scope:K(P(Se,u,e.timeClicksClamped,E.now),m),event:Se}))};e.noAria!==!0&&(Na.ariaLabel=A.value(u));const ba=M?M({scope:B}):void 0;return l("div",Na,[ba,Je()])}function k(){const u={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":C.value===!0},...qe("-interval",m=>({scope:{timestamp:he(m,Te.value,e.timeClicksClamped,E.now)},event:m}))};return l("div",u,me())}function me(){return Q.value[0].map(u=>te(u))}function te(u){const m=s["interval-label"],F=ne(e.intervalHeight),T=e.shortIntervalLabel,He=(e.showIntervalLabel||G)(u)?i.value(u,T):void 0;return l("div",{key:u.time,class:{"q-calendar-day__interval":u.minute===0,"q-calendar-day__interval--section":u.minute!==0},style:{height:F}},[l("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[m?m({scope:{timestamp:u,label:He}}):He])])}function Ze(){const{start:u,end:m,maxDays:F}=Oe.value;(p.value!==u.date||ve.value!==m.date||ee.value!==F)&&(p.value=u.date,ve.value=m.date,ee.value=F);const T=O.width>0,M=Ca(l("div",{key:p.value,class:"q-calendar-day"},[T===!0&&C.value!==!0&&e.noHeader!==!0&&ua(),T&&r()]),[[fa,ea]]);if(e.animated===!0){const B="q-calendar--"+(N.value==="prev"?e.transitionPrev:e.transitionNext);return l(Ha,{name:B,appear:!0},()=>M)}return M}return oe({prev:sa,next:da,move:Ie,moveToToday:ra,updateCurrent:Be,timeStartPos:Ge,timeDurationHeight:be,heightToMinutes:Ae,scrollToTime:Ve}),()=>se()}});const st={dayHeight:{type:[Number,String],default:0,validator:Ne},dayMinHeight:{type:[Number,String],default:0,validator:Ne},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayPadding:String,minWeeks:{type:[Number,String],validator:Ne,default:1},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||Ne(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function Dt(e,s,{weekdaySkips:q,times:oe,parsedStart:x,parsedEnd:ye,size:ce,headerColumnRef:R}){const j=H(()=>parseInt(e.minWeeks,10)),Y=H(()=>j.value*e.weekdays.length),V=H(()=>I(We(x.value))),ue=H(()=>ze(we(ye.value))),N=H(()=>{let C=0;return e.cellWidth?C=e.cellWidth:ce.width>0&&R.value&&(C=R.value.offsetWidth/e.weekdays.length),C}),p=H(()=>$a(V.value,ue.value,oe.today,q.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER,Y.value)),ve=H(()=>{const C=oe.today,E=I(C),fe=ze(C);return $a(E,fe,C,q,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,e.weekdays.length,e.weekdays.length)}),ee=H(()=>{const C={timeZone:"UTC",month:"long"},E={timeZone:"UTC",month:"short"};return pa(e.locale,(fe,Be)=>Be?E:C)}),D=H(()=>{switch(e.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(e.breakpoint,10)}}),O=H(()=>{switch(e.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return e.monthLabelSize}});let b=!0;const g=H(()=>{const C=e.miniMode===!0||e.miniMode==="auto"&&e.breakpoint!==void 0&&ce.width<D.value;return b===!0&&(b=!1,s("mini-mode",C)),C});$(g,C=>{s("mini-mode",C)});function I(C){return ut(C,e.weekdays,oe.today)}function ze(C){return lt(C,e.weekdays,oe.today)}function We(C){return ft(C)}function we(C){return ht(C)}function le(C){const E=ke(C);return E<ke(x.value)||E>ke(ye.value)}return{parsedCellWidth:N,parsedMinWeeks:j,parsedMinDays:Y,parsedMonthStart:V,parsedMonthEnd:ue,parsedBreakpoint:D,parsedMonthLabelSize:O,days:p,todayWeek:ve,isMiniMode:g,monthFormatter:ee,isOutside:le}}var qt=_a({name:"QCalendarMonth",directives:[fa],props:{...ma,...st,...ga,...Ka,...wa},emits:["update:model-value",...Wa,...xa,"mini-mode",...ge("-date"),...ge("-day"),...ge("-head-workweek"),...ge("-head-day"),...ge("-workweek")],setup(e,{slots:s,emit:q,expose:oe}){const x=v(null),ye=v(null),ce=v(null),R=v(null),j=v(null),Y=v({}),V=v([]),ue=v([]),N=v("next"),p=v(e.modelValue||ia()),ve=v("0000-00-00"),ee=v(0),D=v(e.modelValue),O=Da({width:0,height:0}),b=v(!1),g=v(!1),I=v(null),ze=v(null),We=H(()=>"month"),we=Sa();if(we===null)throw new Error("current instance is null");const{emitListeners:le}=Ta(we),{isSticky:C}=ja(e);$(C,t=>{});const{times:E,setCurrent:fe,updateCurrent:Be}=La(e);Be(),fe();const{weekdaySkips:Ee,parsedStart:Te,parsedEnd:Ue,dayFormatter:aa,weekdayFormatter:je,ariaDateFormatter:Xe,dayStyleDefault:Ye,getRelativeClasses:Le}=Ra(e,{startDate:p,endDate:ve,times:E}),De=H(()=>ca(e.modelValue,E.now)||Te.value||E.today);j.value=De.value,R.value=De.value.date;const Oe=H(()=>{const t={};return e.dayPadding!==void 0&&(t.padding=e.dayPadding),t.minWidth=Ge.value,t.maxWidth=Ge.value,t.width=Ge.value,t}),{renderValues:Re}=Aa(e,{parsedView:We,times:E,parsedValue:De}),{rootRef:_e,__initCalendar:$e,__renderCalendar:se}=Ea(e,c,{scrollArea:x,pane:ye}),{days:Z,todayWeek:Q,isMiniMode:i,parsedCellWidth:A,parsedMonthLabelSize:W,isOutside:z,monthFormatter:G}=Dt(e,q,{weekdaySkips:Ee,times:E,parsedStart:Te,parsedEnd:Ue,size:O,headerColumnRef:ce}),{move:ae}=Ia(e,{parsedView:We,parsedValue:De,weekdaySkips:Ee,direction:N,maxDays:ee,times:E,emittedValue:D,emit:q}),{getDefaultMouseEventHandlers:P}=Ba(q,le),{checkChange:he}=Ma(q,{days:Z,lastStart:I,lastEnd:ze}),{isKeyCode:K}=Va(),{tryFocus:Ve}=Oa(e,{rootRef:_e,focusRef:R,focusValue:j,datesRef:Y,days:Z,parsedView:We,parsedValue:De,emittedValue:D,weekdaySkips:Ee,direction:N,times:E}),Ae=H(()=>_e.value&&e.showWorkWeeks===!0?parseInt(getComputedStyle(_e.value).getPropertyValue(i.value===!0?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0),be=H(()=>e.weekdays.length),Ge=H(()=>{if(_e.value){const t=O.width||_e.value.getBoundingClientRect().width;if(t&&be.value)return(t-Ae.value)/be.value+"px"}return 100/be.value+"%"}),Ie=H(()=>e.focusable===!0&&e.focusType.includes("day")&&i.value!==!0),qe=H(()=>e.focusable===!0&&e.focusType.includes("date")&&Ie.value!==!0);$([Z],he,{deep:!0,immediate:!0}),$(()=>e.modelValue,(t,d)=>{if(D.value!==t){if(e.animated===!0){const f=ke(Fe(t)),r=ke(Fe(d));N.value=f>=r?"next":"prev"}D.value=t}R.value=t}),$(D,(t,d)=>{if(D.value!==e.modelValue){if(e.animated===!0){const f=ke(Fe(t)),r=ke(Fe(d));N.value=f>=r?"next":"prev"}q("update:model-value",t)}}),$(R,t=>{t&&(j.value=ca(t),D.value!==t&&(D.value=t))}),$(j,t=>{Y.value[R.value]?Y.value[R.value].focus():Ve()}),qa(()=>{Y.value={},V.value=[],ue.value=[],Xa(()=>{ra()})}),Fa(()=>{$e(),ra()});function oa(){D.value=ia()}function Pe(t=1){ae(t)}function la(t=1){ae(-t)}function ta({width:t,height:d}){O.width=t,O.height=d}function pe(t){return t.date===D.value}function na(t){for(let d=0;d<t.length;++d)if(t[d].current===!0)return{timestamp:t[d]};return{timestamp:!1}}function ra(){if(!(i.value===!0||e.dayHeight!==0||s.week===void 0)&&window)for(const d in V.value){const f=V.value[d];if(f===void 0)continue;const r=ue.value[d];if(r===void 0)continue;const y=window.getComputedStyle(f),L=parseFloat(y.marginTop,10)+parseFloat(y.marginBottom,10);f.clientHeight+L>r.clientHeight&&(r.style.height=f.clientHeight+L+"px")}}function da(){return l("div",{class:"q-calendar-month__body"},[...h()])}function sa(){return l("div",{role:"presentation",class:"q-calendar-month__head"},[e.showWorkWeeks===!0&&Ke(),l("div",{class:"q-calendar-month__head--wrapper"},[ea()])])}function ea(){return l("div",{ref:ce,class:{"q-calendar-month__head--weekdays":!0}},[...ua()])}function Ke(){const t=s["head-workweek"],d={start:Te.value,end:Ue.value,miniMode:i.value};return l("div",{class:"q-calendar-month__head--workweek",...P("-head-workweek",f=>({scope:d,event:f}))},t?t({scope:d}):"#")}function ua(){return Q.value.map((t,d)=>Ce(t,d))}function Ce(t,d){const f=s["head-day"],r=Z.value.filter(te=>te.weekday===t.weekday),y=r[0].weekday,a={activeDate:e.noActiveDate!==!0&&pe(t),weekday:y,timestamp:t,days:r,index:d,miniMode:i.value,droppable:b.value===t.weekday,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(t.weekday):!1},o=typeof e.weekdayClass=="function"?e.weekdayClass({scope:a}):{},_=e.focusable===!0&&e.focusType.includes("weekday"),w=Ge.value,S=e.weekdayStyle||Ye,k={width:w,maxWidth:w,minWidth:w,...S({scope:a})},me={key:t.date+(d!==void 0?"-"+d:""),tabindex:_===!0?0:-1,class:{"q-calendar-month__head--weekday":!0,...o,"q-disabled-day disabled":a.disabled===!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":_===!0},style:k,onDragenter:te=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(te,"head-day",a)===!0?b.value=t.weekday:b.value="")},onDragover:te=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(te,"head-day",a)===!0?b.value=t.weekday:b.value="")},onDragleave:te=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(te,"head-day",a)===!0?b.value=t.weekday:b.value="")},onDrop:te=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(te,"head-day",a)===!0?b.value=t.weekday:b.value="")},onFocus:te=>{_===!0&&(R.value=t.date)},...P("-head-day",te=>({scope:a,event:te}))};return e.noAria!==!0&&(me.ariaLabel=je.value(t,!1)),l("div",me,[f===void 0&&Qe(t,e.shortWeekdayLabel||i.value),f!==void 0&&f({scope:a}),va(t,d),_===!0&&Je()])}function va(t,d){const f=s["head-day-event"],r=e.noActiveDate!==!0&&pe(t),y=Z.value.filter(S=>S.weekday===t.weekday),a={weekday:y[0].weekday,timestamp:t,days:y,index:d,miniMode:i.value,activeDate:r,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(t.weekday):!1},o=Ge.value,_=e.weekdayStyle||Ye,w={width:o,maxWidth:o,minWidth:o,..._({scope:a})};return l("div",{key:"event-"+t.date+(d!==void 0?"-"+d:""),class:{"q-calendar-month__head--event":!0},style:w},[f!==void 0&&f({scope:a})])}function Qe(t,d){const f=je.value(t,d||e.weekdayBreakpoints[0]>0&&A.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar__ellipsis"},i.value===!0&&e.shortWeekdayLabel===!0||e.weekdayBreakpoints[1]>0&&A.value<=e.weekdayBreakpoints[1]?Ya(f,e.minWeekdayLabel):f)}function h(){const t=e.weekdays.length,d=[];for(let f=0;f<Z.value.length;f+=t)d.push(X(Z.value.slice(f,f+t),f/t));return d}function X(t,d){const f=s.week,r=e.weekdays,y={week:t,weekdays:r,miniMode:i.value},L={};L.height=e.dayHeight>0&&i.value!==!0?ne(parseInt(e.dayHeight,10)):"auto",e.dayMinHeight>0&&i.value!==!0&&(L.minHeight=ne(parseInt(e.dayMinHeight,10)));const a=parseInt(e.dayHeight,10)===0&&parseInt(e.dayMinHeight,10)===0;return l("div",{key:t[0].date,ref:o=>{ue.value[d]=o},class:{"q-calendar-month__week--wrapper":!0,"q-calendar-month__week--auto-height":a},style:L},[e.showWorkWeeks===!0?U(t):void 0,l("div",{class:"q-calendar-month__week"},[l("div",{class:"q-calendar-month__week--days"},t.map((o,_)=>J(o))),i.value!==!0&&f!==void 0?l("div",{ref:o=>{V.value[d]=o},class:"q-calendar-month__week--events"},f({scope:y})):void 0])])}function U(t){const d=s.workweek,f=t.length>2?t[2]:t[0],{timestamp:r}=na(t),y=Number(f.workweek).toLocaleString(e.locale),L={workweekLabel:y,week:t,miniMode:i.value};return l("div",{key:f.workweek,class:{"q-calendar-month__workweek":!0,...Le(r!==!1?r:f,!1)},...P("-workweek",a=>({scope:L,event:a}))},d?d({scope:L}):y)}function J(t){const d=s.day,f=e.dayStyle||Ye,r=z(t),y=e.noActiveDate!==!0&&De.value.date===t.date,L=r===!1&&e.showMonthLabel===!0&&Z.value.find(k=>k.month===t.month).day===t.day,a={outside:r,timestamp:t,miniMode:i.value,activeDate:y,hasMonth:L,droppable:g.value===t.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(t.weekday):!1},o=Object.assign({...Oe.value},f({scope:a})),_=typeof e.dayClass=="function"?e.dayClass({scope:a}):{},w={key:t.date,ref:k=>{Ie.value===!0&&(Y.value[t.date]=k)},tabindex:Ie.value===!0?0:-1,class:{"q-calendar-month__day":!0,..._,...Le(t,r,e.selectedDates,e.selectedStartEndDates,e.hover),"q-active-date":y===!0,disabled:e.enableOutsideDays!==!0&&r===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ie.value===!0},style:o,onFocus:k=>{Ie.value===!0&&(R.value=t.date)},onKeydown:k=>{r!==!0&&t.disabled!==!0&&K(k,[13,32])&&(k.stopPropagation(),k.preventDefault())},onKeyup:k=>{r!==!0&&t.disabled!==!0&&K(k,[13,32])&&(k.stopPropagation(),k.preventDefault(),le.value.onClickDay!==void 0&&i.value!==!0&&q("click-day",{scope:a,event:k}))},...P("-day",k=>({scope:a,event:k}))};return r!==!0&&Object.assign(w,{onDragenter:k=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(k,"day",a)===!0?g.value=t.date:g.value="")},onDragover:k=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(k,"day",a)===!0?g.value=t.date:g.value="")},onDragleave:k=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(k,"day",a)===!0?g.value=t.date:g.value="")},onDrop:k=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(k,"day",a)===!0?g.value=t.date:g.value="")}}),e.noAria!==!0&&(w.ariaLabel=Xe.value(t)),l("div",w,[de(t,r,L),l("div",{class:{"q-calendar-month__day--content":!0}},d?d({scope:a}):void 0),Ie.value===!0&&Je()])}function de(t,d,f){let r,y;const L=[re(t,d)];i.value!==!0&&f===!0&&O.width>340&&(y=n(t,d)),i.value!==!0&&e.showDayOfYearLabel===!0&&y===void 0&&O.width>300&&(r=xe(t,d)),e.dateAlign==="left"?(r!==void 0&&L.push(r),y!==void 0&&L.push(y)):e.dateAlign==="right"?(r!==void 0&&L.unshift(r),y!==void 0&&L.unshift(y)):(r=void 0,y=void 0);const a={class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+e.dateAlign]:r===void 0&&y===void 0,"q-calendar__justify":r!==void 0||y!==void 0}};return l("div",a,L)}function re(t,d){if(d===!0&&e.noOutsideDays===!0)return;const f=aa.value(t,!1),r=s["head-day-label"],y=s["head-day-button"],L=e.selectedDates&&e.selectedDates.length>0&&e.selectedDates.includes(t.date),a=e.noActiveDate!==!0&&pe(t),o={dayLabel:f,timestamp:t,outside:d,activeDate:a,selectedDate:L,miniMode:i.value,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(t.weekday):!1},_={key:t.date,ref:w=>{qe.value===!0&&(Y.value[t.date]=w)},tabindex:qe.value===!0?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":t.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":qe.value===!0},disabled:t.disabled===!0||e.enableOutsideDays!==!0&&d===!0,onFocus:w=>{qe.value===!0&&(R.value=t.date)},onKeydown:w=>{d!==!0&&t.disabled!==!0&&K(w,[13,32])&&(w.stopPropagation(),w.preventDefault())},onKeyup:w=>{qe.value===!0&&d!==!0&&t.disabled!==!0&&K(w,[13,32])&&(w.stopPropagation(),w.preventDefault(),D.value=t.date,le.value.onClickDate!==void 0&&q("click-date",{scope:o,event:w}))},...P("-date",(w,S)=>(w.stopPropagation(),(S==="click-date"||S==="contextmenu-date")&&(D.value=t.date),{scope:o,event:w}))};return e.noAria!==!0&&(_.ariaLabel=Xe.value(t)),[y?y({scope:o}):Qa(e,_,r?r({scope:o}):f),qe.value===!0&&Je()]}function xe(t,d){if(d===!0&&e.noOutsideDays===!0)return;const f=s["day-of-year"];return l("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},f?f({scope:{timestamp:t}}):t.doy)}function n(t,d){if(d===!0&&e.noOutsideDays===!0)return;const f=s["month-label"],r=G.value(t,e.shortMonthLabel||O.width<500),y={monthLabel:r,timestamp:t,miniMode:i.value},L={};return i.value!==!0&&W.value!==void 0&&(L.fontSize=W.value),l("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:L},[f?f({scope:y}):i.value!==!0?r:void 0])}function c(){const{start:t,end:d}=Re.value;p.value=t.date,ve.value=d.date;const f=O.width>0,r=Ca(l("div",{class:{"q-calendar-mini":i.value===!0,"q-calendar-month":!0},key:p.value},[f===!0&&e.noHeader!==!0&&sa(),f===!0&&da()]),[[fa,ta]]);if(e.animated===!0){const y="q-calendar--"+(N.value==="prev"?e.transitionPrev:e.transitionNext);return l(Ha,{name:y,appear:!0},()=>r)}return r}return oe({prev:la,next:Pe,move:ae,moveToToday:oa,updateCurrent:Be}),()=>se()}}),Ft=_a({name:"QCalendarResource",props:{...ma,...ot,...et,...Za,...Pa,...ga,...wa},emits:["update:model-value","update:model-resources","resource-expanded",...Wa,...xa,...ge("-date"),...ge("-interval"),...ge("-head-day"),...ge("-time"),...ge("-head-resources"),...ge("-resource")],setup(e,{slots:s,emit:q,expose:oe}){const x=v(null),ye=v(null),ce=v(null),R=v(null),j=v(null),Y=v(null),V=v({}),ue=v({}),N=v("next"),p=v(ia()),ve=v("0000-00-00"),ee=v(0),D=v(e.modelValue),O=Da({width:0,height:0}),b=v(!1),g=v(!1),I=v(!1),ze=v(null),We=v(null);$(()=>e.view,()=>{ee.value=0});const we=H(()=>e.view==="month"?"month-interval":e.view),le=H(()=>parseInt(e.cellWidth,10)),C=Sa();if(C===null)throw new Error("current instance is null");const{emitListeners:E}=Ta(C),{times:fe,setCurrent:Be,updateCurrent:Ee}=La(e);Ee(),Be();const{weekdaySkips:Te,parsedStart:Ue,parsedEnd:aa,dayStyleDefault:je}=Ra(e,{startDate:p,endDate:ve,times:fe}),Xe=H(()=>ca(e.modelValue,fe.now)||Ue.value||fe.today);Y.value=Xe.value,j.value=Xe.value.date;const{renderValues:Ye}=Aa(e,{parsedView:we,times:fe,parsedValue:Xe}),{rootRef:Le,__initCalendar:De,__renderCalendar:Oe}=Ea(e,Qe,{scrollArea:x,pane:ye}),{days:Re,intervals:_e,intervalFormatter:$e,styleDefault:se,scrollToTimeX:Z,timeDurationWidth:Q,timeStartPosX:i,widthToMinutes:A}=Ua(e,{weekdaySkips:Te,times:fe,scrollArea:x,parsedStart:Ue,parsedEnd:aa,maxDays:ee,size:O,headerColumnRef:R}),{move:W}=Ia(e,{parsedView:we,parsedValue:Xe,weekdaySkips:Te,direction:N,maxDays:ee,times:fe,emittedValue:D,emit:q}),{getDefaultMouseEventHandlers:z}=Ba(q,E),{checkChange:G}=Ma(q,{days:Re,lastStart:ze,lastEnd:We}),{isKeyCode:ae}=Va(),{tryFocus:P}=Oa(e,{rootRef:Le,focusRef:j,focusValue:Y,datesRef:V,days:Re,parsedView:we,parsedValue:Xe,emittedValue:D,weekdaySkips:Te,direction:N,times:fe}),he=H(()=>{const h=parseInt(e.resourceHeight,10);return h===0?"auto":h}),K=H(()=>parseInt(e.resourceMinHeight,10)),Ve=H(()=>parseInt(e.intervalHeaderHeight,10));$([Re],G,{deep:!0,immediate:!0}),$(()=>e.modelValue,(h,X)=>{if(D.value!==h){if(e.animated===!0){const U=ke(Fe(h)),J=ke(Fe(X));N.value=U>=J?"next":"prev"}D.value=h}j.value=h}),$(D,(h,X)=>{if(D.value!==e.modelValue){if(e.animated===!0){const U=ke(Fe(h)),J=ke(Fe(X));N.value=U>=J?"next":"prev"}q("update:model-value",h)}}),$(j,h=>{h&&(Y.value=ca(h))}),$(Y,h=>{V.value[j.value]?V.value[j.value].focus():P()}),qa(()=>{V.value={},ue.value={}}),Fa(()=>{De()});function Ae(){D.value=ia()}function be(h=1){W(h)}function Ge(h=1){W(-h)}function Ie({width:h,height:X}){O.width=h,O.height=X}function qe(h){return h.date===D.value}function oa(){const h={height:ne(Ve.value)};return l("div",{ref:ce,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":e.noSticky!==!0},style:h},[Pe(),la()])}function Pe(){const h=s["head-resources"],X=ne(Ve.value),U={timestamps:_e,date:e.modelValue,resources:e.modelResources};return l("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":e.noSticky!==!0},style:{height:X},...z("-head-resources",J=>({scope:U,event:J}))},[h&&h({scope:U})])}function la(){return l("div",{ref:R,class:{"q-calendar-resource__head--intervals":!0}},[_e.value.map(h=>h.map((X,U)=>ta(X,U)))])}function ta(h,X){const U=s["interval-label"],J=e.noActiveDate!==!0&&qe(h),de=ne(le.value),re=ne(Ve.value),xe=e.shortIntervalLabel,n=$e.value(h,xe),c={timestamp:h,index:X,label:n};c.droppable=b.value===n;const t=e.intervalStyle||je,d={width:de,maxWidth:de,minWidth:de,height:re,...t({scope:c})},f=typeof e.intervalClass=="function"?e.intervalClass({scope:c}):{},r=e.focusable===!0&&e.focusType.includes("interval");return l("div",{key:n,tabindex:r===!0?0:-1,class:{"q-calendar-resource__head--interval":!0,...f,"q-active-date":J,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":r===!0},style:d,onDragenter:y=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(y,"interval",c)===!0?b.value=n:b.value="")},onDragover:y=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(y,"interval",c)===!0?b.value=n:b.value="")},onDragleave:y=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(y,"interval",c)===!0?b.value=n:b.value="")},onDrop:y=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(y,"interval",c)===!0?b.value=n:b.value="")},onFocus:y=>{r===!0&&(j.value=n)},...z("-interval",y=>({scope:c,event:y}))},[U?U({scope:c}):n,Je()])}function pe(){return l("div",{class:"q-calendar-resource__body"},[na()])}function na(){return l("div",{ref:x,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[da()])}function ra(){return l("div",{},"No resources have been defined")}function da(){return l("div",{class:"q-calendar-resource__day--container"},[oa(),e.modelResources===void 0&&ra(),e.modelResources!==void 0&&sa()])}function sa(){return l("div",{class:"q-calendar-resource__resources--body"},ea())}function ea(h=void 0,X=0,U=!0){return h===void 0&&(h=e.modelResources),h.map((J,de)=>Ke(J,de,X,J.children!==void 0?J.expanded:U))}function Ke(h,X,U=0,J=!0){const de={};de.height=he.value==="auto"?he.value:ne(he.value),K.value>0&&(de.minHeight=ne(K.value));const re=l("div",{key:h[e.resourceKey]+"-"+X,class:{"q-calendar-resource__resource--row":!0},style:de},[ua(h,X,U,J),Ce(h,X)]);return h.children!==void 0?[re,l("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":J===!0,"q-calendar__child--collapsed":J!==!0}},[ea(h.children,U+1,J===!1?J:h.expanded)])]:[re]}function ua(h,X,U=0,J=!0){const de=s["resource-label"],re={};re.height=h.height!==void 0?ne(parseInt(h.height,10)):he.value?ne(he.value):"auto",K.value>0&&(re.minHeight=ne(K.value));const xe=e.resourceStyle||se,n=h[e.resourceLabel],c=e.focusable===!0&&e.focusType.includes("resource")&&J===!0,t={resource:h,timestamps:_e,resourceIndex:X,indentLevel:U,label:n},d=h[e.resourceKey];t.droppable=g.value===d;const f=typeof e.resourceClass=="function"?e.resourceClass({scope:t}):{};return l("div",{key:h[e.resourceKey]+"-"+X,ref:r=>{ue.value[h[e.resourceKey]]=r},tabindex:c===!0?0:-1,class:{"q-calendar-resource__resource":U===0,"q-calendar-resource__resource--section":U!==0,...f,"q-calendar__sticky":e.noSticky!==!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":c===!0},style:{...re,...xe({scope:t})},onDragenter:r=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(r,"resource",t)===!0?g.value=d:g.value="")},onDragover:r=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(r,"resource",t)===!0?g.value=d:g.value="")},onDragleave:r=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(r,"resource",t)===!0?g.value=d:g.value="")},onDrop:r=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(r,"resource",t)===!0?g.value=d:g.value="")},onKeydown:r=>{ae(r,[13,32])&&(r.stopPropagation(),r.preventDefault())},onKeyup:r=>{ae(r,[13,32])&&E.value.onClickResource!==void 0&&q("click-resource",{scope:t,event:r})},...z("-resource",r=>({scope:t,event:r}))},[[l("div",{class:{"q-calendar__parent":h.children!==void 0,"q-calendar__parent--expanded":h.children!==void 0&&h.expanded===!0,"q-calendar__parent--collapsed":h.children!==void 0&&h.expanded!==!0},onClick:r=>{r.stopPropagation(),h.expanded=!h.expanded,q("resource-expanded",{expanded:h.expanded,scope:t})}}),l("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*U+2+"px"}},[de?de({scope:t}):n]),Je()]])}function Ce(h,X){const U=s["resource-intervals"],J={resource:h,timestamps:_e,resourceIndex:X,timeStartPosX:i,timeDurationWidth:Q};return l("div",{class:"q-calendar-resource__resource--intervals"},[_e.value.map(de=>de.map(re=>va(h,re,X))),U&&U({scope:J})])}function va(h,X,U){const J=s["resource-interval"],de=e.noActiveDate!==!0&&qe(X),re={activeDate:de,resource:h,timestamp:X,resourceIndex:U},xe=h[e.resourceKey],n=X.time+"-"+xe;re.droppable=I.value===n;const c=e.focusable===!0&&e.focusType.includes("time"),t=e.intervalStyle||je,d=ne(le.value),f={width:d,maxWidth:d,minWidth:d,...t({scope:re})};return f.height=h.height!==void 0?ne(parseInt(h.height,10)):he.value>0?ne(he.value):"auto",K.value>0&&(f.minHeight=ne(K.value)),l("div",{key:n,ref:r=>{V.value[h[e.resourceKey]]=r},tabindex:c===!0?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":de,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":c===!0},style:f,onDragenter:r=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(r,"time",re)===!0?I.value=n:I.value="")},onDragover:r=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(r,"time",re)===!0?I.value=n:I.value="")},onDragleave:r=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(r,"time",re)===!0?I.value=n:I.value="")},onDrop:r=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(r,"time",re)===!0?I.value=n:I.value="")},onFocus:r=>{c===!0&&(j.value=n)},...z("-time",r=>({scope:re,event:r}))},[J&&J({scope:re}),Je()])}function Qe(){const{start:h,end:X,maxDays:U}=Ye.value;(p.value!==h.date||ve.value!==X.date||ee.value!==U)&&(p.value=h.date,ve.value=X.date,ee.value=U);const J=O.width>0,de=Ca(l("div",{class:"q-calendar-resource",key:p.value},[J===!0&&pe()]),[[fa,Ie]]);if(e.animated===!0){const re="q-calendar--"+(N.value==="prev"?e.transitionPrev:e.transitionNext);return l(Ha,{name:re,appear:!0},()=>de)}return de}return oe({prev:Ge,next:be,move:W,moveToToday:Ae,updateCurrent:Ee,timeStartPosX:i,timeDurationWidth:Q,widthToMinutes:A,scrollToTimeX:Z}),()=>Oe()}}),Ct=_a({name:"QCalendarScheduler",directives:[fa],props:{...ma,...ct,...Za,...Pa,...ga,...Ka,...wa},emits:["update:model-value","update:model-resources","resource-expanded",...Wa,...xa,...ge("-date"),...ge("-day-resource"),...ge("-head-resources"),...ge("-head-day"),...ge("-resource")],setup(e,{slots:s,emit:q,expose:oe}){const x=v(null),ye=v(null),ce=v(null),R=v(null),j=v(null),Y=v({}),V=v({}),ue=v({}),N=v({}),p=v("next"),ve=v(e.modelValue||ia()),ee=v("0000-00-00"),D=v(0),O=v(e.modelValue),b=Da({width:0,height:0}),g=v(!1),I=v(!1),ze=v(null),We=v(null);$(()=>e.view,()=>{D.value=0});const we=H(()=>e.view==="month"?"month-interval":e.view),le=Sa();if(le===null)throw new Error("current instance is null");const{emitListeners:C}=Ta(le),{isSticky:E}=ja(e),{times:fe,setCurrent:Be,updateCurrent:Ee}=La(e);Ee(),Be();const{weekdaySkips:Te,parsedStart:Ue,parsedEnd:aa,dayFormatter:je,weekdayFormatter:Xe,ariaDateFormatter:Ye,dayStyleDefault:Le,getRelativeClasses:De}=Ra(e,{startDate:ve,endDate:ee,times:fe}),Oe=H(()=>ca(e.modelValue,fe.now)||Ue.value||fe.today);j.value=Oe.value,R.value=Oe.value.date;const{renderValues:Re}=Aa(e,{parsedView:we,parsedValue:Oe,times:fe}),{rootRef:_e,scrollWidth:$e,__initCalendar:se,__renderCalendar:Z}=Ea(e,L,{scrollArea:x,pane:ye}),{days:Q,parsedCellWidth:i,styleDefault:A}=Ua(e,{weekdaySkips:Te,times:fe,scrollArea:x,parsedStart:Ue,parsedEnd:aa,maxDays:D,size:b,headerColumnRef:ce}),{move:W}=Ia(e,{parsedView:we,parsedValue:Oe,weekdaySkips:Te,direction:p,maxDays:D,times:fe,emittedValue:O,emit:q}),{getDefaultMouseEventHandlers:z}=Ba(q,C),{checkChange:G}=Ma(q,{days:Q,lastStart:ze,lastEnd:We}),{isKeyCode:ae}=Va(),{tryFocus:P}=Oa(e,{rootRef:_e,focusRef:R,focusValue:j,datesRef:Y,days:Q,parsedView:we,parsedValue:Oe,emittedValue:O,weekdaySkips:Te,direction:p,times:fe}),he=H(()=>we.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):we.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:Q.value.length),K=H(()=>_e.value?parseInt(getComputedStyle(_e.value).getPropertyValue("--calendar-resources-width"),10):0),Ve=H(()=>{const a=parseInt(e.resourceHeight,10);return a===0?"auto":a}),Ae=H(()=>parseInt(e.resourceMinHeight,10)),be=H(()=>{if(_e.value){const a=b.width||_e.value.getBoundingClientRect().width;if(a&&K.value&&he.value)return(a-$e.value-K.value)/he.value+"px"}return 100/he.value+"%"});$([Q],G,{deep:!0,immediate:!0}),$(()=>e.modelValue,(a,o)=>{if(O.value!==e.modelValue){if(e.animated===!0){const _=ke(Fe(a)),w=ke(Fe(o));p.value=_>=w?"next":"prev"}O.value=a}R.value=a}),$(O,(a,o)=>{if(O.value!==e.modelValue){if(e.animated===!0){const _=ke(Fe(a)),w=ke(Fe(o));p.value=_>=w?"next":"prev"}q("update:model-value",a)}}),$(R,a=>{a&&(j.value=ca(a))}),$(j,a=>{Y.value[R.value]?Y.value[R.value].focus():P()}),$(()=>e.maxDays,a=>{D.value=a}),qa(()=>{Y.value={},ue.value={},N.value={},V.value={}}),Fa(()=>{se()});function Ge(){O.value=ia()}function Ie(a=1){W(a)}function qe(a=1){W(-a)}function oa({width:a,height:o}){b.width=a,b.height=o}function Pe(a){return a.date===O.value}function la(){return l("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":E.value===!0},style:{marginRight:$e.value+"px"}},[ta(),pe()])}function ta(){const a=s["head-resources"],o={days:Q.value,timestamps:Q.value,date:e.modelValue,resources:e.modelResources};return l("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":E.value===!0},...z("-head-resources",_=>({scope:o,event:_}))},[a&&a({scope:o})])}function pe(){return l("div",{ref:ce,class:{"q-calendar-scheduler__head--days__column":!0}},[na(),ra()])}function na(){return l("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[...da()])}function ra(){const a=s["head-days-events"];return Xa(()=>{if(N.value&&parseInt(e.columnCount,10)===0&&window)try{const o=window.getComputedStyle(N.value);ue.value.parentElement.style.height=o.height,ue.value.style.height=o.height}catch{}}),l("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[a&&l("div",{ref:ue,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[a({scope:{timestamps:Q.value,days:Q.value,ref:N}})]),...sa()])}function da(){return Q.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((a,o)=>o+parseInt(e.columnIndexStart,10)).map(a=>ea(Q.value[0],a)):Q.value.map(a=>ea(a))}function sa(){return Q.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((a,o)=>o+parseInt(e.columnIndexStart,10)).map(a=>ua(Q.value[0],a)):Q.value.map(a=>ua(a))}function ea(a,o){const _=s["head-day"],w=s["head-date"],S=e.noActiveDate!==!0&&Pe(a),k={timestamp:a,activeDate:S,droppable:g.value===a.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(a.weekday):!1};o!==void 0&&(k.columnIndex=o);const me=E.value===!0?ne(i.value):be.value,te=e.weekdayStyle||Le,Ze={width:me,maxWidth:me,minWidth:me,...te({scope:k})};E.value===!0&&(Ze.minWidth=me);const u=typeof e.weekdayClass=="function"?e.weekdayClass({scope:k}):{},m=e.focusable===!0&&e.focusType.includes("weekday"),F=a.date+(o!==void 0?"-"+o:""),T={key:F,ref:M=>{Y.value[F]=M},tabindex:m===!0?0:-1,class:{"q-calendar-scheduler__head--day":!0,...u,...De(a),"q-active-date":S,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":m===!0},style:Ze,onFocus:M=>{m===!0&&(R.value=F)},onKeydown:M=>{a.disabled!==!0&&ae(M,[13,32])&&(M.stopPropagation(),M.preventDefault())},onKeyup:M=>{a.disabled!==!0&&ae(M,[13,32])&&(O.value=a.date)},...z("-head-day",M=>({scope:k,event:M})),onDragenter:M=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(M,"head-day",k)===!0?g.value=a.date:g.value="")},onDragover:M=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(M,"head-day",k)===!0?g.value=a.date:g.value="")},onDragleave:M=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(M,"head-day",k)===!0?g.value=a.date:g.value="")},onDrop:M=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(M,"head-day",k)===!0?g.value=a.date:g.value="")}};return l("div",T,[_!==void 0&&_({scope:k}),_===void 0&&X(a,o),_===void 0&&Ke(a),_===void 0&&w&&w({scope:k}),_===void 0&&U(a,o),Je()])}function Ke(a){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ce(a),e.noDefaultHeaderBtn!==!0&&Qe(a)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ce(a),e.noDefaultHeaderBtn!==!0&&Qe(a)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ce(a),e.noDefaultHeaderBtn!==!0&&Qe(a)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ce(a),e.noDefaultHeaderBtn!==!0&&Qe(a)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Qe(a),e.noDefaultHeaderText!==!0&&Ce(a)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Qe(a),e.noDefaultHeaderText!==!0&&Ce(a)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Qe(a),e.noDefaultHeaderText!==!0&&Ce(a)])}function ua(a,o){const _=s["head-day-event"],w=e.noActiveDate!==!0&&Pe(a),S={timestamp:a,activeDate:w,droppable:g.value===a.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(a.weekday):!1};o!==void 0&&(S.columnIndex=o);const k=E.value===!0?ne(i.value):be.value,me={width:k,maxWidth:k,minWidth:k};return E.value===!0&&(me.minWidth=k),l("div",{key:"event-"+a.date+(o!==void 0?"-"+o:""),class:{"q-calendar-scheduler__head--day__event":!0,...De(a),"q-active-date":w},style:me},[_&&_({scope:S})])}function Ce(a){const o=s["head-weekday-label"],_=e.shortWeekdayLabel===!0,w={timestamp:a,shortWeekdayLabel:_},S={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return l("div",S,o&&o({scope:w})||va(a,_))}function va(a,o){const _=Xe.value(a,o||e.weekdayBreakpoints[0]>0&&i.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&i.value<=e.weekdayBreakpoints[1]?Ya(_,e.minWeekdayLabel):_)}function Qe(a){const o={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return l("div",o,h(a))}function h(a){const o=e.noActiveDate!==!0&&Pe(a),_=je.value(a,!1),w=s["head-day-label"],S=s["head-day-button"],k={dayLabel:_,timestamp:a,activeDate:o},me={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":a.current===!0,"q-calendar__focusable":!0},disabled:a.disabled,onKeydown:te=>{a.disabled!==!0&&ae(te,[13,32])&&(te.stopPropagation(),te.preventDefault())},onKeyup:te=>{a.disabled!==!0&&ae(te,[13,32])&&(O.value=a.date,C.value.onClickDate!==void 0&&q("click-date",{scope:k}))},...z("-date",(te,Ze)=>((Ze==="click-date"||Ze==="contextmenu-date")&&(O.value=a.date,Ze==="click-date"&&te.preventDefault()),{scope:k,event:te}))};return e.noAria!==!0&&(me.ariaLabel=Ye.value(a)),S?S({scope:k}):Qa(e,me,w?w({scope:k}):_)}function X(a,o){const _=s["column-header-before"];if(_)return l("div",{class:"q-calendar-scheduler__column-header--before"},[_({scope:{timestamp:a,columnIndex:o}})])}function U(a,o){const _=s["column-header-after"];if(_)return l("div",{class:"q-calendar-scheduler__column-header--after"},[_({scope:{timestamp:a,columnIndex:o}})])}function J(){return l("div",{class:"q-calendar-scheduler__body"},[de()])}function de(){return E.value===!0?l("div",{ref:x,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[E.value!==!0&&d(),xe()]):e.noScroll===!0?re():l("div",{ref:x,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[re()])}function re(){return l("div",{ref:ye,class:"q-calendar-scheduler__pane"},[xe()])}function xe(){return l("div",{class:"q-calendar-scheduler__day--container"},[E.value===!0&&e.noHeader!==!0&&la(),n()])}function n(a=void 0,o=0,_=!0){return a===void 0&&(a=e.modelResources),a.map((w,S)=>c(w,S,o,w.children!==void 0?w.expanded:_))}function c(a,o,_=0,w=!0){const S={};S.height=a.height!==void 0?ne(parseInt(a.height,10)):Ve.value?ne(Ve.value):"auto",Ae.value>0&&(S.minHeight=ne(Ae.value));const k=l("div",{key:a[e.resourceKey]+"-"+o,class:{"q-calendar-scheduler__resource--row":!0},style:S},[t(a,o,_,w),d(a,o,_,w)]);return a.children!==void 0?[k,l("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":w===!0,"q-calendar__child--collapsed":w!==!0}},[n(a.children,_+1,w===!1?w:a.expanded)])]:[k]}function t(a,o,_=0,w=!0){const S=s["resource-label"],k={};k.height=a.height!==void 0?ne(parseInt(a.height,10)):Ve.value?ne(Ve.value):"auto",parseInt(e.resourceMinHeight,10)>0&&(k.minHeight=ne(parseInt(e.resourceMinHeight,10)));const me=e.resourceStyle||A,te=a[e.resourceLabel],Ze=e.focusable===!0&&e.focusType.includes("resource")&&w===!0,u={resource:a,timestamps:Q.value,days:Q.value,resourceIndex:o,indentLevel:_,label:te},m=a[e.resourceKey];u.droppable=I.value===m;const F=typeof e.resourceClass=="function"?e.resourceClass({scope:u}):{};return l("div",{key:a[e.resourceKey]+"-"+o,ref:T=>{V.value[a[e.resourceKey]]=T},tabindex:Ze===!0?0:-1,class:{"q-calendar-scheduler__resource":_===0,"q-calendar-scheduler__resource--section":_!==0,...F,"q-calendar__sticky":E.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ze===!0},style:{...k,...me({scope:u})},onDragenter:T=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(T,"resource",u)===!0?I.value=m:I.value="")},onDragover:T=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(T,"resource",u)===!0?I.value=m:I.value="")},onDragleave:T=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(T,"resource",u)===!0?I.value=m:I.value="")},onDrop:T=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(T,"resource",u)===!0?I.value=m:I.value="")},onKeydown:T=>{ae(T,[13,32])&&(T.stopPropagation(),T.preventDefault())},onKeyup:T=>{ae(T,[13,32])&&C.value.onClickResource!==void 0&&q("click-resource",{scope:u,event:T})},...z("-resource",T=>({scope:u,event:T}))},[[l("div",{class:{"q-calendar__parent":a.children!==void 0,"q-calendar__parent--expanded":a.children!==void 0&&a.expanded===!0,"q-calendar__parent--collapsed":a.children!==void 0&&a.expanded!==!0},onClick:T=>{T.stopPropagation(),a.expanded=!a.expanded,q("resource-expanded",{expanded:a.expanded,scope:u})}}),l("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*_+2+"px"}},[S?S({scope:u}):te]),Je()]])}function d(a,o,_=0,w=!0){const S=s["resource-days"],k=E.value===!0?ne(i.value):be.value,me={resource:a,resourceIndex:o,indentLevel:_,expanded:w,cellWidth:k,timestamps:Q.value,days:Q.value},te={};return te.height=parseInt(e.resourceHeight,10)>0?ne(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(te.minHeight=ne(parseInt(e.resourceMinHeight,10))),l("div",{class:"q-calendar-scheduler__resource--days",style:te},[...f(a,o,_,w),S&&S({scope:me})])}function f(a,o,_=0,w=!0){return Q.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((S,k)=>k+parseInt(e.columnIndexStart,10)).map(S=>r(Q.value[0],S,a,o,_,w)):Q.value.map(S=>r(S,void 0,a,o,_,w))}function r(a,o,_,w,S=0,k=!0){const me=s.day,te=e.dayStyle||Le,Ze=e.noActiveDate!==!0&&Oe.value.date===a.date,u=a.date+":"+_[e.resourceKey]+(o!==void 0?":"+o:""),m=I.value===u,F={timestamp:a,columnIndex:o,resource:_,resourceIndex:w,indentLevel:S,activeDate:Ze,droppable:m},T=E.value===!0?ne(i.value):be.value,M={width:T,maxWidth:T,...te({scope:F})};M.height=parseInt(e.resourceHeight,10)>0?ne(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(M.minHeight=ne(parseInt(e.resourceMinHeight,10)));const B=typeof e.dayClass=="function"?e.dayClass({scope:F}):{},He=e.focusable===!0&&e.focusType.includes("day")&&k===!0;return l("div",{key:a.date+(o!==void 0?":"+o:""),tabindex:He===!0?0:-1,class:{"q-calendar-scheduler__day":S===0,"q-calendar-scheduler__day--section":S!==0,...B,...De(a),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":He===!0},style:M,onDragenter:ie=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(ie,"day",F)===!0?I.value=u:I.value="")},onDragover:ie=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(ie,"day",F)===!0?I.value=u:I.value="")},onDragleave:ie=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(ie,"day",F)===!0?I.value=u:I.value="")},onDrop:ie=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(ie,"day",F)===!0?I.value=u:I.value="")},onKeydown:ie=>{ae(ie,[13,32])&&(ie.stopPropagation(),ie.preventDefault())},onKeyup:ie=>{ae(ie,[13,32])&&(O.value=F.timestamp.date,C.value.onClickResource!==void 0&&q("click-resource",{scope:F,event:ie}))},...z("-day-resource",ie=>({scope:F,event:ie}))},[me&&me({scope:F}),Je()])}function y(){return l("div",{},"No resources have been defined")}function L(){const{start:a,end:o,maxDays:_}=Re.value;(ve.value!==a.date||ee.value!==o.date||D.value!==_)&&(ve.value=a.date,ee.value=o.date,D.value=_);const w=b.width>0,S=e.modelResources&&e.modelResources.length>0,k=Ca(l("div",{key:ve.value,class:"q-calendar-scheduler"},[w===!0&&S===!0&&E.value!==!0&&e.noHeader!==!0&&la(),w===!0&&S===!0&&J(),S===!1&&y()]),[[fa,oa]]);if(e.animated===!0){const me="q-calendar--"+(p.value==="prev"?e.transitionPrev:e.transitionNext);return l(Ha,{name:me,appear:!0},()=>k)}return k}return oe({prev:qe,next:Ie,move:W,moveToToday:Ge,updateCurrent:Ee}),()=>Z()}}),Wt=_a({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...ma,...st,...ga,...Ka,...wa,...et,...ct,...ot,...Pa,...yt},setup(e,{attrs:s,slots:q,expose:oe}){const x=v(null),ye=H(()=>{switch(e.mode){case"agenda":return kt;case"resource":return Ft;case"scheduler":return Ct;case"month":return qt;case"day":return nt;case"task":return _t;case"day":default:return nt}});function ce(){x.value.moveToToday()}function R(g=-1){x.value.move(g)}function j(g=1){x.value.next(g)}function Y(g=1){x.value.prev(g)}function V(){x.value.updateCurrent()}function ue(g,I=!0){return x.value.timeStartPos(g,I)}function N(g,I=!0){return x.value.timeStartPosX(g,I)}function p(g){return x.value.timeDurationWidth(g)}function ve(g){return x.value.timeDurationHeight(g)}function ee(g){return x.value.heightToMinutes(g)}function D(g){return x.value.widthToMinutes(minutes)}function O(g){return x.value.scrollToTime(g)}function b(g){return x.value.scrollToTimeX(g)}return oe({prev:Y,next:j,move:R,moveToToday:ce,updateCurrent:V,timeStartPos:ue,timeStartPosX:N,timeDurationWidth:p,timeDurationHeight:ve,heightToMinutes:ee,widthToMinutes:D,scrollToTime:O,scrollToTimeX:b}),()=>l(ye.value,{ref:x,...e,...s},q)}});function xt(e,s){const q=s==="header";return{[`text-white bg-${e.bgcolor.toLocaleLowerCase()}`]:!0,"full-width":!q&&(!e.side||e.side==="full"),"left-side":!q&&e.side==="left","right-side":!q&&e.side==="right","rounded-border":!0}}function Tt(e,s,q=void 0,oe=void 0){const x={};return q&&oe&&(x.top=q(e.time)+"px",x.height=oe(e.duration)+"px"),x["align-items"]="flex-start",x}export{Wt as Q,xt as a,Tt as b,nt as c};
