import{_ as f,$ as _,a4 as g,r as i,L as m,E as d,F as c,G as n,a3 as h,M as r,H as a,bt as k,bv as P,N as v,bq as p,a6 as A,a7 as C}from"./index.b9837b95.js";import{Q as E}from"./QSpace.5ac6ebcf.js";const H={name:"schedDialog",components:{adHocEvent:_(()=>g(()=>import("./adHocEvent.683af04e.js"),["assets/adHocEvent.683af04e.js","assets/adHocEvent.cf680abb.css","assets/index.b9837b95.js","assets/index.4f70e4de.css","assets/QSelect.59e4c356.js","assets/touch.70a9dd44.js","assets/goalStorage.940a25a8.js","assets/QItem.acd3649c.js","assets/QKnob.dc5b4e22.js"])),selectEvent:_(()=>g(()=>import("./selectEvent.e254551c.js"),["assets/selectEvent.e254551c.js","assets/selectEvent.4a75e3d3.css","assets/index.b9837b95.js","assets/index.4f70e4de.css","assets/QSelect.59e4c356.js","assets/touch.70a9dd44.js","assets/goalStorage.940a25a8.js","assets/QItem.acd3649c.js","assets/QKnob.dc5b4e22.js","assets/QSpace.5ac6ebcf.js"]))},props:{parentGoals:Array,canBeScheduled:Array,balance:Number,selectedTime:String},data(){return{showPickDialog:i(!1),showAdHocDialog:i(!1),show:i(!0),unscheduledP:i({})}},emits:["adHocEvent","onPickEvent","euhHidin"],computed:{showDefaultOption:{get(){return this.show},set(t){this.show=t}},showPickyDialog:{get(){return this.showPickDialog},set(t){this.showPickDialog=t}},showAddyDialog:{get(){return this.showAdHocDialog},set(t){this.showAdHocDialog=t}},unscheduledPGoals:{get(){let t=[];for(let e in this.unscheduledP)t.push(this.unscheduledP[e]);return t}},allUnscheduled:{get(){return this.canBeScheduled.forEach(t=>{let e=this.parentGoals.find(s=>s.id==t.parentGoal);e?t.color=e.bgcolor:t.color="",t.pg=e==null?void 0:e.title.trim(),t.ic=e==null?void 0:e.icon,this.unscheduledP[e==null?void 0:e.id]||(this.unscheduledP[e==null?void 0:e.id]={id:e==null?void 0:e.id,title:e==null?void 0:e.title.trim()})}),this.canBeScheduled}}},methods:{onAddClicked(t,e,s,l){this.$emit("onPickEvent",t,e,s,l),this.reset()},adHocNewEvent(t,e,s,l,u){this.$emit("adHocEvent",t,e,s,l,u),this.reset()},onChooseExisting(){this.showPickyDialog=!this.showPickyDialog},onChooseAdHoc(){this.showAddyDialog=!this.showAddyDialog},gonHide(){this.$emit("euhHidin")},onCancelBtn(){let t=this.showPickyDialog;this.showAddyDialog,t?this.showPickyDialog=!this.showPickyDialog:this.showAddyDialog=!this.showAddyDialog},reset(){this.showAddyDialog=!1,this.showPickyDialog=!1}}},B=t=>(A("data-v-61be9095"),t=t(),C(),t),S={class:"q-ma-md event-select"},x={class:"q-ma-md event-select"},G=B(()=>r("div",{class:"text-h6 choice"},"Ad hoc or Existing event",-1));function b(t,e,s,l,u,o){const w=m("select-event"),D=m("ad-hoc-event");return d(),c(p,{modelValue:o.showDefaultOption,"onUpdate:modelValue":e[0]||(e[0]=y=>o.showDefaultOption=y),"transition-show":"rotate","transition-hide":"rotate","no-esc-dismiss":"",onBeforeHide:o.gonHide},{default:n(()=>[o.showPickyDialog?(d(),c(h,{key:0},{default:n(()=>[r("div",S,[a(w,{unscheduled:o.allUnscheduled,unscheduledParents:o.unscheduledPGoals,toBalance:s.balance,at:s.selectedTime,onOnPickEvent:o.onAddClicked,onDoCancel:o.onCancelBtn},null,8,["unscheduled","unscheduledParents","toBalance","at","onOnPickEvent","onDoCancel"])])]),_:1})):o.showAddyDialog?(d(),c(h,{key:1},{default:n(()=>[r("div",x,[a(D,{mainGoals:s.parentGoals,toBalance:s.balance,at:s.selectedTime,onSaveEvent:o.adHocNewEvent,onDoCancel:o.onCancelBtn},null,8,["mainGoals","toBalance","at","onSaveEvent","onDoCancel"]),a(E)])]),_:1})):(d(),c(h,{key:2,class:"q-mx-auto"},{default:n(()=>[a(k,null,{default:n(()=>[G]),_:1}),a(P,{align:"center"},{default:n(()=>[a(v,{push:"",label:"Ad hoc","no-wrap":"","no-caps":"",color:"primary",align:"evenly",onClick:o.onChooseAdHoc},null,8,["onClick"]),a(v,{push:"",label:"Existing","no-wrap":"","no-caps":"",color:"primary",align:"evenly",onClick:o.onChooseExisting},null,8,["onClick"])]),_:1})]),_:1}))]),_:1},8,["modelValue","onBeforeHide"])}var V=f(H,[["render",b],["__scopeId","data-v-61be9095"]]);export{V as default};
