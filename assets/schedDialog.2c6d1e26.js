import{_ as y,$ as _,a4 as g,r as l,L as m,E as c,F as d,G as n,a3 as r,M as u,H as s,bt as k,bv as p,N as v,bq as E,a6 as P,a7 as A}from"./index.ce87ae0d.js";import{Q as C}from"./QSpace.40341fde.js";const H={name:"schedDialog",components:{adHocEvent:_(()=>g(()=>import("./adHocEvent.6e8c2dcd.js"),["assets/adHocEvent.6e8c2dcd.js","assets/adHocEvent.cf680abb.css","assets/index.ce87ae0d.js","assets/index.4f70e4de.css","assets/QSelect.a79123cd.js","assets/touch.70a9dd44.js","assets/goalStorage.e6c3c0d6.js","assets/QItem.52664d0e.js","assets/QKnob.6fb59970.js"])),altSelectEvent:_(()=>g(()=>import("./altSelectEvent.0cfd5bec.js"),["assets/altSelectEvent.0cfd5bec.js","assets/altSelectEvent.a081c040.css","assets/index.ce87ae0d.js","assets/index.4f70e4de.css","assets/QSelect.a79123cd.js","assets/touch.70a9dd44.js","assets/goalStorage.e6c3c0d6.js","assets/QItem.52664d0e.js","assets/QKnob.6fb59970.js","assets/QSpace.40341fde.js"]))},props:{parentGoals:Array,canBeScheduled:Array,balance:Number,selectedTime:String},data(){return{showPickDialog:l(!1),showAdHocDialog:l(!1),show:l(!0),unscheduledP:l({}),unscheduledParents:l({})}},emits:["adHocEvent","onPickEvent","euhHidin"],computed:{showDefaultOption:{get(){return this.show},set(e){this.show=e}},showPickyDialog:{get(){return this.showPickDialog},set(e){this.showPickDialog=e}},showAddyDialog:{get(){return this.showAdHocDialog},set(e){this.showAdHocDialog=e}},unscheduledGoals:{get(){return this.canBeScheduled.forEach(e=>{if(!this.unscheduledParents[e.parentGoal]){let o=this.parentGoals.find(a=>a.id==e.parentGoal);o?this.unscheduledParents[o==null?void 0:o.id]={id:o==null?void 0:o.id,title:o==null?void 0:o.title.trim(),ic:o==null?void 0:o.icon,color:o.bgcolor}:console.log("unscheduledGoals::ERROR ERROR >>parent not found!!",e.parentGoal,e)}}),this.canBeScheduled}}},methods:{onAddClicked(e,o,a,i){this.$emit("onPickEvent",e,o,a,i),this.reset()},adHocNewEvent(e,o,a,i,h){this.$emit("adHocEvent",e,o,a,i,h),this.reset()},onChooseExisting(){this.showPickyDialog=!this.showPickyDialog},onChooseAdHoc(){this.showAddyDialog=!this.showAddyDialog},gonHide(){this.$emit("euhHidin")},onCancelBtn(){let e=this.showPickyDialog;this.showAddyDialog,e?this.showPickyDialog=!this.showPickyDialog:this.showAddyDialog=!this.showAddyDialog},reset(){this.showAddyDialog=!1,this.showPickyDialog=!1}}},B=e=>(P("data-v-a7361f9c"),e=e(),A(),e),S={class:"q-ma-md event-select"},G={class:"q-ma-md event-select"},x=B(()=>u("div",{class:"text-h6 choice"},"Ad hoc or Existing event",-1));function O(e,o,a,i,h,t){const w=m("altSelectEvent"),D=m("ad-hoc-event");return c(),d(E,{modelValue:t.showDefaultOption,"onUpdate:modelValue":o[0]||(o[0]=f=>t.showDefaultOption=f),"transition-show":"rotate","transition-hide":"rotate","no-esc-dismiss":"",onBeforeHide:t.gonHide},{default:n(()=>[t.showPickyDialog?(c(),d(r,{key:0},{default:n(()=>[u("div",S,[s(w,{allUnscheduled:t.unscheduledGoals,unscheduledParents:h.unscheduledParents,toBalance:a.balance,at:a.selectedTime,onOnPickEvent:t.onAddClicked,onDoCancel:t.onCancelBtn},null,8,["allUnscheduled","unscheduledParents","toBalance","at","onOnPickEvent","onDoCancel"])])]),_:1})):t.showAddyDialog?(c(),d(r,{key:1},{default:n(()=>[u("div",G,[s(D,{mainGoals:a.parentGoals,toBalance:a.balance,at:a.selectedTime,onSaveEvent:t.adHocNewEvent,onDoCancel:t.onCancelBtn},null,8,["mainGoals","toBalance","at","onSaveEvent","onDoCancel"]),s(C)])]),_:1})):(c(),d(r,{key:2,class:"q-mx-auto"},{default:n(()=>[s(k,null,{default:n(()=>[x]),_:1}),s(p,{align:"center"},{default:n(()=>[s(v,{push:"",label:"Ad hoc","no-wrap":"","no-caps":"",color:"primary",align:"evenly",onClick:t.onChooseAdHoc},null,8,["onClick"]),s(v,{push:"",label:"Existing","no-wrap":"","no-caps":"",color:"primary",align:"evenly",onClick:t.onChooseExisting},null,8,["onClick"])]),_:1})]),_:1}))]),_:1},8,["modelValue","onBeforeHide"])}var Q=y(H,[["render",O],["__scopeId","data-v-a7361f9c"]]);export{Q as default};
