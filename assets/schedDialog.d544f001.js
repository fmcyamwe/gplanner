import{F as k,a1 as g,_ as m,r as i,N as _,G as l,H as c,I as s,a5 as r,O as u,J as n,by as y,bA as E,P as w,R as P,M as A,K as C,bw as B}from"./index.f3695b84.js";import{Q as H}from"./QSpace.07453f36.js";const p={name:"schedDialog",components:{adHocEvent:g(()=>m(()=>import("./adHocEvent.a2997b11.js"),["assets/adHocEvent.a2997b11.js","assets/adHocEvent.b3383a4b.css","assets/index.f3695b84.js","assets/index.f80becc5.css","assets/QSelect.00f753a6.js","assets/touch.9135741d.js","assets/goalStorage.3d68be00.js","assets/utiFunc.12687b08.js","assets/QItem.6f48bee9.js","assets/QKnob.995f626c.js"])),altSelectEvent:g(()=>m(()=>import("./altSelectEvent.1e253815.js"),["assets/altSelectEvent.1e253815.js","assets/altSelectEvent.e6b204a8.css","assets/index.f3695b84.js","assets/index.f80becc5.css","assets/QSelect.00f753a6.js","assets/touch.9135741d.js","assets/goalStorage.3d68be00.js","assets/utiFunc.12687b08.js","assets/QItem.6f48bee9.js","assets/QKnob.995f626c.js","assets/QSpace.07453f36.js"]))},props:{parentGoals:Array,canBeScheduled:Array,balance:Number,selectedTime:String,isTimeRange:Object},data(){return{showPickDialog:i(!1),showAdHocDialog:i(!1),show:i(!0),unscheduledP:i({}),unscheduledParents:i({})}},emits:["adHocEvent","onPickEvent","euhHidin"],computed:{showDefaultOption:{get(){return this.show},set(t){this.show=t}},showPickyDialog:{get(){return this.showPickDialog},set(t){this.showPickDialog=t}},showAddyDialog:{get(){return this.showAdHocDialog},set(t){this.showAdHocDialog=t}},unscheduledGoals:{get(){return this.canBeScheduled.forEach(t=>{if(!this.unscheduledParents[t.parentGoal]){let e=this.parentGoals.find(a=>a.id==t.parentGoal);e?this.unscheduledParents[e==null?void 0:e.id]={id:e==null?void 0:e.id,title:e==null?void 0:e.title.trim(),ic:e==null?void 0:e.icon,color:e.bgcolor}:console.log("unscheduledGoals::ERROR ERROR >>parent not found!!",t.parentGoal,t)}}),this.canBeScheduled}}},methods:{onAddClicked(t,e,a,d){this.$emit("onPickEvent",t,e,a,d),this.reset()},adHocNewEvent(t,e,a,d,h,o){this.$emit("adHocEvent",t,e,a,d,h,o),this.reset()},onChooseExisting(){this.showPickyDialog=!this.showPickyDialog},onChooseAdHoc(){this.showAddyDialog=!this.showAddyDialog},gonHide(){this.$emit("euhHidin")},onCancelBtn(){let t=this.showPickyDialog;this.showAddyDialog,t?this.showPickyDialog=!this.showPickyDialog:this.showAddyDialog=!this.showAddyDialog},reset(){this.showAddyDialog=!1,this.showPickyDialog=!1}}},R={class:"q-ma-md event-select"},S={class:"q-ma-md event-select"},b={key:0};function G(t,e,a,d,h,o){const D=_("altSelectEvent"),f=_("ad-hoc-event");return l(),c(B,{modelValue:o.showDefaultOption,"onUpdate:modelValue":e[0]||(e[0]=v=>o.showDefaultOption=v),"transition-show":"rotate","transition-hide":"rotate","no-esc-dismiss":"",onBeforeHide:o.gonHide},{default:s(()=>[o.showPickyDialog?(l(),c(r,{key:0},{default:s(()=>[u("div",R,[n(D,{allUnscheduled:o.unscheduledGoals,unscheduledParents:h.unscheduledParents,toBalance:a.balance,at:a.selectedTime,onOnPickEvent:o.onAddClicked,onDoCancel:o.onCancelBtn},null,8,["allUnscheduled","unscheduledParents","toBalance","at","onOnPickEvent","onDoCancel"])])]),_:1})):o.showAddyDialog?(l(),c(r,{key:1},{default:s(()=>[u("div",S,[n(f,{mainGoals:a.parentGoals,toBalance:a.balance,at:a.selectedTime,timeRange:a.isTimeRange,onSaveEvent:o.adHocNewEvent,onDoCancel:o.onCancelBtn},null,8,["mainGoals","toBalance","at","timeRange","onSaveEvent","onDoCancel"]),n(H)])]),_:1})):(l(),c(r,{key:2,class:"q-mx-auto"},{default:s(()=>[n(y,null,{default:s(()=>e[1]||(e[1]=[u("div",{class:"text-h6 choice"},"Ad hoc or Existing event",-1)])),_:1}),n(E,{align:"center"},{default:s(()=>[n(w,{push:"",label:"Ad hoc","no-wrap":"","no-caps":"",color:"primary",align:"between",onClick:o.onChooseAdHoc},null,8,["onClick"]),n(w,{push:"",label:"Existing","no-wrap":"","no-caps":"",color:"primary",align:"between",onClick:o.onChooseExisting},null,8,["onClick"])]),_:1}),a.isTimeRange.isSame?(l(),P("span",b," **"+A(a.isTimeRange.onMobile?"Click on a ":"Drag mouse to a ")+"different interval for range(Ad hoc)** ",1)):C("",!0)]),_:1}))]),_:1},8,["modelValue","onBeforeHide"])}var T=k(p,[["render",G],["__scopeId","data-v-3f2b9846"]]);export{T as default};
