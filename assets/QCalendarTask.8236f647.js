import{j as Gt,U as Jt,W as Vt,r as Y,o as vt,c as A,w as ce,h as k,g as Ge,n as pt,ao as en,ap as tn,Q as lt,aq as nn,Z as ut,f as Je,ar as an,as as dt,a as Ve,e as rn,d as ln,b as un,T as dn}from"./index.9748ecce.js";import{c as on}from"./goalStorage.ac2b6df5.js";const cn=["none","strict","leaf","leaf-filtered"];var ta=Gt({name:"QTree",props:{...Jt,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>cn.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:t,emit:n}){const{proxy:a}=Ge(),{$q:o}=a,c=Vt(e,o),l=Y({}),y=Y(e.ticked||[]),s=Y(e.expanded||[]);let D={};vt(()=>{D={}});const w=A(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(c.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),b=A(()=>e.selected!==void 0),H=A(()=>e.icon||o.iconSet.tree.icon),O=A(()=>e.controlColor||e.color),M=A(()=>e.textColor!==void 0?` text-${e.textColor}`:""),I=A(()=>{const d=e.selectedColor||e.color;return d?` text-${d}`:""}),q=A(()=>e.filterMethod!==void 0?e.filterMethod:(d,f)=>{const u=f.toLowerCase();return d[e.labelKey]&&d[e.labelKey].toLowerCase().indexOf(u)>-1}),F=A(()=>{const d={},f=(u,T)=>{const h=u.tickStrategy||(T?T.tickStrategy:e.tickStrategy),S=u[e.nodeKey],E=u[e.childrenKey]&&u[e.childrenKey].length>0,X=u.disabled!==!0&&b.value===!0&&u.selectable!==!1,B=u.disabled!==!0&&u.expandable!==!1,Ke=h!=="none",ye=h==="strict",Ee=h==="leaf-filtered",De=h==="leaf"||h==="leaf-filtered";let He=u.disabled!==!0&&u.tickable!==!1;De===!0&&He===!0&&T&&T.tickable!==!0&&(He=!1);let he=u.lazy;he===!0&&l.value[S]!==void 0&&Array.isArray(u[e.childrenKey])===!0&&(he=l.value[S]);const C={key:S,parent:T,isParent:E,lazy:he,disabled:u.disabled,link:u.disabled!==!0&&(X===!0||B===!0&&(E===!0||he===!0)),children:[],matchesFilter:e.filter?q.value(u,e.filter):!0,selected:S===e.selected&&X===!0,selectable:X,expanded:E===!0?s.value.includes(S):!1,expandable:B,noTick:u.noTick===!0||ye!==!0&&he&&he!=="loaded",tickable:He,tickStrategy:h,hasTicking:Ke,strictTicking:ye,leafFilteredTicking:Ee,leafTicking:De,ticked:ye===!0?y.value.includes(S):E===!0?!1:y.value.includes(S)};if(d[S]=C,E===!0&&(C.children=u[e.childrenKey].map(L=>f(L,C)),e.filter&&(C.matchesFilter!==!0?C.matchesFilter=C.children.some(L=>L.matchesFilter):C.noTick!==!0&&C.disabled!==!0&&C.tickable===!0&&Ee===!0&&C.children.every(L=>L.matchesFilter!==!0||L.noTick===!0||L.tickable!==!0)===!0&&(C.tickable=!1)),C.matchesFilter===!0&&(C.noTick!==!0&&ye!==!0&&C.children.every(L=>L.noTick)===!0&&(C.noTick=!0),De))){if(C.ticked=!1,C.indeterminate=C.children.some(L=>L.indeterminate===!0),C.tickable=C.tickable===!0&&C.children.some(L=>L.tickable),C.indeterminate!==!0){const L=C.children.reduce((Te,je)=>je.ticked===!0?Te+1:Te,0);L===C.children.length?C.ticked=!0:L>0&&(C.indeterminate=!0)}C.indeterminate===!0&&(C.indeterminateNextState=C.children.every(L=>L.tickable!==!0||L.ticked!==!0))}return C};return e.nodes.forEach(u=>f(u,null)),d});ce(()=>e.ticked,d=>{y.value=d}),ce(()=>e.expanded,d=>{s.value=d});function $(d){const f=[].reduce,u=(T,h)=>{if(T||!h)return T;if(Array.isArray(h)===!0)return f.call(Object(h),u,T);if(h[e.nodeKey]===d)return h;if(h[e.childrenKey])return u(null,h[e.childrenKey])};return u(null,e.nodes)}function Z(){return y.value.map(d=>$(d))}function ae(){return s.value.map(d=>$(d))}function P(d){return d&&F.value[d]?F.value[d].expanded:!1}function oe(){e.expanded!==void 0?n("update:expanded",[]):s.value=[]}function ee(){const d=s.value,f=u=>{u[e.childrenKey]&&u[e.childrenKey].length>0&&u.expandable!==!1&&u.disabled!==!0&&(d.push(u[e.nodeKey]),u[e.childrenKey].forEach(f))};e.nodes.forEach(f),e.expanded!==void 0?n("update:expanded",d):s.value=d}function G(d,f,u=$(d),T=F.value[d]){if(T.lazy&&T.lazy!=="loaded"){if(T.lazy==="loading")return;l.value[d]="loading",Array.isArray(u[e.childrenKey])!==!0&&(u[e.childrenKey]=[]),n("lazyLoad",{node:u,key:d,done:h=>{l.value[d]="loaded",u[e.childrenKey]=Array.isArray(h)===!0?h:[],pt(()=>{const S=F.value[d];S&&S.isParent===!0&&ge(d,!0)})},fail:()=>{delete l.value[d],u[e.childrenKey].length===0&&delete u[e.childrenKey]}})}else T.isParent===!0&&T.expandable===!0&&ge(d,f)}function ge(d,f){let u=s.value;const T=e.expanded!==void 0;if(T===!0&&(u=u.slice()),f){if(e.accordion&&F.value[d]){const h=[];F.value[d].parent?F.value[d].parent.children.forEach(S=>{S.key!==d&&S.expandable===!0&&h.push(S.key)}):e.nodes.forEach(S=>{const E=S[e.nodeKey];E!==d&&h.push(E)}),h.length>0&&(u=u.filter(S=>h.includes(S)===!1))}u=u.concat([d]).filter((h,S,E)=>E.indexOf(h)===S)}else u=u.filter(h=>h!==d);T===!0?n("update:expanded",u):s.value=u}function Ae(d){return d&&F.value[d]?F.value[d].ticked:!1}function x(d,f){let u=y.value;const T=e.ticked!==void 0;T===!0&&(u=u.slice()),f?u=u.concat(d).filter((h,S,E)=>E.indexOf(h)===S):u=u.filter(h=>d.includes(h)===!1),T===!0&&n("update:ticked",u)}function i(d,f,u){const T={tree:a,node:d,key:u,color:e.color,dark:c.value};return dt(T,"expanded",()=>f.expanded,h=>{h!==f.expanded&&G(u,h)}),dt(T,"ticked",()=>f.ticked,h=>{h!==f.ticked&&x([u],h)}),T}function se(d){return(e.filter?d.filter(f=>F.value[f[e.nodeKey]].matchesFilter):d).map(f=>Pe(f))}function be(d){if(d.icon!==void 0)return k(lt,{class:"q-tree__icon q-mr-sm",name:d.icon,color:d.iconColor});const f=d.img||d.avatar;if(f)return k("img",{class:`q-tree__${d.img?"img":"avatar"} q-mr-sm`,src:f})}function ve(){n("afterShow")}function Ue(){n("afterHide")}function Pe(d){const f=d[e.nodeKey],u=F.value[f],T=d.header&&t[`header-${d.header}`]||t["default-header"],h=u.isParent===!0?se(d[e.childrenKey]):[],S=h.length>0||u.lazy&&u.lazy!=="loaded";let E=d.body&&t[`body-${d.body}`]||t["default-body"];const X=T!==void 0||E!==void 0?i(d,u,f):null;return E!==void 0&&(E=k("div",{class:"q-tree__node-body relative-position"},[k("div",{class:M.value},[E(X)])])),k("div",{key:f,class:`q-tree__node relative-position q-tree__node--${S===!0?"parent":"child"}`},[k("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(u.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(u.selected===!0?" q-tree__node--selected":"")+(u.disabled===!0?" q-tree__node--disabled":""),tabindex:u.link===!0?0:-1,onClick:B=>{Be(d,u,B)},onKeypress(B){en(B)!==!0&&(B.keyCode===13?Be(d,u,B,!0):B.keyCode===32&&p(d,u,B,!0))}},[k("div",{class:"q-focus-helper",tabindex:-1,ref:B=>{D[u.key]=B}}),u.lazy==="loading"?k(tn,{class:"q-tree__spinner",color:O.value}):S===!0?k(lt,{class:"q-tree__arrow"+(u.expanded===!0?" q-tree__arrow--rotate":""),name:H.value,onClick(B){p(d,u,B)}}):null,u.hasTicking===!0&&u.noTick!==!0?k(nn,{class:"q-tree__tickbox",modelValue:u.indeterminate===!0?null:u.ticked,color:O.value,dark:c.value,dense:!0,keepColor:!0,disable:u.tickable!==!0,onKeydown:ut,"onUpdate:modelValue":B=>{we(u,B)}}):null,k("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(u.selected===!0?I.value:M.value)},[T?T(X):[be(d),k("div",d[e.labelKey])]])]),S===!0?e.noTransition===!0?k("div",{class:"q-tree__node-collapsible"+M.value,key:`${f}__q`},[E,k("div",{class:"q-tree__children"+(u.disabled===!0?" q-tree__node--disabled":"")},u.expanded?h:null)]):k(on,{duration:e.duration,onShow:ve,onHide:Ue},()=>Je(k("div",{class:"q-tree__node-collapsible"+M.value,key:`${f}__q`},[E,k("div",{class:"q-tree__children"+(u.disabled===!0?" q-tree__node--disabled":"")},h)]),[[an,u.expanded]])):E])}function We(d){const f=D[d];f&&f.focus()}function Be(d,f,u,T){T!==!0&&f.selectable!==!1&&We(f.key),b.value&&f.selectable?e.noSelectionUnset===!1?n("update:selected",f.key!==e.selected?f.key:null):f.key!==e.selected&&n("update:selected",f.key===void 0?null:f.key):p(d,f,u,T),typeof d.handler=="function"&&d.handler(d)}function p(d,f,u,T){u!==void 0&&ut(u),T!==!0&&f.selectable!==!1&&We(f.key),G(f.key,!f.expanded,d,f)}function we(d,f){if(d.indeterminate===!0&&(f=d.indeterminateNextState),d.strictTicking)x([d.key],f);else if(d.leafTicking){const u=[],T=h=>{h.isParent?(f!==!0&&h.noTick!==!0&&h.tickable===!0&&u.push(h.key),h.leafTicking===!0&&h.children.forEach(T)):h.noTick!==!0&&h.tickable===!0&&(h.leafFilteredTicking!==!0||h.matchesFilter===!0)&&u.push(h.key)};T(d),x(u,f)}}return e.defaultExpandAll===!0&&ee(),Object.assign(a,{getNodeByKey:$,getTickedNodes:Z,getExpandedNodes:ae,isExpanded:P,collapseAll:oe,expandAll:ee,setExpanded:G,isTicked:Ae,setTicked:x}),()=>{const d=se(e.nodes);return k("div",{class:w.value},d.length===0?e.filter?e.noResultsLabel||o.lang.tree.noResults:e.noNodesLabel||o.lang.tree.noNodes:d)}}});const yt=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?(.(\d{1,3}))?$/,sn=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,fn=[0,31,28,31,30,31,30,31,31,30,31,30,31],vn=[0,31,29,31,30,31,30,31,31,30,31,30,31],yn=28,hn=31,fe=12,pe=1,ze=1,qe=7,Oe=60,Ye=24,kn=6048e5;function xe(){const e=new Date,t=""+(e.getMonth()+1),n=""+e.getDate();return[e.getFullYear(),V(t,2),V(n,2)].join("-")}function Re(e,t,n){let a=K(e);if(a.day===1||a.weekday===0)for(;!t.includes(a.weekday);)a=ie(a);return a=gt(a,t[0],nt),a=ne(a),n&&(a=Se(a,n,a.hasTime)),a}function Me(e,t,n){let a=K(e);if(ue(a.year,a.month)===a.day||a.weekday===6)for(;!t.includes(a.weekday);)a=nt(a);return a=gt(a,t[t.length-1],ie),a=ne(a),n&&(a=Se(a,n,a.hasTime)),a}function $e(e){const t=K(e);return t.day=ze,ne(t),t}function Ie(e){const t=K(e);return t.day=ue(t.year,t.month),ne(t),t}function na(e){switch(Object.prototype.toString.call(e)){case"[object Number]":return e;case"[object String]":{const n=sn.exec(e);return n?parseInt(n[1],10)*60+parseInt(n[3]||0,10):!1}case"[object Object]":return typeof e.hour!="number"||typeof e.minute!="number"?!1:e.hour*60+e.minute}return!1}function et(e){return!!yt.exec(e)}function de(e){const t=yt.exec(e);return t?{date:e,time:V(parseInt(t[6],10)||0,2)+":"+V(parseInt(t[8],10)||0,2),year:parseInt(t[1],10),month:parseInt(t[2],10),day:parseInt(t[4],10)||1,hour:isNaN(parseInt(t[6],10))?0:parseInt(t[6],10),minute:isNaN(parseInt(t[8],10))?0:parseInt(t[8],10),weekday:0,doy:0,workweek:0,hasDay:!!t[4],hasTime:!0,past:!1,current:!1,future:!1,disabled:!1}:null}function J(e,t){let n=de(e);return n===null?null:(n=ne(n),t&&Se(n,t,n.hasTime),n)}function _n(e,t=!1){const n=t?"UTC":"";return ne({date:V(e[`get${n}FullYear`](),4)+"-"+V(e[`get${n}Month`]()+1,2)+"-"+V(e[`get${n}Date`](),2),time:V(e[`get${n}Hours`]()||0,2)+":"+V(e[`get${n}Minutes`]()||0,2),year:e[`get${n}FullYear`](),month:e[`get${n}Month`]()+1,day:e[`get${n}Date`](),hour:e[`get${n}Hours`](),minute:e[`get${n}Minutes`](),weekday:0,doy:0,workweek:0,hasDay:!0,hasTime:!0,past:!1,current:!1,future:!1,disabled:!1})}function R(e){return e.year*1e8+e.month*1e6+e.day*1e4}function Ce(e){return e.hour*100+e.minute}function aa(e){return R(e)+Ce(e)}function ra(e,t,n){const a=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute),o=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute);return n===!0&&o<a?0:o-a}function Se(e,t,n=!1){let a=R(t),o=R(e),c=a===o;return e.hasTime&&n&&c&&(a=Ce(t),o=Ce(e),c=a===o),e.past=o<a,e.current=c,e.future=o>a,e.currentWeekday=e.weekday===t.weekday,e}function gn(e,t,n){return e.hasTime=!0,e.hour=Math.floor(t/Oe),e.minute=t%Oe,e.time=tt(e),n&&Se(e,n,!0),e}function it(e){return e.weekday=kt(e),e}function bn(e){return e.doy=ht(e),e}function wn(e,t,n,a,o){const c=R(e);if(t!==void 0){const l=R(de(t));c<=l&&(e.disabled=!0)}if(e.disabled!==!0&&n!==void 0){const l=R(de(n));c>=l&&(e.disabled=!0)}if(e.disabled!==!0&&Array.isArray(a)&&a.length>0){for(const l in a)if(a[l]===e.weekday){e.disabled=!0;break}}if(e.disabled!==!0&&Array.isArray(o)&&o.length>0){for(const l in o)if(Array.isArray(o[l])&&o[l].length===2){const y=de(o[l][0]),s=de(o[l][1]);if(Sn(e,y,s)){e.disabled=!0;break}}else if(R(J(o[l]+" 00:00"))===c){e.disabled=!0;break}}return e}function ne(e){return e.hasTime=!0,e.time=tt(e),e.date=_t(e),e.weekday=kt(e),e.doy=ht(e),e.workweek=Dn(e),e}function ht(e){if(e.year!==0)return(Date.UTC(e.year,e.month-1,e.day)-Date.UTC(e.year,0,0))/24/60/60/1e3}function Dn(e){e.year===0&&(e=J(xe()));const t=Fn(e);if(isNaN(t))return 0;const n=new Date(t.getFullYear(),t.getMonth(),t.getDate());n.setDate(n.getDate()-(n.getDay()+6)%7+3);const a=new Date(n.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=n.getTimezoneOffset()-a.getTimezoneOffset();n.setHours(n.getHours()-o);const c=(n-a)/kn;return 1+Math.floor(c)}function kt(e){let t=e.weekday;if(e.hasDay){const n=Math.floor,a=e.day,o=(e.month+9)%fe+1,c=n(e.year/100),l=e.year%100-(e.month<=2?1:0);t=((a+n(2.6*o-.2)-2*c+l+n(l/4)+n(c/4))%7+7)%7}return t}function Tn(e){return(e%4===0^e%100===0^e%400===0)===1}function ue(e,t){return Tn(e)?vn[t]:fn[t]}function K(e){return{...e}}function V(e,t){let n=String(e);for(;n.length<t;)n="0"+n;return n}function _t(e){let t=`${V(e.year,4)}-${V(e.month,2)}`;return e.hasDay&&(t+=`-${V(e.day,2)}`),t}function tt(e){return e.hasTime?`${V(e.hour,2)}:${V(e.minute,2)}`:""}function mn(e){return _t(e)+" "+(e.hasTime?tt(e):"00:00")}function ie(e){return++e.day,e.weekday=(e.weekday+1)%qe,e.day>yn&&e.day>ue(e.year,e.month)&&(e.day=ze,++e.month,e.month>fe&&(e.month=pe,++e.year)),e}function nt(e){return e.day--,e.weekday=(e.weekday+6)%qe,e.day<ze&&(e.month--,e.month<pe&&(e.year--,e.month=fe),e.day=ue(e.year,e.month)),e}function ot(e,t=ie,n=1,a=[0,1,2,3,4,5,6]){return Fe(e,t,n,a)}function Fe(e,t=ie,n=1,a=[0,1,2,3,4,5,6]){for(!a.includes(e.weekday)&&e.weekday===0&&t===ie&&++n;--n>=0;)e=t(e),a.length<7&&!a.includes(e.weekday)&&++n;return e}function gt(e,t,n=ie,a=6){for(;e.weekday!==t&&--a>=0;)e=n(e);return e}function qn(e){const t=[1,1,1,1,1,1,1],n=[0,0,0,0,0,0,0];for(let a=0;a<e.length;++a)n[e[a]]=1;for(let a=0;a<qe;++a){let o=1;for(let c=1;c<qe;++c){const l=(a+c)%qe;if(n[l])break;++o}t[a]=n[a]*o}return t}function Cn(e,t,n,a,o,c,l=[],y=[],s=42,D=0){const w=R(t),b=[];let H=K(e),O=0,M=O===w;if(w<R(e))return b;for(;(!M||b.length<D)&&b.length<s&&(O=R(H),M=M||O>w&&b.length>=D,!M);){if(a[H.weekday]===0){H=Fe(H,ie);continue}const I=K(H);ne(I),Se(I,n),wn(I,o,c,l,y),b.push(I),H=Fe(H,ie)}return b}function la(e,t,n,a,o){const c=[];for(let l=0;l<a;++l){const y=(t+l)*n,s=K(e);c.push(gn(s,y,o))}return c}function Qe(e,t){const n=(a,o)=>"";return typeof Intl=="undefined"||typeof Intl.DateTimeFormat=="undefined"?n:(a,o)=>{try{return new Intl.DateTimeFormat(e||void 0,t(a,o)).format(xn(a))}catch(c){return console.error(`Intl.DateTimeFormat: ${c.message} -> ${mn(a)}`),n}}}function Fn(e,t=!0){return t?new Date(Date.UTC(e.year,e.month-1,e.day,0,0)):new Date(e.year,e.month-1,e.day,0,0)}function xn(e,t=!0){return t?new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute)):new Date(e.year,e.month-1,e.day,e.hour,e.minute)}function ct(e){return isFinite(parseInt(e,10))}function Sn(e,t,n,a){const o=R(e)+(a===!0?Ce(e):0),c=R(t)+(a===!0?Ce(t):0),l=R(n)+(a===!0?Ce(n):0);return o>=c&&o<=l}function z(e,t){const n=K(e);let a;return An(t,(o,c)=>{if(n[c]!==void 0){n[c]+=parseInt(o,10);const l=st.indexOf(c);l!==-1&&(a===void 0?a=l:a=Math.min(l,a))}}),a!==void 0&&Hn(n,st[a]),ne(n),n}const st=["minute","hour","day","month"];function An(e,t){Object.keys(e).forEach(n=>t(e[n],n))}function En(e){if(e.minute>=Oe||e.minute<0){const t=Math.floor(e.minute/Oe);e.minute-=t*Oe,e.hour+=t,bt(e)}return e}function bt(e){if(e.hour>=Ye||e.hour<0){const t=Math.floor(e.hour/Ye);e.hour-=t*Ye,e.day+=t,wt(e)}return e}function wt(e){me(e);let t=ue(e.year,e.month);if(e.day>t){++e.month,e.month>fe&&me(e);let n=e.day-t;t=ue(e.year,e.month);do n>t&&(++e.month,e.month>fe&&me(e),n-=t,t=ue(e.year,e.month));while(n>t);e.day=n}else if(e.day<=0){let n=-1*e.day;--e.month,e.month<=0&&me(e),t=ue(e.year,e.month);do n>t&&(n-=t,--e.month,e.month<=0&&me(e),t=ue(e.year,e.month));while(n>t);e.day=t-n}return e}function me(e){if(e.month>fe){const t=Math.floor(e.month/fe);e.month=e.month%fe,e.year+=t}else e.month<pe&&(e.month+=fe,--e.year);return e}function Hn(e,t){switch(t){case"minute":return En(e);case"hour":return bt(e);case"day":return wt(e);case"month":return me(e)}}function Nn(){const e=(a,o)=>"",t={long:{timeZone:"UTC",month:"long"},short:{timeZone:"UTC",month:"short"},narrow:{timeZone:"UTC",month:"narrow"}};if(typeof Intl=="undefined"||typeof Intl.DateTimeFormat=="undefined")return e;function n(a,o,c){try{const l=new Intl.DateTimeFormat(c||void 0,t[o]||t.long),y=new Date;return y.setDate(1),y.setMonth(a),l.format(y)}catch(l){return console.error(`Intl.DateTimeFormat: ${l.message} -> month: ${a}`),e}}return n}function ua(e,t){const n=Nn();return[...Array(12).keys()].map(a=>n(a,e,t))}function le(e,t="px"){if(!(e==null||e===""))return isNaN(e)?String(e):e==="auto"?e:`${Number(e)}${t}`}function On(e,t){return t===0?e:e.slice(0,t)}var Ze={name:"ResizeObserver",mounted(e,{modifiers:t,value:n}){if(!n)return;const a={};a.callback=n,a.size={width:0,height:0},a.observer=new ResizeObserver(o=>{const c=o[0].contentRect;(c.width!==a.size.width||c.height!==a.size.height)&&(a.size.width=c.width,a.size.height=c.height,a.callback(a.size))}),a.observer.observe(e),e.__onResizeObserver=a},beforeUnmount(e){if(!e.__onResizeObserver)return;const{observer:t}=e.__onResizeObserver;t.unobserve(e),delete e.__onResizeObserver}};function Mn(e,t,{scrollArea:n,pane:a}){if(!t){const w="[error: renderCalendar] no renderFunc has been supplied to useCalendar";throw console.error(w),new Error(w)}const o=Ve({width:0,height:0}),c=Y(null);function l({width:w,height:b}){o.width=w,o.height=b}const y=A(()=>e.noScroll!==!0&&n.value&&a.value&&o.height?n.value.offsetWidth-a.value.offsetWidth:0);function s(){}function D(){const w={ref:c,role:"complementary",lang:e.locale,class:{"q-calendar--dark":e.dark===!0,"q-calendar":!0,"q-calendar__bordered":e.bordered===!0}};return Je(k("div",w,[t()]),[[Ze,l]])}return{rootRef:c,scrollWidth:y,__initCalendar:s,__renderCalendar:D}}const da={modelValue:{type:String,default:xe(),validator:e=>e===""||et(e)},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,noHeader:Boolean,noScroll:Boolean,shortWeekdayLabel:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,minWeekdayLabel:{type:[Number,String],default:1},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>e.length===2},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},selectedDates:{type:Array,default:()=>[]},selectedStartEndDates:{type:Array,default:()=>[]},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let t=!0;return e.forEach(n=>{["day","date","weekday","interval","time","resource","task"].includes(n)!==!0&&(t=!1)}),t}}};function In(e,{startDate:t,endDate:n,times:a}){const o=A(()=>qn(e.weekdays)),c=A(()=>J(t.value)),l=A(()=>n.value==="0000-00-00"?M(c.value):J(n.value)),y=A(()=>{const q={timeZone:"UTC",day:"numeric"};return Qe(e.locale,(F,$)=>q)}),s=A(()=>{const q={timeZone:"UTC",weekday:"long"},F={timeZone:"UTC",weekday:"short"};return Qe(e.locale,($,Z)=>Z?F:q)}),D=A(()=>{const q={timeZone:"UTC",dateStyle:"full"};return Qe(e.locale,F=>q)});function w(q,F){return q&&q.length>0&&q.includes(F.date)}function b(q,F){const $={firstDay:!1,betweenDays:!1,lastDay:!1};if(q&&q.length===2){const Z=R(F),ae=R(de(q[0])),P=R(de(q[1]));$.firstDay=ae===Z,$.lastDay=P===Z,$.betweenDays=ae<Z&&P>Z}return $}function H(q,F=!1,$=[],Z=[],ae=!1){const P=w($,q),{firstDay:oe,lastDay:ee,betweenDays:G}=b(Z,q);return{"q-past-day":oe!==!0&&G!==!0&&ee!==!0&&P!==!0&&F!==!0&&q.past,"q-future-day":oe!==!0&&G!==!0&&ee!==!0&&P!==!0&&F!==!0&&q.future,"q-outside":F,"q-current-day":q.current,"q-selected":P,"q-range-first":oe===!0,"q-range":G===!0,"q-range-last":ee===!0,"q-range-hover":ae===!0&&(oe===!0||ee===!0||G===!0),"q-disabled-day disabled":q.disabled===!0}}function O(q){return Re(q,e.weekdays,a.today)}function M(q){return Me(q,e.weekdays,a.today)}function I(q){}return{weekdaySkips:o,parsedStart:c,parsedEnd:l,dayFormatter:y,weekdayFormatter:s,ariaDateFormatter:D,arrayHasDate:w,checkDays:b,getRelativeClasses:H,startOfWeek:O,endOfWeek:M,dayStyleDefault:I}}const Wn={now:{type:String,validator:e=>e===""||et(e),default:""}};function Bn(e){const t=Ve({now:J("0000-00-00 00:00"),today:J("0000-00-00")}),n=A(()=>e.now?J(e.now):c());ce(()=>n,s=>o());function a(){t.now.current=t.today.current=!0,t.now.past=t.today.past=!1,t.now.future=t.today.future=!1}function o(){const s=n.value||c();l(s,t.now),y(s,t.now),l(s,t.today)}function c(){return _n(new Date)}function l(s,D){s.date!==D.date&&(D.year=s.year,D.month=s.month,D.day=s.day,D.weekday=s.weekday,D.date=s.date)}function y(s,D){s.time!==D.time&&(D.hour=s.hour,D.minute=s.minute,D.time=s.time)}return{times:t,parsedNow:n,setCurrent:a,updateCurrent:o,getNow:c,updateDay:l,updateTime:y}}function Kn(e,{parsedView:t,parsedValue:n,times:a}){return{renderValues:A(()=>{const c=n.value;let l=e.maxDays,y=c,s=c;switch(t.value){case"month":y=$e(c),s=Ie(c),l=ue(y.year,y.month);break;case"week":case"week-agenda":case"week-scheduler":y=Re(c,e.weekdays,a.today),s=Me(y,e.weekdays,a.today),l=e.weekdays.length;break;case"day":case"scheduler":case"agenda":s=ot(K(s),ie,l>1?l-1:l,e.weekdays),ne(s);break;case"month-interval":case"month-scheduler":case"month-agenda":y=$e(c),s=Ie(c),ne(s),l=ue(y.year,y.month);break;case"resource":l=1,s=ot(K(s),ie,l,e.weekdays),ne(s);break}return{start:y,end:s,maxDays:l}})}}const Ln=e=>e.replace(/(-\w)/g,t=>t[1].toUpperCase());let Xe,Dt;function Tt(e,t){const n={};for(const a in e){const o=e[a],c=Ln("on-"+a);if(Xe===void 0){console.warn("$listeners has not been set up");return}if(Xe.value[c]===void 0)continue;const l="on"+o.event.charAt(0).toUpperCase()+o.event.slice(1),y=s=>{const D=s;return(o.button===void 0||D.buttons>0&&D.button===o.button)&&(o.prevent&&D.preventDefault(),o.stop&&D.stopPropagation(),Dt(a,t(D,a))),o.result};l in n?Array.isArray(n[l])?n[l].push(y):n[l]=[n[l],y]:n[l]=y}return n}function $n(e,t){return Tt(at(e),t)}function at(e){return{["click"+e]:{event:"click"},["contextmenu"+e]:{event:"contextmenu",prevent:!0,result:!1},["mousedown"+e]:{event:"mousedown"},["mousemove"+e]:{event:"mousemove"},["mouseup"+e]:{event:"mouseup"},["mouseenter"+e]:{event:"mouseenter"},["mouseleave"+e]:{event:"mouseleave"},["touchstart"+e]:{event:"touchstart"},["touchmove"+e]:{event:"touchmove"},["touchend"+e]:{event:"touchend"}}}function Le(e){return Object.keys(at(e))}function zn(e,t){return Dt=e,Xe=t,{getMouseEventHandlers:Tt,getDefaultMouseEventHandlers:$n,getMouseEventName:at,getRawMouseEvents:Le}}const Rn=["moved"];function Un(e,{parsedView:t,parsedValue:n,weekdaySkips:a,direction:o,maxDays:c,times:l,emittedValue:y,emit:s}){function D(w=1){if(w===0){y.value=xe();return}let b=K(n.value);const H=w>0,O=H?ie:nt,M=H?hn:ze;let I=H?w:-w;o.value=H?"next":"prev";const q=a.value.filter(F=>F!==0).length;for(;--I>=0;)switch(t.value){case"month":for(b.day=M,O(b),it(b);a.value[b.weekday]===0;)b=z(b,{day:H===!0?1:-1});break;case"week":case"week-agenda":case"week-scheduler":Fe(b,O,q,e.weekdays);break;case"day":case"scheduler":case"agenda":Fe(b,O,c.value,e.weekdays);break;case"month-interval":case"month-agenda":case"month-scheduler":b.day=M,O(b);break;case"resource":Fe(b,O,c.value,e.weekdays);break}it(b),ne(b),bn(b),Se(b,l.now),y.value=b.date,s("moved",b)}return{move:D}}const Pn=/^on[A-Z]/;function jn(e=Ge()){return{emitListeners:A(()=>{const t={};return e.vnode!==void 0&&e.vnode!==null&&e.vnode.props!==null&&Object.keys(e.vnode.props).forEach(n=>{Pn.test(n)===!0&&(t[n]=!0)}),t})}}function Ne(){return[k("span",{ariaHidden:"true",class:"q-calendar__focus-helper"})]}function Yn(e,t,n){const a=e.focusable===!0&&e.focusType.includes("date")===!0;return t.tabindex=a===!0?0:-1,k("button",t,[n,a===!0&&Ne()])}const Qn=["change"];function Zn(e,{days:t,lastStart:n,lastEnd:a}){function o(){if(t.value&&t.value.length>0){const c=t.value[0].date,l=t.value[t.value.length-1].date;if(n.value===null||a.value===null||c!==n.value||l!==a.value)return n.value=c,a.value=l,e("change",{start:c,end:l,days:t.value}),!0}return!1}return{checkChange:o}}function mt(){function e(n,{bubbles:a=!1,cancelable:o=!1}={}){try{return new CustomEvent(n,{bubbles:a,cancelable:o})}catch{const l=document.createEvent("Event");return l.initEvent(n,a,o),l}}function t(n,a){return[].concat(a).includes(n.keyCode)}return{createEvent:e,isKeyCode:t}}const{isKeyCode:ft}=mt(),Xn={useNavigation:Boolean};function Gn(e,{rootRef:t,focusRef:n,focusValue:a,datesRef:o,days:c,parsedView:l,parsedValue:y,emittedValue:s,weekdaySkips:D,direction:w,times:b}){let H=!1;rn(()=>{M()}),ce(()=>e.useNavigation,x=>{x===!0?O():M()}),e.useNavigation===!0&&O();function O(){H!==!0&&document&&(H=!0,document.addEventListener("keyup",$),document.addEventListener("keydown",F))}function M(){document&&(document.removeEventListener("keyup",$),document.removeEventListener("keydown",F),H=!1)}function I(x){if(x===void 0)return!1;if(document){const i=document.activeElement;if(i!==document.body&&t.value.contains(i)===!0)return!0}return!1}function q(){let x=0;const i=setInterval(()=>{o.value[n.value]?(o.value[n.value].focus(),(++x===50||document.activeElement===o.value[n.value])&&clearInterval(i)):clearInterval(i)},250)}function F(x){I(x)&&ft(x,[33,34,35,36,37,38,39,40])&&(x.stopPropagation(),x.preventDefault())}function $(x){if(I(x)&&ft(x,[33,34,35,36,37,38,39,40]))switch(x.keyCode){case 33:ee();break;case 34:G();break;case 35:Ae();break;case 36:ge();break;case 37:P();break;case 38:Z();break;case 39:oe();break;case 40:ae();break}}function Z(x){let i=K(a.value);if(l.value==="month"){if(i=z(i,{day:-7}),a.value.month!==i.month){w.value="prev",s.value=i.date;return}}else(l.value==="day"||l.value==="week"||l.value==="month-interval")&&(i=z(i,{minute:parseInt(e.intervalMinutes)}));w.value="prev",n.value=i.date}function ae(x){let i=K(a.value);if(l.value==="month"){if(i=z(i,{day:7}),a.value.month!==i.month){w.value="next",s.value=i.date;return}}else(l.value==="day"||l.value==="week"||l.value==="month-interval")&&(i=z(i,{minute:parseInt(e.intervalMinutes)}));w.value="next",n.value=i.date}function P(x){let i=K(a.value);w.value="prev";do i=z(i,{day:-1});while(D.value[i.weekday]===0);if(l.value==="month"||l.value==="month-interval"){if(a.value.month!==i.month){s.value=i.date;return}}else if(l.value==="week"){if(i.weekday>a.value.weekday){s.value=i.date;return}}else if(l.value==="day"){s.value=i.date;return}n.value=i.date}function oe(x){let i=K(a.value);w.value="next";do i=z(i,{day:1});while(D.value[i.weekday]===0);if(l.value==="month"||l.value==="month-interval"){if(a.value.month!==i.month){s.value=i.date;return}}else if(l.value==="week"){if(i.weekday<a.value.weekday){s.value=i.date;return}}else if(l.value==="day"){s.value=i.date;return}n.value=i.date}function ee(x){let i=K(a.value);if(l.value==="month"||l.value==="month-interval"){i=z(i,{month:-1});const se=i.day<=15?1:-1;for(;D.value[i.weekday]===0;)i=z(i,{day:se})}else l.value==="day"?i=z(i,{day:-1}):l.value==="week"&&(i=z(i,{day:-7}));w.value="prev",n.value=i.date}function G(x){let i=K(a.value);if(l.value==="month"||l.value==="month-interval"){i=z(i,{month:1});const se=i.day<=15?1:-1;for(;D.value[i.weekday]===0;)i=z(i,{day:se})}else l.value==="day"?i=z(i,{day:1}):l.value==="week"&&(i=z(i,{day:7}));w.value="next",n.value=i.date}function ge(x){let i=K(a.value);for(l.value==="month"||l.value==="month-interval"?i=$e(i):l.value==="week"&&(i=Re(i,e.weekdays,b.today));D.value[i.weekday]===0;)i=z(i,{day:-1});n.value=i.date}function Ae(x){let i=K(a.value);for(l.value==="month"||l.value==="month-interval"?i=Ie(i):l.value==="week"&&(i=Me(i,e.weekdays,b.today));D.value[i.weekday]===0;)i=z(i,{day:-1});n.value=i.date}return{startNavigation:O,endNavigation:M,tryFocus:q}}const Jn={modelValue:{type:String,default:xe(),validator:e=>e===""||et(e)},modelTasks:{type:Array,default:[]},modelTitle:{type:Array,default:[]},modelFooter:{type:Array,default:[]},taskKey:{type:[String,Number],default:"id"},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},view:{type:String,validator:e=>["day","week","month"].includes(e)},viewCount:{type:Number,default:1,validator:e=>ct(e)&&e>0},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,shortWeekdayLabel:Boolean,noHeader:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,cellWidth:[Number,String],minWeekdayLabel:{type:[Number,String],default:2},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>e.length===2},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},weekdayClass:Function,dayClass:Function,footerDayClass:Function,dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let t=!0;return e.forEach(n=>{["day","date","weekday","interval","resource","task"].includes(n)!==!0&&(t=!1)}),t}},taskWidth:{type:Number,default:200,validator:e=>ct(e)&&e>0}};function Vn(e,t,{weekdaySkips:n,times:a}){const o=A(()=>{if(e.view==="day")return J(e.modelValue);if(e.view==="week")return Re(J(e.modelValue),e.weekdays,a.today);if(e.view==="month")return $e(J(e.modelValue),e.weekdays,a.today);throw new Error(`QCalendarTask: unknown 'view' type (${e.view})`)}),c=A(()=>{if(e.view==="day"){if(e.viewCount===1)return o.value;let y=K(o.value);return y=z(y,{day:e.viewCount-1}),y}else if(e.view==="week"){if(e.viewCount===1)return Me(J(e.modelValue),e.weekdays,a.today);{let y=K(o.value);return y=z(y,{day:(e.viewCount-1)*qe}),Me(y,e.weekdays,a.today)}}else if(e.view==="month"){if(e.viewCount===1)return Ie(J(e.modelValue),e.weekdays,a.today);{let y=K(o.value);return y=z(y,{month:e.viewCount}),Ie(y,e.weekdays,a.today)}}else throw new Error(`QCalendarTask: unknown 'view' type (${e.view})`)});return{days:A(()=>Cn(o.value,c.value,a.today,n.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER)),parsedStartDate:o,parsedEndDate:c}}var ia=ln({name:"QCalendarTask",directives:[Ze],props:{...Wn,...Xn,...Jn},emits:["update:model-value","update:model-tasks","update:model-title","update:model-footer","task-expanded",...Qn,...Rn,...Le("-date"),...Le("-day"),...Le("-head-day")],setup(e,{slots:t,emit:n,expose:a}){const o=Y(null),c=Y(null),l=Y("next"),y=Y(e.modelValue||xe()),s=Y("0000-00-00"),D=Y(0),w=Y(e.modelValue),b=Y(null),H=Y(null),O=Y({}),M=Ve({width:0,height:0}),I=Y(!1),q=Y(null),F=Y(null);ce(()=>e.view,()=>{D.value=0});const $=A(()=>e.view==="month"?"month-interval":e.view),Z=Ge();if(Z===null)throw new Error("current instance is null");const{emitListeners:ae}=jn(Z),{times:P,setCurrent:oe,updateCurrent:ee}=Bn(e);ee(),oe();const{weekdaySkips:G,parsedStart:ge,dayFormatter:Ae,weekdayFormatter:x,ariaDateFormatter:i,dayStyleDefault:se,getRelativeClasses:be}=In(e,{startDate:y,endDate:s,times:P}),ve=A(()=>J(e.modelValue,P.now)||ge.value||P.today);H.value=ve.value,b.value=ve.value.date;const{renderValues:Ue}=Kn(e,{parsedView:$,times:P,parsedValue:ve}),{rootRef:Pe,__initCalendar:We,__renderCalendar:Be}=Mn(e,Xt,{scrollArea:o,pane:c}),{days:p,parsedStartDate:we,parsedEndDate:d}=Vn(e,n,{weekdaySkips:G,times:P}),{move:f}=Un(e,{parsedView:$,parsedValue:ve,weekdaySkips:G,direction:l,maxDays:D,times:P,emittedValue:w,emit:n}),{getDefaultMouseEventHandlers:u}=zn(n,ae),{checkChange:T}=Zn(n,{days:p,lastStart:q,lastEnd:F}),{isKeyCode:h}=mt(),{tryFocus:S}=Gn(e,{rootRef:Pe,focusRef:b,focusValue:H,datesRef:O,days:p,parsedView:$,parsedValue:ve,emittedValue:w,weekdaySkips:G,direction:l,times:P}),E=Y(!0),X=A(()=>e.cellWidth!==void 0?parseInt(e.cellWidth,10):150),B=A(()=>e.focusable===!0&&e.focusType.includes("day")&&isMiniMode.value!==!0),Ke=A(()=>e.focusable===!0&&e.focusType.includes("date")&&B.value!==!0),ye=A(()=>e.focusable===!0&&e.focusType.includes("weekday")),Ee=A(()=>parseInt(e.dayHeight,10)),De=A(()=>parseInt(e.dayMinHeight,10));ce([p],T,{deep:!0,immediate:!0}),ce(()=>e.modelValue,(r,v)=>{if(w.value!==r){if(e.animated===!0){const _=R(de(r)),g=R(de(v));l.value=_>=g?"next":"prev"}w.value=r}b.value=r}),ce(w,(r,v)=>{if(w.value!==e.modelValue){if(e.animated===!0){const _=R(de(r)),g=R(de(v));l.value=_>=g?"next":"prev"}n("update:model-value",r)}}),ce(b,r=>{r&&(H.value=J(r))}),ce(H,r=>{O.value[b.value]?O.value[b.value].focus():S()}),vt(()=>{O.value={}}),un(()=>{We()});function He(){w.value=xe()}function he(r=1){f(r)}function C(r=1){f(-r)}function L({width:r,height:v}){M.width=r,M.height=v}function Te(r){return r.date===w.value}function je(r,v,_){const g=t.day,m=e.dayStyle||se,N=e.noActiveDate!==!0&&ve.value.date===r.date,W={timestamp:r,task:v,taskIndex:_,activeDate:N},U=le(X.value),Q={width:U,minWidth:U,maxWidth:U,...m({scope:W})},re=typeof e.dayClass=="function"?e.dayClass({scope:W}):{};return k("div",{tabindex:B.value===!0?0:-1,class:{"q-calendar-task__task--day":!0,...re,...be(r),"q-active-date":N===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":B.value===!0},style:Q,onFocus:te=>{B.value},...u("-day",te=>({scope:W,event:te})),onDragenter:te=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(te,"day",W)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDragover:te=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(te,"day",W)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDragleave:te=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(te,"day",W)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDrop:te=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(te,"day",W)===!0?dragOverResource.value=dragValue:dragOverResource.value="")}},[g&&g({scope:W}),Ne()])}function qt(r,v){return p.value.map(_=>je(_,r,v))}function Ct(r,v){const _=t.days,g={timestamps:p.value,days:p.value,task:r,taskIndex:v,cellWidth:X.value};return k("div",{class:"q-calendar-task__task--days-row"},[qt(r,v),_&&_({scope:g})])}function Ft(r,v,_=0,g=!0){const m=t.task,N={start:we.value,end:d.value,task:r,taskIndex:v,expanded:g},W=le(e.taskWidth),U={width:W,minWidth:W,maxWidth:W},Q=e.focusable===!0&&e.focusType.includes("task");return k("div",{class:{"q-calendar-task__task--item":!0,"q-calendar__sticky":E.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Q===!0},style:U},[k("div",{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:10+10*_+"px"}},[k("div",{class:{"q-calendar__parent":r.children!==void 0,"q-calendar__parent--expanded":r.children!==void 0&&r.expanded===!0,"q-calendar__parent--collapsed":r.children!==void 0&&r.expanded!==!0},onClick:re=>{re.stopPropagation(),r.expanded=!r.expanded,n("task-expanded",{expanded:r.expanded,scope:N})}})]),m&&m({scope:N}),Ne()])}function xt(r,v,_=0,g=!0){const m=r.height!==void 0?le(parseInt(r.height,10)):Ee.value>0?le(Ee.value):"auto",N=De.value>0?le(De.value):void 0,W={height:m};N!==void 0&&(W.minHeight=N);const U=k("div",{key:r[e.taskKey]+"-"+v,class:{"q-calendar-task__task":_===0,"q-calendar-task__task--section":_!==0},style:W},[Ft(r,v,_,g),Ct(r,v)]);return r.children!==void 0?[U,k("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":g===!0,"q-calendar__child--collapsed":g!==!0}},[rt(r.children,_+1,g===!1?g:r.expanded)])]:[U]}function rt(r=void 0,v=0,_=!0){return r===void 0&&(r=e.modelTasks),r.map((g,m)=>xt(g,m,v,g.children!==void 0?g.expanded:_))}function St(){return k("div",{class:{"q-calendar-task__task--container":!0,"q-calendar__sticky":E.value===!0}},[rt()])}function At(r,v){const _=t["footer-task"],g={start:we.value,end:d.value,footer:r,index:v},m=le(e.taskWidth),N={width:m,minWidth:m,maxWidth:m};return k("div",{class:{"q-calendar-task__footer--task":!0,"q-calendar__sticky":E.value===!0},style:N},[_&&_({scope:g})])}function Et(r,v,_){const g=t["footer-day"],m={timestamp:r,footer:v,index:_},N=le(X.value),W={width:N,minWidth:N,maxWidth:N},U=typeof e.footerDayClass=="function"?e.footerDayClass({scope:m}):{};return k("div",{class:{"q-calendar-task__footer--day":!0,...U,...be(r),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":B.value===!0},style:W},[g&&g({scope:m})])}function Ht(r,v){return k("div",{class:"q-calendar-task__footer--day-wrapper"},[p.value.map(_=>Et(_,r,v))])}function Nt(){const r=e.focusable===!0&&e.focusType.includes("task");return e.modelFooter.map((v,_)=>k("div",{class:{"q-calendar-task__footer--wrapper":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":r===!0}},{default:()=>[At(v,_),Ht(v,_)]}))}function Ot(){return k("div",{class:{"q-calendar-task__footer":!0,"q-calendar__sticky":E.value===!0}},Nt())}function Mt(){return k("div",{class:{"q-calendar-task__container":!0}},[e.noHeader!==!0&&Yt(),St(),Ot()])}function It(){const r=t["head-tasks"],v={start:we.value,end:d.value},_=le(parseInt(e.taskWidth,10)),g={width:_,minWidth:_,maxWidth:_};return k("div",{class:{"q-calendar-task__head--tasks":!0,"q-calendar__sticky":E.value===!0},style:g},[r&&r({scope:v})])}function Wt(r,v){const _=t["title-task"],g=le(parseInt(e.taskWidth,10)),m={width:g,minWidth:g,maxWidth:g},N={start:we.value,end:d.value,cellWidth:g,title:r,index:v};return k("div",{class:{"q-calendar-task__title--task":!0,"q-calendar__sticky":E.value===!0},style:m},[_&&_({scope:N})])}function ke(r){const v=t["head-weekday-label"],g={activeDate:e.noActiveDate!==!0&&Te(r),timestamp:r,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},m={class:{"q-calendar-task__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return k("div",m,v&&v({scope:g})||Bt(r,e.shortWeekdayLabel))}function Bt(r,v){const _=x.value(r,v||e.weekdayBreakpoints[0]>0&&X.value<=e.weekdayBreakpoints[0]);return k("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&X.value<=e.weekdayBreakpoints[1]?On(_,e.minWeekdayLabel):_)}function _e(r){const v={class:{"q-calendar-task__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return k("div",v,Kt(r))}function Kt(r){const v=e.noActiveDate!==!0&&Te(r),_=Ae.value(r,!1),g=t["head-day-label"],m=t["head-day-button"],N={dayLabel:_,timestamp:r,activeDate:v},U={key:r.date,tabindex:Ke.value===!0?0:-1,class:{"q-calendar-task__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":r.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ke.value===!0},disabled:r.disabled,onKeydown:Q=>{r.disabled!==!0&&h(Q,[13,32])&&(Q.stopPropagation(),Q.preventDefault())},onKeyup:Q=>{r.disabled!==!0&&h(Q,[13,32])&&(w.value=r.date,ae.value.onClickDate!==void 0&&n("click-date",{scope:N}))},...u("-date",(Q,re)=>((re==="click-date"||re==="contextmenu-date")&&(w.value=r.date,re==="click-date"&&Q.preventDefault()),{scope:N,event:Q}))};return e.noAria!==!0&&(U.ariaLabel=i.value(r)),m?m({scope:N}):Yn(e,U,g?g({scope:N}):_)}function Lt(r){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&ke(r),e.noDefaultHeaderBtn!==!0&&_e(r)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ke(r),e.noDefaultHeaderBtn!==!0&&_e(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ke(r),e.noDefaultHeaderBtn!==!0&&_e(r)]):k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ke(r),e.noDefaultHeaderBtn!==!0&&_e(r)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&_e(r),e.noDefaultHeaderText!==!0&&ke(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&_e(r),e.noDefaultHeaderText!==!0&&ke(r)]):k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&_e(r),e.noDefaultHeaderText!==!0&&ke(r)])}function $t(r,v,_){const g=t["title-day"],m=le(X.value),N={width:m,minWidth:m,maxWidth:m},W={timestamp:r,title:v,index:_,cellWidth:X.value},U=typeof e.dayClass=="function"?e.dayClass({scope:W}):{},Q=e.focusable===!0&&e.focusType.includes("day");return k("div",{class:{"q-calendar-task__title--day":!0,...U,...be(r),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Q===!0},style:N},[g&&g({scope:W}),Ne()])}function zt(r){const v=t["head-day"],_=t["head-date"],g=e.noActiveDate!==!0&&Te(r),m={timestamp:r,activeDate:g,droppable:I.value=r.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},N=e.weekdayStyle||se,W=typeof e.weekdayClass=="function"?e.weekdayClass({scope:m}):{},U=le(X.value),Q={width:U,minWidth:U,maxWidth:U,...N({scope:m})},re=r.date,te={key:re,ref:j=>{O.value[re]=j},tabindex:ye.value===!0?0:-1,class:{"q-calendar-task__head--day":!0,...W,...be(r),"q-active-date":g,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ye.value===!0},style:Q,onFocus:j=>{ye.value===!0&&(b.value=re)},onKeydown:j=>{r.disabled!==!0&&h(j,[13,32])&&(j.stopPropagation(),j.preventDefault())},onKeyup:j=>{r.disabled!==!0&&h(j,[13,32])&&(w.value=r.date)},...u("-head-day",j=>({scope:m,event:j})),onDragenter:j=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(j,"head-day",m)===!0?I.value=r.date:I.value="")},onDragover:j=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(j,"head-day",m)===!0?I.value=r.date:I.value="")},onDragleave:j=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(j,"head-day",m)===!0?I.value=r.date:I.value="")},onDrop:j=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(j,"head-day",m)===!0?I.value=r.date:I.value="")}};return k("div",te,[v!==void 0&&v({scope:m}),v===void 0&&Lt(r),v===void 0&&_&&_({scope:m}),Ne()])}function Rt(){return p.value.map(r=>zt(r))}function Ut(r,v){return p.value.map(_=>$t(_,r,v))}function Pt(){return k("div",{class:{"q-calendar-task__head--days":!0}},[...Rt()])}function jt(r,v){return k("div",{class:{"q-calendar-task__title--days":!0}},[...Ut(r,v)])}function Yt(){return k("div",{roll:"presentation",class:{"q-calendar-task__head":!0,"q-calendar__sticky":E.value===!0},style:{}},[k("div",{style:{position:"relative",display:"flex"}},[It(),Pt()]),e.modelTitle.map((r,v)=>k("div",{class:"q-calendar-task__title",style:{position:"relative",display:"flex"}},[Wt(r,v),jt(r,v)]))])}function Qt(){return k("div",{class:"q-calendar-task__body"},[Zt()])}function Zt(){return k("div",{ref:o,class:{"q-calendar-task__scroll-area":!0,"q-calendar__scroll":!0}},[Mt()])}function Xt(){const{start:r,end:v}=Ue.value;y.value=r.date,s.value=v.date;const _=M.width>0,g=Je(k("div",{key:y.value,class:"q-calendar-task"},[_===!0&&Qt()]),[[Ze,L]]);if(e.animated===!0){const m="q-calendar--"+(l.value==="prev"?e.transitionPrev:e.transitionNext);return k(dn,{name:m,appear:!0},()=>g)}return g}return a({prev:C,next:he,move:f,moveToToday:He,updateCurrent:ee}),()=>Be()}});export{Kn as A,Mn as B,Gn as C,R as D,Un as E,Zn as F,Ne as G,On as H,Yn as I,le as J,zn as K,mt as L,$e as M,Ie as N,Jn as O,ia as P,ta as Q,Ze as R,ua as S,_n as T,Ce as U,z as a,de as b,J as c,ra as d,Cn as e,la as f,Re as g,Me as h,Sn as i,Qe as j,mn as k,aa as l,K as m,da as n,Wn as o,na as p,Xn as q,Qn as r,Rn as s,xe as t,Se as u,ct as v,Le as w,jn as x,Bn as y,In as z};
