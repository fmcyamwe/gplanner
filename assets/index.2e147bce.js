import{c as E,d as _t,r as h,a as Ct,w as ie,g as qt,o as Ft,e as Ht,f as St,h as l,T as Wt,n as Nt}from"./index.f3695b84.js";import{v as Xe,g as ca,c as ht,b as xe,d as jt,a as Jt,u as pt,p as ra,e as ta,f as ba,h as sa,i as oa,j as aa,R as vt,k as gt,l as wt,m as bt,n as Lt,o as xt,q as Fe,t as it,r as Et,s as Tt,w as At,x as Pt,y as Ot,z as Rt,A as It,B as pe,C as Xt,D as Yt,E as ve,F as ct,G as Mt,H as Bt,I as Se,J as Vt,K as ka,L as Da,M as Ca,Q as qa}from"./QCalendarTask.5a2d55d1.js";function ua(e,a){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a);return}e.scrollTop=a}function Fa(e,a){if(e===window){window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=a}function Ha(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Sa(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function fa(e,a,i=0){const W=arguments[3]===void 0?performance.now():arguments[3],y=Ha(e);if(i<=0){y!==a&&ua(e,a);return}requestAnimationFrame(w=>{const O=w-W,f=y+(a-y)/Math.max(O,i)*O;ua(e,f),f!==a&&fa(e,a,i-O,w)})}function va(e,a,i=0){const W=arguments[3]===void 0?performance.now():arguments[3],y=Sa(e);if(i<=0){y!==a&&Fa(e,a);return}requestAnimationFrame(w=>{const O=w-W,f=y+(a-y)/Math.max(O,i)*O;setHorizontalScroll(e,f),f!==a&&va(e,a,i-O,w)})}const na={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:Xe},intervalMinutes:{type:[Number,String],default:60,validator:Xe},intervalStart:{type:[Number,String],default:0,validator:Xe},intervalCount:{type:[Number,String],default:24,validator:Xe},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},ha={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Xe},resourceMinHeight:{type:[Number,String],default:70,validator:Xe},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},Wa={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:Xe},dayMinHeight:{type:[Number,String],default:40,validator:Xe}},ya={modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Xe},resourceMinHeight:{type:[Number,String],default:70,validator:Xe},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:Xe},noSticky:Boolean};function Qt(e,{weekdaySkips:a,times:i,scrollArea:W,parsedStart:y,parsedEnd:w,maxDays:O,size:f,headerColumnRef:B}){const x=E(()=>parseInt(e.intervalStart,10)),$=E(()=>parseInt(e.intervalMinutes,10)),Z=E(()=>parseInt(e.intervalCount,10)),z=E(()=>parseFloat(e.intervalHeight)),ne=E(()=>{let s=0;return e.cellWidth?s=e.cellWidth:f.width>0&&B.value&&(s=B.value.offsetWidth/(e.columnCount>1?e.columnCount:O.value)),s}),ge=E(()=>x.value*$.value),re=E(()=>Z.value*z.value),S=E(()=>Z.value*ne.value),K=E(()=>Be(y.value)),C=E(()=>We(w.value)),D=E(()=>ta(y.value,w.value,i.today,a.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,O.value)),V=E(()=>D.value.map(s=>ba(s,x.value,$.value,Z.value,i.now)));function Be(s){return sa(s,e.weekdays,i.today)}function We(s){return oa(s,e.weekdays,i.today)}function j(s,U){return s&&s.length>0&&s.includes(ca(U))}function M(s,U){const A={firstDay:!1,betweenDays:!1,lastDay:!1};if(s&&s.length===2){const J=ht(U),le=ht(xe(s[0])),oe=ht(xe(s[1]));A.firstDay=le===J,A.lastDay=oe===J,A.betweenDays=le<J&&oe>J}return A}function F(s,U=[],A=[]){const J=j(U,s),{firstDay:le,lastDay:oe,betweenDays:Q}=M(A,s);return{"q-selected":J,"q-range-first":le===!0,"q-range":Q===!0,"q-range-last":oe===!0,"q-disabled-interval disabled":s.disabled===!0}}function R(s,U=[],A=[]){return[]}const ce=E(()=>{const s={timeZone:"UTC",hour12:!e.hour24Format,hour:"2-digit",minute:"2-digit"},U={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric",minute:"2-digit"},A={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric"};return aa(e.locale,(J,le)=>le?J.minute===0?A:U:s)}),ke=E(()=>{const s={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return aa(e.locale,U=>s)});function Oe(s){const U=V.value[0][0];return!(U.hour===s.hour&&U.minute===s.minute)&&s.minute===0}function Ee(s){}function Ve(s){}function Ge(s,U,A=!1,J=void 0){let le=jt(U);const oe=s.currentTarget.getBoundingClientRect(),Q=s,De=s,G=Q.changedTouches||Q.touches,Me=((G&&G[0]?G[0].clientY:De.clientY)-oe.top)/z.value,He=Math.floor((A?Math.floor(Me):Me)*$.value);return He!==0&&(le=Jt(le,{minute:He})),J&&pt(le,J,!0),le}function Ye(s,U,A=!1,J=void 0){let le=jt(U);const oe=s.currentTarget.getBoundingClientRect(),Q=s,De=s,G=Q.changedTouches||Q.touches,Me=((G&&G[0]?G[0].clientY:De.clientY)-oe.top)/z.value,He=Math.floor((A?Math.floor(Me):Me)*$.value);return He!==0&&(le=Jt(le,{minute:He})),J&&pt(le,J,!0),le}function Ke(s,U,A=!1,J=void 0){let le=jt(U);const oe=s.currentTarget.getBoundingClientRect(),Q=s,De=s,G=Q.changedTouches||Q.touches,Me=((G&&G[0]?G[0].clientX:De.clientX)-oe.left)/ne.value,He=Math.floor((A?Math.floor(Me):Me)*$.value);return He!==0&&(le=Jt(le,{minute:He})),J&&pt(le,J,!0),le}function Ie(s,U){const A={timestamp:s};return A.timeStartPos=X,A.timeDurationHeight=be,U!==void 0&&(A.columnIndex=U),A}function ue(s,U){const A={timestamp:jt(s)};return A.timeStartPosX=ee,A.timeDurationWidth=se,U!==void 0&&(A.index=U),A}function ae(s,U=0){const A=X(s);return A===!1||!W.value?!1:(fa(W.value,A,U),!0)}function we(s,U=0){const A=ee(s);return A===!1||!W.value?!1:(va(W.value,A,U),!0)}function be(s){return s/$.value*z.value}function se(s){return s/$.value*ne.value}function Ce(s){return parseInt(s,10)*$.value/z.value}function he(s){return parseInt(s,10)*$.value/ne.value}function X(s,U=!0){const A=ra(s);if(A===!1)return!1;const J=ge.value,le=Z.value*$.value;let Q=(A-J)/le*re.value;return U&&(Q<0&&(Q=0),Q>re.value&&(Q=re.value)),Q}function ee(s,U=!0){const A=ra(s);if(A===!1)return!1;const J=ge.value,le=Z.value*$.value;let Q=(A-J)/le*S.value;return U&&(Q<0&&(Q=0),Q>S.value&&(Q=S.value)),Q}return{parsedIntervalStart:x,parsedIntervalMinutes:$,parsedIntervalCount:Z,parsedIntervalHeight:z,parsedCellWidth:ne,parsedStartMinute:ge,bodyHeight:re,bodyWidth:S,parsedWeekStart:K,parsedWeekEnd:C,days:D,intervals:V,intervalFormatter:ce,ariaDateTimeFormatter:ke,arrayHasDateTime:j,checkIntervals:M,getIntervalClasses:F,getResourceClasses:R,showIntervalLabelDefault:Oe,showResourceLabelDefault:Ee,styleDefault:Ve,getTimestampAtEventInterval:Ge,getTimestampAtEvent:Ye,getTimestampAtEventX:Ke,getScopeForSlot:Ie,getScopeForSlotX:ue,scrollToTime:ae,scrollToTimeX:we,timeDurationHeight:be,timeDurationWidth:se,heightToMinutes:Ce,widthToMinutes:he,timeStartPos:X,timeStartPosX:ee}}const Gt={columnCount:{type:[Number,String],default:0,validator:Xe},columnIndexStart:{type:[Number,String],default:0,validator:Xe}},Kt={maxDays:{type:Number,default:1}},Ut={cellWidth:[Number,String]};function Zt(e){return{isSticky:E(()=>e.cellWidth!==void 0)}}var La=_t({name:"QCalendarAgenda",directives:[vt],props:{...gt,...Wa,...Gt,...Kt,...wt,...Ut,...bt},emits:["update:model-value",...Lt,...xt,...Fe("-date"),...Fe("-head-day"),...Fe("-time")],setup(e,{slots:a,emit:i,expose:W}){const y=h(null),w=h(null),O=h(null),f=h(null),B=h(null),x=h({}),$=h({}),Z=h({}),z=h("next"),ne=h(it()),ge=h("0000-00-00"),re=h(0),S=h(e.modelValue),K=Ct({width:0,height:0}),C=h(!1),D=h(null),V=h(null);ie(()=>e.view,()=>{re.value=0});const Be=E(()=>e.view==="month"?"month-interval":e.view),We=qt();if(We===null)throw new Error("current instance is null");const{emitListeners:j}=Et(We),{isSticky:M}=Zt(e);ie(M,r=>{});const{times:F,setCurrent:R,updateCurrent:ce}=Tt(e);ce(),R();const{weekdaySkips:ke,parsedStart:Oe,parsedEnd:Ee,dayFormatter:Ve,weekdayFormatter:Ge,ariaDateFormatter:Ye,dayStyleDefault:Ke,getRelativeClasses:Ie}=At(e,{startDate:ne,endDate:ge,times:F}),ue=E(()=>ct(e.modelValue,F.now)||Oe.value||F.today);B.value=ue.value,f.value=ue.value.date;const{renderValues:ae}=Pt(e,{parsedView:Be,parsedValue:ue,times:F}),{rootRef:we,scrollWidth:be,__initCalendar:se,__renderCalendar:Ce}=Ot(e,Re,{scrollArea:y,pane:w}),{days:he,parsedCellWidth:X,getScopeForSlot:ee}=Qt(e,{weekdaySkips:ke,times:F,scrollArea:y,parsedStart:Oe,parsedEnd:Ee,maxDays:re,size:K,headerColumnRef:O}),{move:s}=It(e,{parsedView:Be,parsedValue:ue,weekdaySkips:ke,direction:z,maxDays:re,times:F,emittedValue:S,emit:i}),{getDefaultMouseEventHandlers:U}=Mt(i,j),{checkChange:A}=Vt(i,{days:he,lastStart:D,lastEnd:V}),{isKeyCode:J}=Bt(),{tryFocus:le}=Rt(e,{rootRef:we,focusRef:f,focusValue:B,datesRef:x,days:he,parsedView:Be,parsedValue:ue,emittedValue:S,weekdaySkips:ke,direction:z,times:F}),oe=E(()=>he.value.length+(Q.value===!0?e.leftColumnOptions.length:0)+(De.value===!0?e.rightColumnOptions.length:0)+he.value.length===1&&parseInt(e.columnCount,10)>0?parseInt(e.columnCount,10):0),Q=E(()=>e.leftColumnOptions!==void 0&&Array.isArray(e.leftColumnOptions)),De=E(()=>e.rightColumnOptions!==void 0&&Array.isArray(e.rightColumnOptions)),G=E(()=>{if(we.value){const r=K.width||we.value.getBoundingClientRect().width;if(r&&oe.value)return(r-be.value)/oe.value+"px"}return 100/oe.value+"%"});ie([he],A,{deep:!0,immediate:!0}),ie(()=>e.modelValue,(r,o)=>{if(S.value!==r){if(e.animated===!0){const n=Se(xe(r)),c=Se(xe(o));z.value=n>=c?"next":"prev"}S.value=r}f.value=r}),ie(S,(r,o)=>{if(S.value!==e.modelValue){if(e.animated===!0){const n=Se(xe(r)),c=Se(xe(o));z.value=n>=c?"next":"prev"}i("update:model-value",r)}}),ie(f,r=>{r&&(B.value=ct(r))}),ie(B,r=>{x.value[f.value]?x.value[f.value].focus():le()}),ie(()=>e.maxDays,r=>{re.value=r}),Ft(()=>{x.value={}}),Ht(()=>{se()});function je(){S.value=it()}function Me(r=1){s(r)}function He(r=1){s(-r)}function Je({width:r,height:o}){K.width=r,K.height=o}function Ue(r){return r.date===S.value}function Le(r,o){const n=a["head-column"],c={column:r,index:o,days:he.value},m=M.value===!0?e.cellWidth:G.value,d=e.focusable===!0&&e.focusType.includes("weekday"),g=e.columnOptionsId!==void 0?r[e.columnOptionsId]:void 0,I={maxWidth:m,width:m};return l("div",{key:g,tabindex:d===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":d===!0},style:I,onDragenter:t=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(t,"head-column",c)===!0?C.value=g:C.value="")},onDragover:t=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(t,"head-column",c)===!0?C.value=g:C.value="")},onDragleave:t=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(t,"head-column",c)===!0?C.value=g:C.value="")},onDrop:t=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(t,"head-column",c)===!0?C.value=g:C.value="")},...U("-head-column",(t,v)=>({scope:{column:r,index:o},event:t}))},[e.noDefaultHeaderText!==!0&&st(r),n&&n(c),pe()])}function st(r){const o=a["head-column-label"],n={column:r},c=e.columnOptionsLabel!==void 0?r[e.columnOptionsLabel]:r.label,m=l("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[o&&o({scope:n}),!o&&l("span",{class:"ellipsis"},c)]);return e.dateHeader==="stacked"?m:l("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[m])}function ze(){return l("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":M.value===!0},style:{marginRight:be.value+"px"}},[ut()])}function ut(){return l("div",{ref:O,class:{"q-calendar-agenda__head--days__column":!0}},[at(),et()])}function at(){return l("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...nt()])}function et(){const r=a["head-days-events"];return Nt(()=>{if(Z.value&&e.columnCount===0&&window)try{const o=window.getComputedStyle(Z.value);$.value.parentElement.style.height=o.height,$.value.style.height=o.height}catch{}}),l("div",{class:{"q-calendar-agenda__head--days__event":!0}},[r&&l("div",{ref:$,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[r({scope:{days:he.value,ref:Z}})]),...lt()])}function nt(){return he.value.length===1&&parseInt(e.columnCount,10)>0?[Q.value===!0&&e.leftColumnOptions.map((r,o)=>Le(r,o)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((r,o)=>o+parseInt(e.columnIndexStart,10)).map(r=>dt(he.value[0],r)),De.value===!0&&e.rightColumnOptions.map((r,o)=>Le(r,o))]:[Q.value===!0&&e.leftColumnOptions.map((r,o)=>Le(r,o)),he.value.map(r=>dt(r)),De.value===!0&&e.rightColumnOptions.map((r,o)=>Le(r,o))]}function lt(){return he.value.length===1&&parseInt(e.columnCount,10)>0?[Array.apply(null,new Array(parseInt(e.columnCount,10))).map((r,o)=>o+parseInt(e.columnIndexStart,10)).map(r=>tt(he.value[0],r))]:he.value.map(r=>tt(r))}function dt(r,o){const n=a["head-day"],c=a["head-date"],m=e.noActiveDate!==!0&&Ue(r),d=ee(r,o);d.activeDate=m,d.droppable=C.value===r.date,d.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1;const g=M.value===!0?e.cellWidth:G.value,I=e.weekdayStyle||Ke,t={width:g,maxWidth:g,...I({scope:d})};M.value===!0&&(t.minWidth=g);const v=typeof e.weekdayClass=="function"?e.weekdayClass({scope:d}):{},b=e.focusable===!0&&e.focusType.includes("weekday"),q={key:r.date+(o!==void 0?"-"+o:""),ref:T=>{x.value[r.date]=T},tabindex:b===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,...v,...Ie(r),"q-active-date":m,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":b===!0},style:t,onDragenter:T=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(T,"head-day",d)===!0?C.value=r.date:C.value="")},onDragover:T=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(T,"head-day",d)===!0?C.value=r.date:C.value="")},onDragleave:T=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(T,"head-day",d)===!0?C.value=r.date:C.value="")},onDrop:T=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(T,"head-day",d)===!0?C.value=r.date:C.value="")},onFocus:T=>{b===!0&&(f.value=r.date)},...U("-head-day",T=>({scope:d,event:T}))};return l("div",q,[n!==void 0&&n({scope:d}),n===void 0&&ot(r),n===void 0&&c&&c({scope:d}),pe()])}function ot(r){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ne(r),e.noDefaultHeaderBtn!==!0&&Te(r)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ne(r),e.noDefaultHeaderBtn!==!0&&Te(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ne(r),e.noDefaultHeaderBtn!==!0&&Te(r)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ne(r),e.noDefaultHeaderBtn!==!0&&Te(r)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Te(r),e.noDefaultHeaderText!==!0&&Ne(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Te(r),e.noDefaultHeaderText!==!0&&Ne(r)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Te(r),e.noDefaultHeaderText!==!0&&Ne(r)])}function tt(r,o){const n=a["head-day-event"],c=e.noActiveDate!==!0&&Ue(r),m=ee(r,o);m.activeDate=c,m.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1;const d=M.value===!0?e.cellWidth:G.value,g={width:d,maxWidth:d};return M.value===!0&&(g.minWidth=d),l("div",{key:"event-"+r.date+(o!==void 0?"-"+o:""),class:{"q-calendar-agenda__head--day__event":!0,...Ie(r),"q-active-date":c},style:g},[n&&n({scope:m})])}function Ne(r){const o=a["head-weekday-label"],n=ee(r);n.shortWeekdayLabel=e.shortWeekdayLabel;const c={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return l("div",c,o&&o({scope:n})||rt(r,e.shortWeekdayLabel))}function rt(r,o){const n=Ge.value(r,o||e.weekdayBreakpoints[0]>0&&X.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&X.value<=e.weekdayBreakpoints[1]?Xt(n,e.minWeekdayLabel):n)}function Te(r){const o={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return l("div",o,ft(r))}function ft(r){const o=e.noActiveDate!==!0&&Ue(r),n=Ve.value(r,!1),c=a["head-day-label"],m=a["head-day-button"],d={dayLabel:n,timestamp:r,activeDate:o,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},g={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":r.current===!0,"q-calendar__focusable":!0},disabled:r.disabled,onKeydown:I=>{r.disabled!==!0&&J(I,[13,32])&&(I.stopPropagation(),I.preventDefault())},onKeyup:I=>{r.disabled!==!0&&J(I,[13,32])&&(S.value=r.date,j.value.onClickDate!==void 0&&i("click-date",{scope:d}))},...U("-date",(I,t)=>((t==="click-date"||t==="contextmenu-date")&&(S.value=r.date,t==="click-date"&&I.preventDefault()),{scope:d,event:I}))};return e.noAria!==!0&&(g.ariaLabel=Ye.value(r)),m?m({scope:d}):Yt(e,g,c?c({scope:d}):n)}function Qe(){return l("div",{class:"q-calendar-agenda__body"},[_()])}function _(){return M.value===!0?l("div",{ref:y,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[te()]):e.noScroll===!0?p():l("div",{ref:y,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[p()])}function p(){return l("div",{ref:w,class:"q-calendar-agenda__pane"},[te()])}function te(){const r=a["day-container"];return l("div",{class:"q-calendar-agenda__day-container"},[M.value===!0&&e.noHeader!==!0&&ze(),l("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...de()]),r&&r({scope:{days:he.value}})])}function de(){return he.value.length===1&&parseInt(e.columnCount,10)>0?[Q.value===!0&&e.leftColumnOptions.map((r,o)=>me(r,o)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((r,o)=>o+parseInt(e.columnIndexStart,10)).map(r=>ye(he.value[0],0,r)),De.value===!0&&e.rightColumnOptions.map((r,o)=>me(r,o))]:[Q.value===!0&&e.leftColumnOptions.map((r,o)=>me(r,o)),he.value.map((r,o)=>ye(r)),De.value===!0&&e.rightColumnOptions.map((r,o)=>me(r,o))]}function me(r,o){const n=a.column,c={column:r,days:he.value,index:o},m=M.value===!0?e.cellWidth:G.value,d=e.focusable===!0&&e.focusType.includes("day"),g=e.columnOptionsId!==void 0?r[e.columnOptionsId]:void 0;return l("div",{key:g,tabindex:d===!0?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":d===!0},style:{maxWidth:m,width:m},onDragenter:I=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(I,"column",c)===!0?C.value=g:C.value="")},onDragover:I=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(I,"column",c)===!0?C.value=g:C.value="")},onDragleave:I=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(I,"column",c)===!0?C.value=g:C.value="")},onDrop:I=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(I,"column",c)===!0?C.value=g:C.value="")},...U("-column",(I,t)=>({scope:c,event:I}))},[n&&n({scope:c})])}function ye(r,o,n){const c=a.day,m=ee(r,n),d=M.value===!0?e.cellWidth:G.value,g={width:d,maxWidth:d};return M.value===!0&&(g.minWidth=d),g.height=parseInt(e.dayHeight,10)>0?ve(parseInt(e.dayHeight,10)):"auto",parseInt(e.dayMinHeight,10)>0&&(g.minHeight=ve(parseInt(e.dayMinHeight,10))),l("div",{key:r.date+(n!==void 0?":"+n:""),class:{"q-calendar-agenda__day":!0,...Ie(r)},style:g},[c&&c({scope:m})])}function Re(){const{start:r,end:o,maxDays:n}=ae.value;(ne.value!==r.date||ge.value!==o.date||re.value!==n)&&(ne.value=r.date,ge.value=o.date,re.value=n);const c=K.width>0,m=St(l("div",{class:"q-calendar-agenda",key:ne.value},[c===!0&&M.value!==!0&&e.noHeader!==!0&&ze(),c===!0&&Qe()]),[[vt,Je]]);if(e.animated===!0){const d="q-calendar--"+(z.value==="prev"?e.transitionPrev:e.transitionNext);return l(Wt,{name:d,appear:!0},()=>m)}return m}return W({prev:He,next:Me,move:s,moveToToday:je,updateCurrent:ce}),()=>Ce()}}),la=_t({name:"QCalendarDay",directives:[vt],props:{...gt,...na,...Gt,...Kt,...wt,...Ut,...bt},emits:["update:model-value",...Lt,...xt,...Fe("-date"),...Fe("-interval"),...Fe("-head-intervals"),...Fe("-head-day"),...Fe("-time")],setup(e,{slots:a,emit:i,expose:W}){const y=h(null),w=h(null),O=h(null),f=h(null),B=h(null),x=h({}),$=h({}),Z=h({}),z=h("next"),ne=h(e.modelValue||it()),ge=h("0000-00-00"),re=h(0),S=h(e.modelValue),K=Ct({width:0,height:0}),C=h(!1),D=h(!1),V=h(null),Be=h(null);ie(()=>e.view,()=>{re.value=0});const We=E(()=>e.view==="month"?"month-interval":e.view),j=qt();if(j===null)throw new Error("current instance is null");const{emitListeners:M}=Et(j),{isSticky:F}=Zt(e),{times:R,setCurrent:ce,updateCurrent:ke}=Tt(e);ke(),ce();const{weekdaySkips:Oe,parsedStart:Ee,parsedEnd:Ve,dayFormatter:Ge,weekdayFormatter:Ye,ariaDateFormatter:Ke,dayStyleDefault:Ie,getRelativeClasses:ue}=At(e,{startDate:ne,endDate:ge,times:R}),ae=E(()=>ct(e.modelValue,R.now)||Ee.value||R.today);B.value=ae.value,f.value=ae.value.date;const{renderValues:we}=Pt(e,{parsedView:We,parsedValue:ae,times:R}),{rootRef:be,scrollWidth:se,__initCalendar:Ce,__renderCalendar:he}=Ot(e,Ze,{scrollArea:y,pane:w}),{days:X,intervals:ee,intervalFormatter:s,ariaDateTimeFormatter:U,parsedCellWidth:A,getIntervalClasses:J,showIntervalLabelDefault:le,styleDefault:oe,getTimestampAtEventInterval:Q,getTimestampAtEvent:De,getScopeForSlot:G,scrollToTime:je,heightToMinutes:Me,timeDurationHeight:He,timeStartPos:Je}=Qt(e,{weekdaySkips:Oe,times:R,scrollArea:y,parsedStart:Ee,parsedEnd:Ve,maxDays:re,size:K,headerColumnRef:O}),{move:Ue}=It(e,{parsedView:We,parsedValue:ae,weekdaySkips:Oe,direction:z,maxDays:re,times:R,emittedValue:S,emit:i}),{getDefaultMouseEventHandlers:Le}=Mt(i,M),{checkChange:st}=Vt(i,{days:X,lastStart:V,lastEnd:Be}),{isKeyCode:ze}=Bt(),{tryFocus:ut}=Rt(e,{rootRef:be,focusRef:f,focusValue:B,datesRef:x,days:X,parsedView:We,parsedValue:ae,emittedValue:S,weekdaySkips:Oe,direction:z,times:R}),at=E(()=>We.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):We.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:X.value.length),et=E(()=>be.value?parseInt(getComputedStyle(be.value).getPropertyValue("--calendar-intervals-width"),10):0),nt=E(()=>{if(be.value){const u=K.width||be.value.getBoundingClientRect().width;if(u&&et.value&&at.value)return(u-se.value-et.value)/at.value+"px"}return 100/at.value+"%"});ie([X],st,{deep:!0,immediate:!0}),ie(()=>e.modelValue,(u,k)=>{if(S.value!==e.modelValue){if(e.animated===!0){const L=Se(xe(u)),P=Se(xe(k));z.value=L>=P?"next":"prev"}S.value=u}f.value=u}),ie(S,(u,k)=>{if(S.value!==e.modelValue){if(e.animated===!0){const L=Se(xe(u)),P=Se(xe(k));z.value=L>=P?"next":"prev"}i("update:model-value",u)}}),ie(f,u=>{u&&(B.value=ct(u))}),ie(B,u=>{x.value[f.value]?x.value[f.value].focus():ut()}),ie(()=>e.maxDays,u=>{re.value=u}),Ft(()=>{x.value={},$.value={},Z.value={}}),Ht(()=>{Ce()});function lt(){S.value=it()}function dt(u=1){Ue(u)}function ot(u=1){Ue(-u)}function tt({width:u,height:k}){K.width=u,K.height=k}function Ne(u){return u.date===S.value}function rt(){return l("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":F.value===!0},style:{marginRight:se.value+"px"}},[Te(),ft()])}function Te(){const u=a["head-intervals"],k={timestamps:X.value,days:X.value,date:e.modelValue};return l("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":F.value===!0},...Le("-head-intervals",L=>({scope:k,event:L}))},[u&&u({scope:k})])}function ft(){return l("div",{ref:O,class:{"q-calendar-day__head--days__column":!0}},[Qe(),_()])}function Qe(){return l("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...p()])}function _(){const u=a["head-days-events"];return Nt(()=>{if(Z.value&&parseInt(e.columnCount,10)===0&&window)try{const k=window.getComputedStyle(Z.value);$.value.parentElement.style.height=k.height,$.value.style.height=k.height}catch{}}),l("div",{class:{"q-calendar-day__head--days__event":!0}},[u&&l("div",{ref:$,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[u({scope:{days:X.value,ref:Z}})]),...te()])}function p(){return X.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,k)=>k+parseInt(e.columnIndexStart,10)).map(u=>de(X.value[0],u)):X.value.map(u=>de(u))}function te(){return X.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,k)=>k+parseInt(e.columnIndexStart,10)).map(u=>ye(X.value[0],u)):X.value.map(u=>ye(u))}function de(u,k){const L=a["head-day"],P=a["head-date"],N=e.noActiveDate!==!0&&Ne(u),Y=G(u,k);Y.activeDate=N,Y.droppable=C.value===u.date,Y.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const Ae=F.value===!0?e.cellWidth:nt.value,_e=e.weekdayStyle||Ie,yt={width:Ae,maxWidth:Ae,minWidth:Ae,..._e({scope:Y})};F.value===!0&&(yt.minWidth=Ae);const $t=typeof e.weekdayClass=="function"?e.weekdayClass({scope:Y}):{},kt=e.focusable===!0&&e.focusType.includes("weekday"),Pe=u.date+(k!==void 0?"-"+k:""),Dt={key:Pe,ref:$e=>{x.value[Pe]=$e},tabindex:kt===!0?0:-1,class:{"q-calendar-day__head--day":!0,...$t,...ue(u),"q-active-date":N,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":kt===!0},style:yt,onFocus:$e=>{kt===!0&&(f.value=Pe)},onKeydown:$e=>{u.disabled!==!0&&ze($e,[13,32])&&($e.stopPropagation(),$e.preventDefault())},onKeyup:$e=>{u.disabled!==!0&&ze($e,[13,32])&&(S.value=u.date)},...Le("-head-day",$e=>({scope:Y,event:$e})),onDragenter:$e=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc($e,"head-day",Y)===!0?C.value=u.date:C.value="")},onDragover:$e=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc($e,"head-day",Y)===!0?C.value=u.date:C.value="")},onDragleave:$e=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc($e,"head-day",Y)===!0?C.value=u.date:C.value="")},onDrop:$e=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc($e,"head-day",Y)===!0?C.value=u.date:C.value="")}};return l("div",Dt,[L!==void 0&&L({scope:Y}),L===void 0&&c(u,k),L===void 0&&me(u),L===void 0&&P&&P({scope:Y}),L===void 0&&m(u,k),pe()])}function me(u){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Re(u),e.noDefaultHeaderBtn!==!0&&o(u)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Re(u),e.noDefaultHeaderBtn!==!0&&o(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Re(u),e.noDefaultHeaderBtn!==!0&&o(u)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Re(u),e.noDefaultHeaderBtn!==!0&&o(u)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&o(u),e.noDefaultHeaderText!==!0&&Re(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&o(u),e.noDefaultHeaderText!==!0&&Re(u)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&o(u),e.noDefaultHeaderText!==!0&&Re(u)])}function ye(u,k){const L=a["head-day-event"],P=e.noActiveDate!==!0&&Ne(u),N=G(u,k);N.activeDate=P,N.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const Y=F.value===!0?ve(A.value):nt.value,Ae={width:Y,maxWidth:Y,minWidth:Y};return F.value===!0&&(Ae.minWidth=Y),l("div",{key:"event-"+u.date+(k!==void 0?"-"+k:""),class:{"q-calendar-day__head--day__event":!0,...ue(u),"q-active-date":P},style:Ae},[L&&L({scope:N})])}function Re(u){const k=a["head-weekday-label"],L=e.shortWeekdayLabel===!0,P=G(u);P.shortWeekdayLabel=e.shortWeekdayLabel,P.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const N={class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return l("div",N,k&&k({scope:P})||r(u,L))}function r(u,k){const L=Ye.value(u,k||e.weekdayBreakpoints[0]>0&&A.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&A.value<=e.weekdayBreakpoints[1]?Xt(L,e.minWeekdayLabel):L)}function o(u){const k={class:{"q-calendar-day__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return l("div",k,n(u))}function n(u){const k=e.noActiveDate!==!0&&Ne(u),L=Ge.value(u,!1),P=a["head-day-label"],N=a["head-day-button"],Y={dayLabel:L,timestamp:u,activeDate:k,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1},Ae={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":u.current===!0,"q-calendar__focusable":!0},disabled:u.disabled,onKeydown:_e=>{u.disabled!==!0&&ze(_e,[13,32])&&(_e.stopPropagation(),_e.preventDefault())},onKeyup:_e=>{u.disabled!==!0&&ze(_e,[13,32])&&(S.value=u.date,M.value.onClickDate!==void 0&&i("click-date",{scope:Y}))},...Le("-date",(_e,yt)=>((yt==="click-date"||yt==="contextmenu-date")&&(S.value=u.date,yt==="click-date"&&_e.preventDefault()),{scope:Y,event:_e}))};return e.noAria!==!0&&(Ae.ariaLabel=Ke.value(u)),N?N({scope:Y}):Yt(e,Ae,P?P({scope:Y}):L)}function c(u,k){const L=a["column-header-before"];if(L)return l("div",{class:"q-calendar-day__column-header--before"},[L({scope:{timestamp:u,columnIndex:k}})])}function m(u,k){const L=a["column-header-after"];if(L)return l("div",{class:"q-calendar-day__column-header--after"},[L({scope:{timestamp:u,columnIndex:k}})])}function d(){return l("div",{class:"q-calendar-day__body"},[g()])}function g(){return F.value===!0?l("div",{ref:y,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[F.value!==!0&&H(),t()]):e.noScroll===!0?I():l("div",{ref:y,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[I()])}function I(){return l("div",{ref:w,class:"q-calendar-day__pane"},[H(),t()])}function t(){const u=a["day-container"];return l("div",{class:"q-calendar-day__day-container"},[F.value===!0&&e.noHeader!==!0&&rt(),l("div",{style:{display:"flex",flexDirection:"row"}},[F.value===!0&&H(),...v()]),u&&u({scope:{days:X.value}})])}function v(){return X.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,k)=>k+parseInt(e.columnIndexStart,10)).map(u=>b(X.value[0],0,u)):X.value.map((u,k)=>b(u,k))}function b(u,k,L){const P=a["day-body"],N=G(u,L),Y=F.value===!0?e.cellWidth:nt.value,Ae={width:Y,maxWidth:Y,minWidth:Y};return F.value===!0&&(Ae.minWidth=Y),l("div",{key:u.date+(L!==void 0?":"+L:""),class:{"q-calendar-day__day":!0,...ue(u)},style:Ae},[...q(k,L),P&&P({scope:N})])}function q(u,k){return ee.value[u].map(L=>T(L,k))}function T(u,k){const L=ve(e.intervalHeight),P=e.intervalStyle||oe,N=a["day-interval"],Y=G(u,k);Y.droppable=D.value===ht(u);const Ae=typeof e.intervalClass=="function"?e.intervalClass({scope:Y}):{},_e=e.focusable===!0&&e.focusType.includes("interval"),$t={key:ca(u),tabindex:_e===!0?0:-1,class:{"q-calendar-day__day-interval":u.minute===0,"q-calendar-day__day-interval--section":u.minute!==0,...Ae,...J(u,e.selectedDates,e.selectedStartEndDates),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":_e===!0},style:{height:L,...P({scope:Y})},onDragenter:Pe=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Pe,"interval",Y)===!0?D.value=ht(u):D.value="")},onDragover:Pe=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Pe,"interval",Y)===!0?D.value=ht(u):D.value="")},onDragleave:Pe=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Pe,"interval",Y)===!0?D.value=ht(u):D.value="")},onDrop:Pe=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Pe,"interval",Y)===!0?D.value=ht(u):D.value="")},onKeydown:Pe=>{ze(Pe,[13,32])&&(Pe.stopPropagation(),Pe.preventDefault())},onKeyup:Pe=>{if(ze(Pe,[13,32])){const Dt=G(u,k);S.value=Dt.timestamp.date,M.value.onClickTime!==void 0&&i("click-time",{scope:Dt,event:Pe})}},...Le("-time",Pe=>({scope:G(Q(Pe,u,e.timeClicksClamped,R.now),k),event:Pe}))};e.noAria!==!0&&($t.ariaLabel=U.value(u));const kt=N?N({scope:Y}):void 0;return l("div",$t,[kt,pe()])}function H(){const u={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":F.value===!0},...Le("-interval",k=>({scope:{timestamp:De(k,Ee.value,e.timeClicksClamped,R.now)},event:k}))};return l("div",u,qe())}function qe(){return ee.value[0].map(u=>fe(u))}function fe(u){const k=a["interval-label"],L=ve(e.intervalHeight),P=e.shortIntervalLabel,Ae=(e.showIntervalLabel||le)(u)?s.value(u,P):void 0;return l("div",{key:u.time,class:{"q-calendar-day__interval":u.minute===0,"q-calendar-day__interval--section":u.minute!==0},style:{height:L}},[l("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[k?k({scope:{timestamp:u,label:Ae}}):Ae])])}function Ze(){const{start:u,end:k,maxDays:L}=we.value;(ne.value!==u.date||ge.value!==k.date||re.value!==L)&&(ne.value=u.date,ge.value=k.date,re.value=L);const P=K.width>0,N=St(l("div",{key:ne.value,class:"q-calendar-day"},[P===!0&&F.value!==!0&&e.noHeader!==!0&&rt(),P&&d()]),[[vt,tt]]);if(e.animated===!0){const Y="q-calendar--"+(z.value==="prev"?e.transitionPrev:e.transitionNext);return l(Wt,{name:Y,appear:!0},()=>N)}return N}return W({prev:ot,next:dt,move:Ue,moveToToday:lt,updateCurrent:ke,timeStartPos:Je,timeDurationHeight:He,heightToMinutes:Me,scrollToTime:je}),()=>he()}});const ma={dayHeight:{type:[Number,String],default:0,validator:Xe},dayMinHeight:{type:[Number,String],default:0,validator:Xe},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayPadding:String,minWeeks:{type:[Number,String],validator:Xe,default:1},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||Xe(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function xa(e,a,{weekdaySkips:i,times:W,parsedStart:y,parsedEnd:w,size:O,headerColumnRef:f}){const B=E(()=>parseInt(e.minWeeks,10)),x=E(()=>B.value*e.weekdays.length),$=E(()=>V(We(y.value))),Z=E(()=>Be(j(w.value))),z=E(()=>{let F=0;return e.cellWidth?F=e.cellWidth:O.width>0&&f.value&&(F=f.value.offsetWidth/e.weekdays.length),F}),ne=E(()=>ta($.value,Z.value,W.today,i.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER,x.value)),ge=E(()=>{const F=W.today,R=V(F),ce=Be(F);return ta(R,ce,F,i,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,e.weekdays.length,e.weekdays.length)}),re=E(()=>{const F={timeZone:"UTC",month:"long"},R={timeZone:"UTC",month:"short"};return aa(e.locale,(ce,ke)=>ke?R:F)}),S=E(()=>{switch(e.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(e.breakpoint,10)}}),K=E(()=>{switch(e.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return e.monthLabelSize}});let C=!0;const D=E(()=>{const F=e.miniMode===!0||e.miniMode==="auto"&&e.breakpoint!==void 0&&O.width<S.value;return C===!0&&(C=!1,a("mini-mode",F)),F});ie(D,F=>{a("mini-mode",F)});function V(F){return sa(F,e.weekdays,W.today)}function Be(F){return oa(F,e.weekdays,W.today)}function We(F){return ka(F)}function j(F){return Da(F)}function M(F){const R=Se(F);return R<Se(y.value)||R>Se(w.value)}return{parsedCellWidth:z,parsedMinWeeks:B,parsedMinDays:x,parsedMonthStart:$,parsedMonthEnd:Z,parsedBreakpoint:S,parsedMonthLabelSize:K,days:ne,todayWeek:ge,isMiniMode:D,monthFormatter:re,isOutside:M}}var Ea=_t({name:"QCalendarMonth",directives:[vt],props:{...gt,...ma,...wt,...Ut,...bt},emits:["update:model-value",...Lt,...xt,"mini-mode",...Fe("-date"),...Fe("-day"),...Fe("-head-workweek"),...Fe("-head-day"),...Fe("-workweek")],setup(e,{slots:a,emit:i,expose:W}){const y=h(null),w=h(null),O=h(null),f=h(null),B=h(null),x=h({}),$=h([]),Z=h([]),z=h("next"),ne=h(e.modelValue||it()),ge=h("0000-00-00"),re=h(0),S=h(e.modelValue),K=Ct({width:0,height:0}),C=h(!1),D=h(!1),V=h(null),Be=h(null),We=E(()=>"month"),j=qt();if(j===null)throw new Error("current instance is null");const{emitListeners:M}=Et(j),{isSticky:F}=Zt(e);ie(F,n=>{});const{times:R,setCurrent:ce,updateCurrent:ke}=Tt(e);ke(),ce();const{weekdaySkips:Oe,parsedStart:Ee,parsedEnd:Ve,dayFormatter:Ge,weekdayFormatter:Ye,ariaDateFormatter:Ke,dayStyleDefault:Ie,getRelativeClasses:ue}=At(e,{startDate:ne,endDate:ge,times:R}),ae=E(()=>ct(e.modelValue,R.now)||Ee.value||R.today);B.value=ae.value,f.value=ae.value.date;const we=E(()=>{const n={};return e.dayPadding!==void 0&&(n.padding=e.dayPadding),n.minWidth=Je.value,n.maxWidth=Je.value,n.width=Je.value,n}),{renderValues:be}=Pt(e,{parsedView:We,times:R,parsedValue:ae}),{rootRef:se,__initCalendar:Ce,__renderCalendar:he}=Ot(e,o,{scrollArea:y,pane:w}),{days:X,todayWeek:ee,isMiniMode:s,parsedCellWidth:U,parsedMonthLabelSize:A,isOutside:J,monthFormatter:le}=xa(e,i,{weekdaySkips:Oe,times:R,parsedStart:Ee,parsedEnd:Ve,size:K,headerColumnRef:O}),{move:oe}=It(e,{parsedView:We,parsedValue:ae,weekdaySkips:Oe,direction:z,maxDays:re,times:R,emittedValue:S,emit:i}),{getDefaultMouseEventHandlers:Q}=Mt(i,M),{checkChange:De}=Vt(i,{days:X,lastStart:V,lastEnd:Be}),{isKeyCode:G}=Bt(),{tryFocus:je}=Rt(e,{rootRef:se,focusRef:f,focusValue:B,datesRef:x,days:X,parsedView:We,parsedValue:ae,emittedValue:S,weekdaySkips:Oe,direction:z,times:R}),Me=E(()=>se.value&&e.showWorkWeeks===!0?parseInt(getComputedStyle(se.value).getPropertyValue(s.value===!0?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0),He=E(()=>e.weekdays.length),Je=E(()=>{if(se.value){const n=K.width||se.value.getBoundingClientRect().width;if(n&&He.value)return(n-Me.value)/He.value+"px"}return 100/He.value+"%"}),Ue=E(()=>e.focusable===!0&&e.focusType.includes("day")&&s.value!==!0),Le=E(()=>e.focusable===!0&&e.focusType.includes("date")&&Ue.value!==!0);ie([X],De,{deep:!0,immediate:!0}),ie(()=>e.modelValue,(n,c)=>{if(S.value!==n){if(e.animated===!0){const m=Se(xe(n)),d=Se(xe(c));z.value=m>=d?"next":"prev"}S.value=n}f.value=n}),ie(S,(n,c)=>{if(S.value!==e.modelValue){if(e.animated===!0){const m=Se(xe(n)),d=Se(xe(c));z.value=m>=d?"next":"prev"}i("update:model-value",n)}}),ie(f,n=>{n&&(B.value=ct(n),S.value!==n&&(S.value=n))}),ie(B,n=>{x.value[f.value]?x.value[f.value].focus():je()}),Ft(()=>{x.value={},$.value=[],Z.value=[],Nt(()=>{lt()})}),Ht(()=>{Ce(),lt()});function st(){S.value=it()}function ze(n=1){oe(n)}function ut(n=1){oe(-n)}function at({width:n,height:c}){K.width=n,K.height=c}function et(n){return n.date===S.value}function nt(n){for(let c=0;c<n.length;++c)if(n[c].current===!0)return{timestamp:n[c]};return{timestamp:!1}}function lt(){if(!(s.value===!0||e.dayHeight!==0||a.week===void 0)&&window)for(const c in $.value){const m=$.value[c];if(m===void 0)continue;const d=Z.value[c];if(d===void 0)continue;const g=window.getComputedStyle(m),I=parseFloat(g.marginTop,10)+parseFloat(g.marginBottom,10);m.clientHeight+I>d.clientHeight&&(d.style.height=m.clientHeight+I+"px")}}function dt(){return l("div",{class:"q-calendar-month__body"},[..._()])}function ot(){return l("div",{role:"presentation",class:"q-calendar-month__head"},[e.showWorkWeeks===!0&&Ne(),l("div",{class:"q-calendar-month__head--wrapper"},[tt()])])}function tt(){return l("div",{ref:O,class:{"q-calendar-month__head--weekdays":!0}},[...rt()])}function Ne(){const n=a["head-workweek"],c={start:Ee.value,end:Ve.value,miniMode:s.value};return l("div",{class:"q-calendar-month__head--workweek",...Q("-head-workweek",m=>({scope:c,event:m}))},n?n({scope:c}):"#")}function rt(){return ee.value.map((n,c)=>Te(n,c))}function Te(n,c){const m=a["head-day"],d=X.value.filter(fe=>fe.weekday===n.weekday),g=d[0].weekday,t={activeDate:e.noActiveDate!==!0&&et(n),weekday:g,timestamp:n,days:d,index:c,miniMode:s.value,droppable:C.value===n.weekday,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1},v=typeof e.weekdayClass=="function"?e.weekdayClass({scope:t}):{},b=e.focusable===!0&&e.focusType.includes("weekday"),q=Je.value,T=e.weekdayStyle||Ie,H={width:q,maxWidth:q,minWidth:q,...T({scope:t})},qe={key:n.date+(c!==void 0?"-"+c:""),tabindex:b===!0?0:-1,class:{"q-calendar-month__head--weekday":!0,...v,"q-disabled-day disabled":t.disabled===!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":b===!0},style:H,onDragenter:fe=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(fe,"head-day",t)===!0?C.value=n.weekday:C.value="")},onDragover:fe=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(fe,"head-day",t)===!0?C.value=n.weekday:C.value="")},onDragleave:fe=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(fe,"head-day",t)===!0?C.value=n.weekday:C.value="")},onDrop:fe=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(fe,"head-day",t)===!0?C.value=n.weekday:C.value="")},onFocus:fe=>{b===!0&&(f.value=n.date)},...Q("-head-day",fe=>({scope:t,event:fe}))};return e.noAria!==!0&&(qe.ariaLabel=Ye.value(n,!1)),l("div",qe,[m===void 0&&Qe(n,e.shortWeekdayLabel||s.value),m!==void 0&&m({scope:t}),ft(n,c),b===!0&&pe()])}function ft(n,c){const m=a["head-day-event"],d=e.noActiveDate!==!0&&et(n),g=X.value.filter(T=>T.weekday===n.weekday),t={weekday:g[0].weekday,timestamp:n,days:g,index:c,miniMode:s.value,activeDate:d,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1},v=Je.value,b=e.weekdayStyle||Ie,q={width:v,maxWidth:v,minWidth:v,...b({scope:t})};return l("div",{key:"event-"+n.date+(c!==void 0?"-"+c:""),class:{"q-calendar-month__head--event":!0},style:q},[m!==void 0&&m({scope:t})])}function Qe(n,c){const m=Ye.value(n,c||e.weekdayBreakpoints[0]>0&&U.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar__ellipsis"},s.value===!0&&e.shortWeekdayLabel===!0||e.weekdayBreakpoints[1]>0&&U.value<=e.weekdayBreakpoints[1]?Xt(m,e.minWeekdayLabel):m)}function _(){const n=e.weekdays.length,c=[];for(let m=0;m<X.value.length;m+=n)c.push(p(X.value.slice(m,m+n),m/n));return c}function p(n,c){const m=a.week,d=e.weekdays,g={week:n,weekdays:d,miniMode:s.value},I={};I.height=e.dayHeight>0&&s.value!==!0?ve(parseInt(e.dayHeight,10)):"auto",e.dayMinHeight>0&&s.value!==!0&&(I.minHeight=ve(parseInt(e.dayMinHeight,10)));const t=parseInt(e.dayHeight,10)===0&&parseInt(e.dayMinHeight,10)===0;return l("div",{key:n[0].date,ref:v=>{Z.value[c]=v},class:{"q-calendar-month__week--wrapper":!0,"q-calendar-month__week--auto-height":t},style:I},[e.showWorkWeeks===!0?te(n):void 0,l("div",{class:"q-calendar-month__week"},[l("div",{class:"q-calendar-month__week--days"},n.map((v,b)=>de(v))),s.value!==!0&&m!==void 0?l("div",{ref:v=>{$.value[c]=v},class:"q-calendar-month__week--events"},m({scope:g})):void 0])])}function te(n){const c=a.workweek,m=n.length>2?n[2]:n[0],{timestamp:d}=nt(n),g=Number(m.workweek).toLocaleString(e.locale),I={workweekLabel:g,week:n,miniMode:s.value};return l("div",{key:m.workweek,class:{"q-calendar-month__workweek":!0,...ue(d!==!1?d:m,!1)},...Q("-workweek",t=>({scope:I,event:t}))},c?c({scope:I}):g)}function de(n){const c=a.day,m=e.dayStyle||Ie,d=J(n),g=e.noActiveDate!==!0&&ae.value.date===n.date,I=d===!1&&e.showMonthLabel===!0&&X.value.find(H=>H.month===n.month).day===n.day,t={outside:d,timestamp:n,miniMode:s.value,activeDate:g,hasMonth:I,droppable:D.value===n.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1},v=Object.assign({...we.value},m({scope:t})),b=typeof e.dayClass=="function"?e.dayClass({scope:t}):{},q={key:n.date,ref:H=>{Ue.value===!0&&(x.value[n.date]=H)},tabindex:Ue.value===!0?0:-1,class:{"q-calendar-month__day":!0,...b,...ue(n,d,e.selectedDates,e.selectedStartEndDates,e.hover),"q-active-date":g===!0,disabled:e.enableOutsideDays!==!0&&d===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ue.value===!0},style:v,onFocus:H=>{Ue.value===!0&&(f.value=n.date)},onKeydown:H=>{d!==!0&&n.disabled!==!0&&G(H,[13,32])&&(H.stopPropagation(),H.preventDefault())},onKeyup:H=>{d!==!0&&n.disabled!==!0&&G(H,[13,32])&&(H.stopPropagation(),H.preventDefault(),M.value.onClickDay!==void 0&&s.value!==!0&&i("click-day",{scope:t,event:H}))},...Q("-day",H=>({scope:t,event:H}))};return d!==!0&&Object.assign(q,{onDragenter:H=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(H,"day",t)===!0?D.value=n.date:D.value="")},onDragover:H=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(H,"day",t)===!0?D.value=n.date:D.value="")},onDragleave:H=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(H,"day",t)===!0?D.value=n.date:D.value="")},onDrop:H=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(H,"day",t)===!0?D.value=n.date:D.value="")}}),e.noAria!==!0&&(q.ariaLabel=Ke.value(n)),l("div",q,[me(n,d,I),l("div",{class:{"q-calendar-month__day--content":!0}},c?c({scope:t}):void 0),Ue.value===!0&&pe()])}function me(n,c,m){let d,g;const I=[ye(n,c)];s.value!==!0&&m===!0&&K.width>340&&(g=r(n,c)),s.value!==!0&&e.showDayOfYearLabel===!0&&g===void 0&&K.width>300&&(d=Re(n,c)),e.dateAlign==="left"?(d!==void 0&&I.push(d),g!==void 0&&I.push(g)):e.dateAlign==="right"?(d!==void 0&&I.unshift(d),g!==void 0&&I.unshift(g)):(d=void 0,g=void 0);const t={class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+e.dateAlign]:d===void 0&&g===void 0,"q-calendar__justify":d!==void 0||g!==void 0}};return l("div",t,I)}function ye(n,c){if(c===!0&&e.noOutsideDays===!0)return;const m=Ge.value(n,!1),d=a["head-day-label"],g=a["head-day-button"],I=e.selectedDates&&e.selectedDates.length>0&&e.selectedDates.includes(n.date),t=e.noActiveDate!==!0&&et(n),v={dayLabel:m,timestamp:n,outside:c,activeDate:t,selectedDate:I,miniMode:s.value,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1},b={key:n.date,ref:q=>{Le.value===!0&&(x.value[n.date]=q)},tabindex:Le.value===!0?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":n.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Le.value===!0},disabled:n.disabled===!0||e.enableOutsideDays!==!0&&c===!0,onFocus:q=>{Le.value===!0&&(f.value=n.date)},onKeydown:q=>{c!==!0&&n.disabled!==!0&&G(q,[13,32])&&(q.stopPropagation(),q.preventDefault())},onKeyup:q=>{Le.value===!0&&c!==!0&&n.disabled!==!0&&G(q,[13,32])&&(q.stopPropagation(),q.preventDefault(),S.value=n.date,M.value.onClickDate!==void 0&&i("click-date",{scope:v,event:q}))},...Q("-date",(q,T)=>(q.stopPropagation(),(T==="click-date"||T==="contextmenu-date")&&(S.value=n.date),{scope:v,event:q}))};return e.noAria!==!0&&(b.ariaLabel=Ke.value(n)),[g?g({scope:v}):Yt(e,b,d?d({scope:v}):m),Le.value===!0&&pe()]}function Re(n,c){if(c===!0&&e.noOutsideDays===!0)return;const m=a["day-of-year"];return l("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},m?m({scope:{timestamp:n}}):n.doy)}function r(n,c){if(c===!0&&e.noOutsideDays===!0)return;const m=a["month-label"],d=le.value(n,e.shortMonthLabel||K.width<500),g={monthLabel:d,timestamp:n,miniMode:s.value},I={};return s.value!==!0&&A.value!==void 0&&(I.fontSize=A.value),l("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:I},[m?m({scope:g}):s.value!==!0?d:void 0])}function o(){const{start:n,end:c}=be.value;ne.value=n.date,ge.value=c.date;const m=K.width>0,d=St(l("div",{class:{"q-calendar-mini":s.value===!0,"q-calendar-month":!0},key:ne.value},[m===!0&&e.noHeader!==!0&&ot(),m===!0&&dt()]),[[vt,at]]);if(e.animated===!0){const g="q-calendar--"+(z.value==="prev"?e.transitionPrev:e.transitionNext);return l(Wt,{name:g,appear:!0},()=>d)}return d}return W({prev:ut,next:ze,move:oe,moveToToday:st,updateCurrent:ke}),()=>he()}}),Ta=_t({name:"QCalendarResource",props:{...gt,...ya,...na,...Gt,...Kt,...wt,...bt},emits:["update:model-value","update:model-resources","resource-expanded",...Lt,...xt,...Fe("-date"),...Fe("-interval"),...Fe("-head-day"),...Fe("-time"),...Fe("-head-resources"),...Fe("-resource")],setup(e,{slots:a,emit:i,expose:W}){const y=h(null),w=h(null),O=h(null),f=h(null),B=h(null),x=h(null),$=h({}),Z=h({}),z=h("next"),ne=h(it()),ge=h("0000-00-00"),re=h(0),S=h(e.modelValue),K=Ct({width:0,height:0}),C=h(!1),D=h(!1),V=h(!1),Be=h(null),We=h(null);ie(()=>e.view,()=>{re.value=0});const j=E(()=>e.view==="month"?"month-interval":e.view),M=E(()=>parseInt(e.cellWidth,10)),F=qt();if(F===null)throw new Error("current instance is null");const{emitListeners:R}=Et(F),{times:ce,setCurrent:ke,updateCurrent:Oe}=Tt(e);Oe(),ke();const{weekdaySkips:Ee,parsedStart:Ve,parsedEnd:Ge,dayStyleDefault:Ye}=At(e,{startDate:ne,endDate:ge,times:ce}),Ke=E(()=>ct(e.modelValue,ce.now)||Ve.value||ce.today);x.value=Ke.value,B.value=Ke.value.date;const{renderValues:Ie}=Pt(e,{parsedView:j,times:ce,parsedValue:Ke}),{rootRef:ue,__initCalendar:ae,__renderCalendar:we}=Ot(e,Qe,{scrollArea:y,pane:w}),{days:be,intervals:se,intervalFormatter:Ce,styleDefault:he,scrollToTimeX:X,timeDurationWidth:ee,timeStartPosX:s,widthToMinutes:U}=Qt(e,{weekdaySkips:Ee,times:ce,scrollArea:y,parsedStart:Ve,parsedEnd:Ge,maxDays:re,size:K,headerColumnRef:f}),{move:A}=It(e,{parsedView:j,parsedValue:Ke,weekdaySkips:Ee,direction:z,maxDays:re,times:ce,emittedValue:S,emit:i}),{getDefaultMouseEventHandlers:J}=Mt(i,R),{checkChange:le}=Vt(i,{days:be,lastStart:Be,lastEnd:We}),{isKeyCode:oe}=Bt(),{tryFocus:Q}=Rt(e,{rootRef:ue,focusRef:B,focusValue:x,datesRef:$,days:be,parsedView:j,parsedValue:Ke,emittedValue:S,weekdaySkips:Ee,direction:z,times:ce}),De=E(()=>{const _=parseInt(e.resourceHeight,10);return _===0?"auto":_}),G=E(()=>parseInt(e.resourceMinHeight,10)),je=E(()=>parseInt(e.intervalHeaderHeight,10));ie([be],le,{deep:!0,immediate:!0}),ie(()=>e.modelValue,(_,p)=>{if(S.value!==_){if(e.animated===!0){const te=Se(xe(_)),de=Se(xe(p));z.value=te>=de?"next":"prev"}S.value=_}B.value=_}),ie(S,(_,p)=>{if(S.value!==e.modelValue){if(e.animated===!0){const te=Se(xe(_)),de=Se(xe(p));z.value=te>=de?"next":"prev"}i("update:model-value",_)}}),ie(B,_=>{_&&(x.value=ct(_))}),ie(x,_=>{$.value[B.value]?$.value[B.value].focus():Q()}),Ft(()=>{$.value={},Z.value={}}),Ht(()=>{ae()});function Me(){S.value=it()}function He(_=1){A(_)}function Je(_=1){A(-_)}function Ue({width:_,height:p}){K.width=_,K.height=p}function Le(_){return _.date===S.value}function st(){const _={height:ve(je.value)};return l("div",{ref:O,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":e.noSticky!==!0},style:_},[ze(),ut()])}function ze(){const _=a["head-resources"],p=ve(je.value),te={timestamps:se,date:e.modelValue,resources:e.modelResources};return l("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":e.noSticky!==!0},style:{height:p},...J("-head-resources",de=>({scope:te,event:de}))},[_&&_({scope:te})])}function ut(){return l("div",{ref:f,class:{"q-calendar-resource__head--intervals":!0}},[se.value.map(_=>_.map((p,te)=>at(p,te)))])}function at(_,p){const te=a["interval-label"],de=e.noActiveDate!==!0&&Le(_),me=ve(M.value),ye=ve(je.value),Re=e.shortIntervalLabel,r=Ce.value(_,Re),o={timestamp:_,index:p,label:r};o.droppable=C.value===r;const n=e.intervalStyle||Ye,c={width:me,maxWidth:me,minWidth:me,height:ye,...n({scope:o})},m=typeof e.intervalClass=="function"?e.intervalClass({scope:o}):{},d=e.focusable===!0&&e.focusType.includes("interval");return l("div",{key:r,tabindex:d===!0?0:-1,class:{"q-calendar-resource__head--interval":!0,...m,"q-active-date":de,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":d===!0},style:c,onDragenter:g=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(g,"interval",o)===!0?C.value=r:C.value="")},onDragover:g=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(g,"interval",o)===!0?C.value=r:C.value="")},onDragleave:g=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(g,"interval",o)===!0?C.value=r:C.value="")},onDrop:g=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(g,"interval",o)===!0?C.value=r:C.value="")},onFocus:g=>{d===!0&&(B.value=r)},...J("-interval",g=>({scope:o,event:g}))},[te?te({scope:o}):r,pe()])}function et(){return l("div",{class:"q-calendar-resource__body"},[nt()])}function nt(){return l("div",{ref:y,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[dt()])}function lt(){return l("div",{},"No resources have been defined")}function dt(){return l("div",{class:"q-calendar-resource__day--container"},[st(),e.modelResources===void 0&&lt(),e.modelResources!==void 0&&ot()])}function ot(){return l("div",{class:"q-calendar-resource__resources--body"},tt())}function tt(_=void 0,p=0,te=!0){return _===void 0&&(_=e.modelResources),_.map((de,me)=>Ne(de,me,p,de.children!==void 0?de.expanded:te))}function Ne(_,p,te=0,de=!0){const me={};me.height=De.value==="auto"?De.value:ve(De.value),G.value>0&&(me.minHeight=ve(G.value));const ye=l("div",{key:_[e.resourceKey]+"-"+p,class:{"q-calendar-resource__resource--row":!0},style:me},[rt(_,p,te,de),Te(_,p)]);return _.children!==void 0?[ye,l("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":de===!0,"q-calendar__child--collapsed":de!==!0}},[tt(_.children,te+1,de===!1?de:_.expanded)])]:[ye]}function rt(_,p,te=0,de=!0){const me=a["resource-label"],ye={};ye.height=_.height!==void 0?ve(parseInt(_.height,10)):De.value?ve(De.value):"auto",G.value>0&&(ye.minHeight=ve(G.value));const Re=e.resourceStyle||he,r=_[e.resourceLabel],o=e.focusable===!0&&e.focusType.includes("resource")&&de===!0,n={resource:_,timestamps:se,resourceIndex:p,indentLevel:te,label:r},c=_[e.resourceKey];n.droppable=D.value===c;const m=typeof e.resourceClass=="function"?e.resourceClass({scope:n}):{};return l("div",{key:_[e.resourceKey]+"-"+p,ref:d=>{Z.value[_[e.resourceKey]]=d},tabindex:o===!0?0:-1,class:{"q-calendar-resource__resource":te===0,"q-calendar-resource__resource--section":te!==0,...m,"q-calendar__sticky":e.noSticky!==!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":o===!0},style:{...ye,...Re({scope:n})},onDragenter:d=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(d,"resource",n)===!0?D.value=c:D.value="")},onDragover:d=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(d,"resource",n)===!0?D.value=c:D.value="")},onDragleave:d=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(d,"resource",n)===!0?D.value=c:D.value="")},onDrop:d=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(d,"resource",n)===!0?D.value=c:D.value="")},onKeydown:d=>{oe(d,[13,32])&&(d.stopPropagation(),d.preventDefault())},onKeyup:d=>{oe(d,[13,32])&&R.value.onClickResource!==void 0&&i("click-resource",{scope:n,event:d})},...J("-resource",d=>({scope:n,event:d}))},[[l("div",{class:{"q-calendar__parent":_.children!==void 0,"q-calendar__parent--expanded":_.children!==void 0&&_.expanded===!0,"q-calendar__parent--collapsed":_.children!==void 0&&_.expanded!==!0},onClick:d=>{d.stopPropagation(),_.expanded=!_.expanded,i("resource-expanded",{expanded:_.expanded,scope:n})}}),l("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*te+2+"px"}},[me?me({scope:n}):r]),pe()]])}function Te(_,p){const te=a["resource-intervals"],de={resource:_,timestamps:se,resourceIndex:p,timeStartPosX:s,timeDurationWidth:ee};return l("div",{class:"q-calendar-resource__resource--intervals"},[se.value.map(me=>me.map(ye=>ft(_,ye,p))),te&&te({scope:de})])}function ft(_,p,te){const de=a["resource-interval"],me=e.noActiveDate!==!0&&Le(p),ye={activeDate:me,resource:_,timestamp:p,resourceIndex:te},Re=_[e.resourceKey],r=p.time+"-"+Re;ye.droppable=V.value===r;const o=e.focusable===!0&&e.focusType.includes("time"),n=e.intervalStyle||Ye,c=ve(M.value),m={width:c,maxWidth:c,minWidth:c,...n({scope:ye})};return m.height=_.height!==void 0?ve(parseInt(_.height,10)):De.value>0?ve(De.value):"auto",G.value>0&&(m.minHeight=ve(G.value)),l("div",{key:r,ref:d=>{$.value[_[e.resourceKey]]=d},tabindex:o===!0?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":me,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":o===!0},style:m,onDragenter:d=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(d,"time",ye)===!0?V.value=r:V.value="")},onDragover:d=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(d,"time",ye)===!0?V.value=r:V.value="")},onDragleave:d=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(d,"time",ye)===!0?V.value=r:V.value="")},onDrop:d=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(d,"time",ye)===!0?V.value=r:V.value="")},onFocus:d=>{o===!0&&(B.value=r)},...J("-time",d=>({scope:ye,event:d}))},[de&&de({scope:ye}),pe()])}function Qe(){const{start:_,end:p,maxDays:te}=Ie.value;(ne.value!==_.date||ge.value!==p.date||re.value!==te)&&(ne.value=_.date,ge.value=p.date,re.value=te);const de=K.width>0,me=St(l("div",{class:"q-calendar-resource",key:ne.value},[de===!0&&et()]),[[vt,Ue]]);if(e.animated===!0){const ye="q-calendar--"+(z.value==="prev"?e.transitionPrev:e.transitionNext);return l(Wt,{name:ye,appear:!0},()=>me)}return me}return W({prev:Je,next:He,move:A,moveToToday:Me,updateCurrent:Oe,timeStartPosX:s,timeDurationWidth:ee,widthToMinutes:U,scrollToTimeX:X}),()=>we()}}),Aa=_t({name:"QCalendarScheduler",directives:[vt],props:{...gt,...ha,...Gt,...Kt,...wt,...Ut,...bt},emits:["update:model-value","update:model-resources","resource-expanded",...Lt,...xt,...Fe("-date"),...Fe("-day-resource"),...Fe("-head-resources"),...Fe("-head-day"),...Fe("-resource")],setup(e,{slots:a,emit:i,expose:W}){const y=h(null),w=h(null),O=h(null),f=h(null),B=h(null),x=h({}),$=h({}),Z=h({}),z=h({}),ne=h("next"),ge=h(e.modelValue||it()),re=h("0000-00-00"),S=h(0),K=h(e.modelValue),C=Ct({width:0,height:0}),D=h(!1),V=h(!1),Be=h(null),We=h(null);ie(()=>e.view,()=>{S.value=0});const j=E(()=>e.view==="month"?"month-interval":e.view),M=qt();if(M===null)throw new Error("current instance is null");const{emitListeners:F}=Et(M),{isSticky:R}=Zt(e),{times:ce,setCurrent:ke,updateCurrent:Oe}=Tt(e);Oe(),ke();const{weekdaySkips:Ee,parsedStart:Ve,parsedEnd:Ge,dayFormatter:Ye,weekdayFormatter:Ke,ariaDateFormatter:Ie,dayStyleDefault:ue,getRelativeClasses:ae}=At(e,{startDate:ge,endDate:re,times:ce}),we=E(()=>ct(e.modelValue,ce.now)||Ve.value||ce.today);B.value=we.value,f.value=we.value.date;const{renderValues:be}=Pt(e,{parsedView:j,parsedValue:we,times:ce}),{rootRef:se,scrollWidth:Ce,__initCalendar:he,__renderCalendar:X}=Ot(e,I,{scrollArea:y,pane:w}),{days:ee,parsedCellWidth:s,styleDefault:U}=Qt(e,{weekdaySkips:Ee,times:ce,scrollArea:y,parsedStart:Ve,parsedEnd:Ge,maxDays:S,size:C,headerColumnRef:O}),{move:A}=It(e,{parsedView:j,parsedValue:we,weekdaySkips:Ee,direction:ne,maxDays:S,times:ce,emittedValue:K,emit:i}),{getDefaultMouseEventHandlers:J}=Mt(i,F),{checkChange:le}=Vt(i,{days:ee,lastStart:Be,lastEnd:We}),{isKeyCode:oe}=Bt(),{tryFocus:Q}=Rt(e,{rootRef:se,focusRef:f,focusValue:B,datesRef:x,days:ee,parsedView:j,parsedValue:we,emittedValue:K,weekdaySkips:Ee,direction:ne,times:ce}),De=E(()=>j.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):j.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:ee.value.length),G=E(()=>se.value?parseInt(getComputedStyle(se.value).getPropertyValue("--calendar-resources-width"),10):0),je=E(()=>{const t=parseInt(e.resourceHeight,10);return t===0?"auto":t}),Me=E(()=>parseInt(e.resourceMinHeight,10)),He=E(()=>{if(se.value){const t=C.width||se.value.getBoundingClientRect().width;if(t&&G.value&&De.value)return(t-Ce.value-G.value)/De.value+"px"}return 100/De.value+"%"});ie([ee],le,{deep:!0,immediate:!0}),ie(()=>e.modelValue,(t,v)=>{if(K.value!==e.modelValue){if(e.animated===!0){const b=Se(xe(t)),q=Se(xe(v));ne.value=b>=q?"next":"prev"}K.value=t}f.value=t}),ie(K,(t,v)=>{if(K.value!==e.modelValue){if(e.animated===!0){const b=Se(xe(t)),q=Se(xe(v));ne.value=b>=q?"next":"prev"}i("update:model-value",t)}}),ie(f,t=>{t&&(B.value=ct(t))}),ie(B,t=>{x.value[f.value]?x.value[f.value].focus():Q()}),ie(()=>e.maxDays,t=>{S.value=t}),Ft(()=>{x.value={},Z.value={},z.value={},$.value={}}),Ht(()=>{he()});function Je(){K.value=it()}function Ue(t=1){A(t)}function Le(t=1){A(-t)}function st({width:t,height:v}){C.width=t,C.height=v}function ze(t){return t.date===K.value}function ut(){return l("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":R.value===!0},style:{marginRight:Ce.value+"px"}},[at(),et()])}function at(){const t=a["head-resources"],v={days:ee.value,timestamps:ee.value,date:e.modelValue,resources:e.modelResources};return l("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":R.value===!0},...J("-head-resources",b=>({scope:v,event:b}))},[t&&t({scope:v})])}function et(){return l("div",{ref:O,class:{"q-calendar-scheduler__head--days__column":!0}},[nt(),lt()])}function nt(){return l("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[...dt()])}function lt(){const t=a["head-days-events"];return Nt(()=>{if(z.value&&parseInt(e.columnCount,10)===0&&window)try{const v=window.getComputedStyle(z.value);Z.value.parentElement.style.height=v.height,Z.value.style.height=v.height}catch{}}),l("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[t&&l("div",{ref:Z,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[t({scope:{timestamps:ee.value,days:ee.value,ref:z}})]),...ot()])}function dt(){return ee.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((t,v)=>v+parseInt(e.columnIndexStart,10)).map(t=>tt(ee.value[0],t)):ee.value.map(t=>tt(t))}function ot(){return ee.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((t,v)=>v+parseInt(e.columnIndexStart,10)).map(t=>rt(ee.value[0],t)):ee.value.map(t=>rt(t))}function tt(t,v){const b=a["head-day"],q=a["head-date"],T=e.noActiveDate!==!0&&ze(t),H={timestamp:t,activeDate:T,droppable:D.value===t.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(t.weekday):!1};v!==void 0&&(H.columnIndex=v);const qe=R.value===!0?ve(s.value):He.value,fe=e.weekdayStyle||ue,Ze={width:qe,maxWidth:qe,minWidth:qe,...fe({scope:H})};R.value===!0&&(Ze.minWidth=qe);const u=typeof e.weekdayClass=="function"?e.weekdayClass({scope:H}):{},k=e.focusable===!0&&e.focusType.includes("weekday"),L=t.date+(v!==void 0?"-"+v:""),P={key:L,ref:N=>{x.value[L]=N},tabindex:k===!0?0:-1,class:{"q-calendar-scheduler__head--day":!0,...u,...ae(t),"q-active-date":T,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":k===!0},style:Ze,onFocus:N=>{k===!0&&(f.value=L)},onKeydown:N=>{t.disabled!==!0&&oe(N,[13,32])&&(N.stopPropagation(),N.preventDefault())},onKeyup:N=>{t.disabled!==!0&&oe(N,[13,32])&&(K.value=t.date)},...J("-head-day",N=>({scope:H,event:N})),onDragenter:N=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(N,"head-day",H)===!0?D.value=t.date:D.value="")},onDragover:N=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(N,"head-day",H)===!0?D.value=t.date:D.value="")},onDragleave:N=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(N,"head-day",H)===!0?D.value=t.date:D.value="")},onDrop:N=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(N,"head-day",H)===!0?D.value=t.date:D.value="")}};return l("div",P,[b!==void 0&&b({scope:H}),b===void 0&&p(t,v),b===void 0&&Ne(t),b===void 0&&q&&q({scope:H}),b===void 0&&te(t,v),pe()])}function Ne(t){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Te(t),e.noDefaultHeaderBtn!==!0&&Qe(t)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Te(t),e.noDefaultHeaderBtn!==!0&&Qe(t)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Te(t),e.noDefaultHeaderBtn!==!0&&Qe(t)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Te(t),e.noDefaultHeaderBtn!==!0&&Qe(t)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Qe(t),e.noDefaultHeaderText!==!0&&Te(t)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Qe(t),e.noDefaultHeaderText!==!0&&Te(t)]):l("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Qe(t),e.noDefaultHeaderText!==!0&&Te(t)])}function rt(t,v){const b=a["head-day-event"],q=e.noActiveDate!==!0&&ze(t),T={timestamp:t,activeDate:q,droppable:D.value===t.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(t.weekday):!1};v!==void 0&&(T.columnIndex=v);const H=R.value===!0?ve(s.value):He.value,qe={width:H,maxWidth:H,minWidth:H};return R.value===!0&&(qe.minWidth=H),l("div",{key:"event-"+t.date+(v!==void 0?"-"+v:""),class:{"q-calendar-scheduler__head--day__event":!0,...ae(t),"q-active-date":q},style:qe},[b&&b({scope:T})])}function Te(t){const v=a["head-weekday-label"],b=e.shortWeekdayLabel===!0,q={timestamp:t,shortWeekdayLabel:b},T={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return l("div",T,v&&v({scope:q})||ft(t,b))}function ft(t,v){const b=Ke.value(t,v||e.weekdayBreakpoints[0]>0&&s.value<=e.weekdayBreakpoints[0]);return l("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&s.value<=e.weekdayBreakpoints[1]?Xt(b,e.minWeekdayLabel):b)}function Qe(t){const v={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return l("div",v,_(t))}function _(t){const v=e.noActiveDate!==!0&&ze(t),b=Ye.value(t,!1),q=a["head-day-label"],T=a["head-day-button"],H={dayLabel:b,timestamp:t,activeDate:v},qe={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":t.current===!0,"q-calendar__focusable":!0},disabled:t.disabled,onKeydown:fe=>{t.disabled!==!0&&oe(fe,[13,32])&&(fe.stopPropagation(),fe.preventDefault())},onKeyup:fe=>{t.disabled!==!0&&oe(fe,[13,32])&&(K.value=t.date,F.value.onClickDate!==void 0&&i("click-date",{scope:H}))},...J("-date",(fe,Ze)=>((Ze==="click-date"||Ze==="contextmenu-date")&&(K.value=t.date,Ze==="click-date"&&fe.preventDefault()),{scope:H,event:fe}))};return e.noAria!==!0&&(qe.ariaLabel=Ie.value(t)),T?T({scope:H}):Yt(e,qe,q?q({scope:H}):b)}function p(t,v){const b=a["column-header-before"];if(b)return l("div",{class:"q-calendar-scheduler__column-header--before"},[b({scope:{timestamp:t,columnIndex:v}})])}function te(t,v){const b=a["column-header-after"];if(b)return l("div",{class:"q-calendar-scheduler__column-header--after"},[b({scope:{timestamp:t,columnIndex:v}})])}function de(){return l("div",{class:"q-calendar-scheduler__body"},[me()])}function me(){return R.value===!0?l("div",{ref:y,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[R.value!==!0&&c(),Re()]):e.noScroll===!0?ye():l("div",{ref:y,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[ye()])}function ye(){return l("div",{ref:w,class:"q-calendar-scheduler__pane"},[Re()])}function Re(){return l("div",{class:"q-calendar-scheduler__day--container"},[R.value===!0&&e.noHeader!==!0&&ut(),r()])}function r(t=void 0,v=0,b=!0){return t===void 0&&(t=e.modelResources),t.map((q,T)=>o(q,T,v,q.children!==void 0?q.expanded:b))}function o(t,v,b=0,q=!0){const T={};T.height=t.height!==void 0?ve(parseInt(t.height,10)):je.value?ve(je.value):"auto",Me.value>0&&(T.minHeight=ve(Me.value));const H=l("div",{key:t[e.resourceKey]+"-"+v,class:{"q-calendar-scheduler__resource--row":!0},style:T},[n(t,v,b,q),c(t,v,b,q)]);return t.children!==void 0?[H,l("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":q===!0,"q-calendar__child--collapsed":q!==!0}},[r(t.children,b+1,q===!1?q:t.expanded)])]:[H]}function n(t,v,b=0,q=!0){const T=a["resource-label"],H={};H.height=t.height!==void 0?ve(parseInt(t.height,10)):je.value?ve(je.value):"auto",parseInt(e.resourceMinHeight,10)>0&&(H.minHeight=ve(parseInt(e.resourceMinHeight,10)));const qe=e.resourceStyle||U,fe=t[e.resourceLabel],Ze=e.focusable===!0&&e.focusType.includes("resource")&&q===!0,u={resource:t,timestamps:ee.value,days:ee.value,resourceIndex:v,indentLevel:b,label:fe},k=t[e.resourceKey];u.droppable=V.value===k;const L=typeof e.resourceClass=="function"?e.resourceClass({scope:u}):{};return l("div",{key:t[e.resourceKey]+"-"+v,ref:P=>{$.value[t[e.resourceKey]]=P},tabindex:Ze===!0?0:-1,class:{"q-calendar-scheduler__resource":b===0,"q-calendar-scheduler__resource--section":b!==0,...L,"q-calendar__sticky":R.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ze===!0},style:{...H,...qe({scope:u})},onDragenter:P=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(P,"resource",u)===!0?V.value=k:V.value="")},onDragover:P=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(P,"resource",u)===!0?V.value=k:V.value="")},onDragleave:P=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(P,"resource",u)===!0?V.value=k:V.value="")},onDrop:P=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(P,"resource",u)===!0?V.value=k:V.value="")},onKeydown:P=>{oe(P,[13,32])&&(P.stopPropagation(),P.preventDefault())},onKeyup:P=>{oe(P,[13,32])&&F.value.onClickResource!==void 0&&i("click-resource",{scope:u,event:P})},...J("-resource",P=>({scope:u,event:P}))},[[l("div",{class:{"q-calendar__parent":t.children!==void 0,"q-calendar__parent--expanded":t.children!==void 0&&t.expanded===!0,"q-calendar__parent--collapsed":t.children!==void 0&&t.expanded!==!0},onClick:P=>{P.stopPropagation(),t.expanded=!t.expanded,i("resource-expanded",{expanded:t.expanded,scope:u})}}),l("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*b+2+"px"}},[T?T({scope:u}):fe]),pe()]])}function c(t,v,b=0,q=!0){const T=a["resource-days"],H=R.value===!0?ve(s.value):He.value,qe={resource:t,resourceIndex:v,indentLevel:b,expanded:q,cellWidth:H,timestamps:ee.value,days:ee.value},fe={};return fe.height=parseInt(e.resourceHeight,10)>0?ve(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(fe.minHeight=ve(parseInt(e.resourceMinHeight,10))),l("div",{class:"q-calendar-scheduler__resource--days",style:fe},[...m(t,v,b,q),T&&T({scope:qe})])}function m(t,v,b=0,q=!0){return ee.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((T,H)=>H+parseInt(e.columnIndexStart,10)).map(T=>d(ee.value[0],T,t,v,b,q)):ee.value.map(T=>d(T,void 0,t,v,b,q))}function d(t,v,b,q,T=0,H=!0){const qe=a.day,fe=e.dayStyle||ue,Ze=e.noActiveDate!==!0&&we.value.date===t.date,u=t.date+":"+b[e.resourceKey]+(v!==void 0?":"+v:""),k=V.value===u,L={timestamp:t,columnIndex:v,resource:b,resourceIndex:q,indentLevel:T,activeDate:Ze,droppable:k},P=R.value===!0?ve(s.value):He.value,N={width:P,maxWidth:P,...fe({scope:L})};N.height=parseInt(e.resourceHeight,10)>0?ve(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(N.minHeight=ve(parseInt(e.resourceMinHeight,10)));const Y=typeof e.dayClass=="function"?e.dayClass({scope:L}):{},Ae=e.focusable===!0&&e.focusType.includes("day")&&H===!0;return l("div",{key:t.date+(v!==void 0?":"+v:""),tabindex:Ae===!0?0:-1,class:{"q-calendar-scheduler__day":T===0,"q-calendar-scheduler__day--section":T!==0,...Y,...ae(t),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ae===!0},style:N,onDragenter:_e=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(_e,"day",L)===!0?V.value=u:V.value="")},onDragover:_e=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(_e,"day",L)===!0?V.value=u:V.value="")},onDragleave:_e=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(_e,"day",L)===!0?V.value=u:V.value="")},onDrop:_e=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(_e,"day",L)===!0?V.value=u:V.value="")},onKeydown:_e=>{oe(_e,[13,32])&&(_e.stopPropagation(),_e.preventDefault())},onKeyup:_e=>{oe(_e,[13,32])&&(K.value=L.timestamp.date,F.value.onClickResource!==void 0&&i("click-resource",{scope:L,event:_e}))},...J("-day-resource",_e=>({scope:L,event:_e}))},[qe&&qe({scope:L}),pe()])}function g(){return l("div",{},"No resources have been defined")}function I(){const{start:t,end:v,maxDays:b}=be.value;(ge.value!==t.date||re.value!==v.date||S.value!==b)&&(ge.value=t.date,re.value=v.date,S.value=b);const q=C.width>0,T=e.modelResources&&e.modelResources.length>0,H=St(l("div",{key:ge.value,class:"q-calendar-scheduler"},[q===!0&&T===!0&&R.value!==!0&&e.noHeader!==!0&&ut(),q===!0&&T===!0&&de(),T===!1&&g()]),[[vt,st]]);if(e.animated===!0){const qe="q-calendar--"+(ne.value==="prev"?e.transitionPrev:e.transitionNext);return l(Wt,{name:qe,appear:!0},()=>H)}return H}return W({prev:Le,next:Ue,move:A,moveToToday:Je,updateCurrent:Oe}),()=>X()}}),Xa=_t({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...gt,...ma,...wt,...Ut,...bt,...na,...ha,...ya,...Kt,...Ca},setup(e,{attrs:a,slots:i,expose:W}){const y=h(null),w=E(()=>{switch(e.mode){case"agenda":return La;case"resource":return Ta;case"scheduler":return Aa;case"month":return Ea;case"day":return la;case"task":return qa;case"day":default:return la}});function O(){y.value.moveToToday()}function f(D=-1){y.value.move(D)}function B(D=1){y.value.next(D)}function x(D=1){y.value.prev(D)}function $(){y.value.updateCurrent()}function Z(D,V=!0){return y.value.timeStartPos(D,V)}function z(D,V=!0){return y.value.timeStartPosX(D,V)}function ne(D){return y.value.timeDurationWidth(D)}function ge(D){return y.value.timeDurationHeight(D)}function re(D){return y.value.heightToMinutes(D)}function S(D){return y.value.widthToMinutes(minutes)}function K(D){return y.value.scrollToTime(D)}function C(D){return y.value.scrollToTimeX(D)}return W({prev:x,next:B,move:f,moveToToday:O,updateCurrent:$,timeStartPos:Z,timeStartPosX:z,timeDurationWidth:ne,timeDurationHeight:ge,heightToMinutes:re,widthToMinutes:S,scrollToTime:K,scrollToTimeX:C}),()=>l(w.value,{ref:y,...e,...a},i)}});/*! Capacitor: https://capacitorjs.com/ - MIT License */const Pa=e=>{const a=new Map;a.set("web",{name:"web"});const i=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:a},W=(w,O)=>{i.platforms.set(w,O)},y=w=>{i.platforms.has(w)&&(i.currentPlatform=i.platforms.get(w))};return i.addPlatform=W,i.setPlatform=y,i},Oa=e=>e.CapacitorPlatforms=Pa(e),_a=Oa(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});_a.addPlatform;_a.setPlatform;var mt;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(mt||(mt={}));class ea extends Error{constructor(a,i,W){super(a),this.message=a,this.code=i,this.data=W}}const Ra=e=>{var a,i;return e!=null&&e.androidBridge?"android":!((i=(a=e==null?void 0:e.webkit)===null||a===void 0?void 0:a.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},Ia=e=>{var a,i,W,y,w;const O=e.CapacitorCustomPlatform||null,f=e.Capacitor||{},B=f.Plugins=f.Plugins||{},x=e.CapacitorPlatforms,$=()=>O!==null?O.name:Ra(e),Z=((a=x==null?void 0:x.currentPlatform)===null||a===void 0?void 0:a.getPlatform)||$,z=()=>Z()!=="web",ne=((i=x==null?void 0:x.currentPlatform)===null||i===void 0?void 0:i.isNativePlatform)||z,ge=j=>{const M=V.get(j);return!!(M!=null&&M.platforms.has(Z())||K(j))},re=((W=x==null?void 0:x.currentPlatform)===null||W===void 0?void 0:W.isPluginAvailable)||ge,S=j=>{var M;return(M=f.PluginHeaders)===null||M===void 0?void 0:M.find(F=>F.name===j)},K=((y=x==null?void 0:x.currentPlatform)===null||y===void 0?void 0:y.getPluginHeader)||S,C=j=>e.console.error(j),D=(j,M,F)=>Promise.reject(`${F} does not have an implementation of "${M}".`),V=new Map,Be=(j,M={})=>{const F=V.get(j);if(F)return console.warn(`Capacitor plugin "${j}" already registered. Cannot register plugins twice.`),F.proxy;const R=Z(),ce=K(j);let ke;const Oe=async()=>(!ke&&R in M?ke=typeof M[R]=="function"?ke=await M[R]():ke=M[R]:O!==null&&!ke&&"web"in M&&(ke=typeof M.web=="function"?ke=await M.web():ke=M.web),ke),Ee=(ue,ae)=>{var we,be;if(ce){const se=ce==null?void 0:ce.methods.find(Ce=>ae===Ce.name);if(se)return se.rtype==="promise"?Ce=>f.nativePromise(j,ae.toString(),Ce):(Ce,he)=>f.nativeCallback(j,ae.toString(),Ce,he);if(ue)return(we=ue[ae])===null||we===void 0?void 0:we.bind(ue)}else{if(ue)return(be=ue[ae])===null||be===void 0?void 0:be.bind(ue);throw new ea(`"${j}" plugin is not implemented on ${R}`,mt.Unimplemented)}},Ve=ue=>{let ae;const we=(...be)=>{const se=Oe().then(Ce=>{const he=Ee(Ce,ue);if(he){const X=he(...be);return ae=X==null?void 0:X.remove,X}else throw new ea(`"${j}.${ue}()" is not implemented on ${R}`,mt.Unimplemented)});return ue==="addListener"&&(se.remove=async()=>ae()),se};return we.toString=()=>`${ue.toString()}() { [capacitor code] }`,Object.defineProperty(we,"name",{value:ue,writable:!1,configurable:!1}),we},Ge=Ve("addListener"),Ye=Ve("removeListener"),Ke=(ue,ae)=>{const we=Ge({eventName:ue},ae),be=async()=>{const Ce=await we;Ye({eventName:ue,callbackId:Ce},ae)},se=new Promise(Ce=>we.then(()=>Ce({remove:be})));return se.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await be()},se},Ie=new Proxy({},{get(ue,ae){switch(ae){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return ce?Ke:Ge;case"removeListener":return Ye;default:return Ve(ae)}}});return B[j]=Ie,V.set(j,{name:j,proxy:Ie,platforms:new Set([...Object.keys(M),...ce?[R]:[]])}),Ie},We=((w=x==null?void 0:x.currentPlatform)===null||w===void 0?void 0:w.registerPlugin)||Be;return f.convertFileSrc||(f.convertFileSrc=j=>j),f.getPlatform=Z,f.handleError=C,f.isNativePlatform=ne,f.isPluginAvailable=re,f.pluginMethodNoop=D,f.registerPlugin=We,f.Exception=ea,f.DEBUG=!!f.DEBUG,f.isLoggingEnabled=!!f.isLoggingEnabled,f.platform=f.getPlatform(),f.isNative=f.isNativePlatform(),f},Ma=e=>e.Capacitor=Ia(e),zt=Ma(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),ga=zt.registerPlugin;zt.Plugins;class wa{constructor(a){this.listeners={},this.retainedEventArguments={},this.windowListeners={},a&&(console.warn(`Capacitor WebPlugin "${a.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=a)}addListener(a,i){let W=!1;this.listeners[a]||(this.listeners[a]=[],W=!0),this.listeners[a].push(i);const w=this.windowListeners[a];w&&!w.registered&&this.addWindowListener(w),W&&this.sendRetainedArgumentsForEvent(a);const O=async()=>this.removeListener(a,i);return Promise.resolve({remove:O})}async removeAllListeners(){this.listeners={};for(const a in this.windowListeners)this.removeWindowListener(this.windowListeners[a]);this.windowListeners={}}notifyListeners(a,i,W){const y=this.listeners[a];if(!y){if(W){let w=this.retainedEventArguments[a];w||(w=[]),w.push(i),this.retainedEventArguments[a]=w}return}y.forEach(w=>w(i))}hasListeners(a){return!!this.listeners[a].length}registerWindowListener(a,i){this.windowListeners[i]={registered:!1,windowEventName:a,pluginEventName:i,handler:W=>{this.notifyListeners(i,W)}}}unimplemented(a="not implemented"){return new zt.Exception(a,mt.Unimplemented)}unavailable(a="not available"){return new zt.Exception(a,mt.Unavailable)}async removeListener(a,i){const W=this.listeners[a];if(!W)return;const y=W.indexOf(i);this.listeners[a].splice(y,1),this.listeners[a].length||this.removeWindowListener(this.windowListeners[a])}addWindowListener(a){window.addEventListener(a.windowEventName,a.handler),a.registered=!0}removeWindowListener(a){!a||(window.removeEventListener(a.windowEventName,a.handler),a.registered=!1)}sendRetainedArgumentsForEvent(a){const i=this.retainedEventArguments[a];!i||(delete this.retainedEventArguments[a],i.forEach(W=>{this.notifyListeners(a,W)}))}}const da=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ia=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ba extends wa{async getCookies(){const a=document.cookie,i={};return a.split(";").forEach(W=>{if(W.length<=0)return;let[y,w]=W.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");y=ia(y).trim(),w=ia(w).trim(),i[y]=w}),i}async setCookie(a){try{const i=da(a.key),W=da(a.value),y=`; expires=${(a.expires||"").replace("expires=","")}`,w=(a.path||"/").replace("path=",""),O=a.url!=null&&a.url.length>0?`domain=${a.url}`:"";document.cookie=`${i}=${W||""}${y}; path=${w}; ${O};`}catch(i){return Promise.reject(i)}}async deleteCookie(a){try{document.cookie=`${a.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const a=document.cookie.split(";")||[];for(const i of a)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(a){return Promise.reject(a)}}async clearAllCookies(){try{await this.clearCookies()}catch(a){return Promise.reject(a)}}}ga("CapacitorCookies",{web:()=>new Ba});const Va=async e=>new Promise((a,i)=>{const W=new FileReader;W.onload=()=>{const y=W.result;a(y.indexOf(",")>=0?y.split(",")[1]:y)},W.onerror=y=>i(y),W.readAsDataURL(e)}),Ka=(e={})=>{const a=Object.keys(e);return Object.keys(e).map(y=>y.toLocaleLowerCase()).reduce((y,w,O)=>(y[w]=e[a[O]],y),{})},Ua=(e,a=!0)=>e?Object.entries(e).reduce((W,y)=>{const[w,O]=y;let f,B;return Array.isArray(O)?(B="",O.forEach(x=>{f=a?encodeURIComponent(x):x,B+=`${w}=${f}&`}),B.slice(0,-1)):(f=a?encodeURIComponent(O):O,B=`${w}=${f}`),`${W}&${B}`},"").substr(1):null,$a=(e,a={})=>{const i=Object.assign({method:e.method||"GET",headers:e.headers},a),y=Ka(e.headers)["content-type"]||"";if(typeof e.data=="string")i.body=e.data;else if(y.includes("application/x-www-form-urlencoded")){const w=new URLSearchParams;for(const[O,f]of Object.entries(e.data||{}))w.set(O,f);i.body=w.toString()}else if(y.includes("multipart/form-data")||e.data instanceof FormData){const w=new FormData;if(e.data instanceof FormData)e.data.forEach((f,B)=>{w.append(B,f)});else for(const f of Object.keys(e.data))w.append(f,e.data[f]);i.body=w;const O=new Headers(i.headers);O.delete("content-type"),i.headers=O}else(y.includes("application/json")||typeof e.data=="object")&&(i.body=JSON.stringify(e.data));return i};class ja extends wa{async request(a){const i=$a(a,a.webFetchExtra),W=Ua(a.params,a.shouldEncodeUrlParams),y=W?`${a.url}?${W}`:a.url,w=await fetch(y,i),O=w.headers.get("content-type")||"";let{responseType:f="text"}=w.ok?a:{};O.includes("application/json")&&(f="json");let B,x;switch(f){case"arraybuffer":case"blob":x=await w.blob(),B=await Va(x);break;case"json":B=await w.json();break;case"document":case"text":default:B=await w.text()}const $={};return w.headers.forEach((Z,z)=>{$[z]=Z}),{data:B,headers:$,status:w.status,url:w.url}}async get(a){return this.request(Object.assign(Object.assign({},a),{method:"GET"}))}async post(a){return this.request(Object.assign(Object.assign({},a),{method:"POST"}))}async put(a){return this.request(Object.assign(Object.assign({},a),{method:"PUT"}))}async patch(a){return this.request(Object.assign(Object.assign({},a),{method:"PATCH"}))}async delete(a){return this.request(Object.assign(Object.assign({},a),{method:"DELETE"}))}}ga("CapacitorHttp",{web:()=>new ja});export{zt as C,Xa as Q,wa as W,la as a,ga as r};
