import{l as xt,m as xe,r as q,c as S,e as ke,b as _t,a$ as Ct,f as Ee,aC as qt,h as b,Z as ge,Y as Nt,am as Ut,Q as ye,D as wt,g as oe,aV as Ft,b0 as lt,j as le,ah as He,ai as ut,w as me,s as it,aQ as kt,aR as Tt,k as ne,b1 as Wt,n as Rt,aM as jt,b2 as Jt,au as Kt,ad as we,v as Ht,av as zt,aa as Ve,a_ as ze,aw as ct,ab as Xe,T as Xt,b3 as Yt,b4 as Pt,U as Me,W as Be,o as Zt,b5 as $t,V as At,ae as en,ag as tn,ak as nn,a1 as fe,ap as ln,b6 as It,at as Vt,_ as an,b7 as on,aP as rn,E as U,O as z,H as c,G as k,M as Y,b8 as dt,b9 as ve,F as be,I as se,J as F,K as te,a0 as Le,N as $,ba as sn,R as vt,P as ft,a3 as he,ay as mt}from"./index.d5412a32.js";import{Q as un}from"./QResizeObserver.32c6c251.js";import{r as cn,g as gt,s as bt,T as dn,b as vn,Q as Ye,a as fn}from"./QPullToRefresh.b70e30c0.js";import{Q as mn}from"./QKnob.a6ec4bf9.js";import{d as gn,p as bn,Q as Ze,c as Ge}from"./utiFunc.97ba64dc.js";import{b as at,a as ot,Q as _e}from"./QItem.feb83afb.js";import{Q as rt,a as hn,u as pn}from"./goalStorage.f129a10b.js";import{Q as yn}from"./QList.5228e4b2.js";import{Q as ht}from"./QSpace.45a1f191.js";let Sn=0;const xn=["click","keydown"],_n={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Sn++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Cn(e,l,h,t){const i=xt(Ct,xe);if(i===xe)return console.error("QTab/QRouteTab component needs to be child of QTabs"),xe;const{proxy:o}=oe(),n=q(null),d=q(null),R=q(null),m=S(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),w=S(()=>i.currentModel.value===e.name),_=S(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(w.value===!0?" q-tab--active"+(i.tabProps.value.activeClass?" "+i.tabProps.value.activeClass:"")+(i.tabProps.value.activeColor?` text-${i.tabProps.value.activeColor}`:"")+(i.tabProps.value.activeBgColor?` bg-${i.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&i.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||i.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(t!==void 0?t.linkClass.value:"")),p=S(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(i.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),f=S(()=>e.disable===!0||i.hasFocus.value===!0||w.value===!1&&i.hasActiveTab.value===!0?-1:e.tabindex||0);function P(s,x){if(x!==!0&&n.value!==null&&n.value.focus(),e.disable===!0){t!==void 0&&t.hasRouterLink.value===!0&&ge(s);return}if(t===void 0){i.updateModel({name:e.name}),h("click",s);return}if(t.hasRouterLink.value===!0){const T=(y={})=>{let L;const Q=y.to===void 0||Ft(y.to,e.to)===!0?i.avoidRouteWatcher=lt():null;return t.navigateToRouterLink(s,{...y,returnRouterError:!0}).catch(W=>{L=W}).then(W=>{if(Q===i.avoidRouteWatcher&&(i.avoidRouteWatcher=!1,L===void 0&&(W===void 0||W.message.startsWith("Avoided redundant navigation")===!0)&&i.updateModel({name:e.name})),y.returnRouterError===!0)return L!==void 0?Promise.reject(L):W})};h("click",s,T),s.defaultPrevented!==!0&&T();return}h("click",s)}function E(s){Nt(s,[13,32])?P(s,!0):Ut(s)!==!0&&s.keyCode>=35&&s.keyCode<=40&&s.altKey!==!0&&s.metaKey!==!0&&i.onKbdNavigate(s.keyCode,o.$el)===!0&&ge(s),h("keydown",s)}function g(){const s=i.tabProps.value.narrowIndicator,x=[],T=b("div",{ref:R,class:["q-tab__indicator",i.tabProps.value.indicatorClass]});e.icon!==void 0&&x.push(b(ye,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&x.push(b("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&x.push(e.alertIcon!==void 0?b(ye,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):b("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),s===!0&&x.push(T);const y=[b("div",{class:"q-focus-helper",tabindex:-1,ref:n}),b("div",{class:p.value},wt(l.default,x))];return s===!1&&y.push(T),y}const v={name:S(()=>e.name),rootRef:d,tabIndicatorRef:R,routeData:t};ke(()=>{i.unregisterTab(v)}),_t(()=>{i.registerTab(v)});function B(s,x){const T={ref:d,class:_.value,tabindex:f.value,role:"tab","aria-selected":w.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:P,onKeydown:E,...x};return Ee(b(s,T,g()),[[qt,m.value]])}return{renderTab:B,$tabs:i}}var $e=le({name:"QTab",props:_n,emits:xn,setup(e,{slots:l,emit:h}){const{renderTab:t}=Cn(e,l,h);return()=>t("div")}});function qn(e,l,h){const t=h===!0?["left","right"]:["top","bottom"];return`absolute-${l===!0?t[0]:t[1]}${e?` text-${e}`:""}`}const wn=["left","center","right","justify"];var kn=le({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>wn.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:l,emit:h}){const{proxy:t}=oe(),{$q:i}=t,{registerTick:o}=He(),{registerTick:n}=He(),{registerTick:d}=He(),{registerTimeout:R,removeTimeout:m}=ut(),{registerTimeout:w,removeTimeout:_}=ut(),p=q(null),f=q(null),P=q(e.modelValue),E=q(!1),g=q(!0),v=q(!1),B=q(!1),s=[],x=q(0),T=q(!1);let y=null,L=null,Q;const W=S(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:qn(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ie=S(()=>{const a=x.value,u=P.value;for(let r=0;r<a;r++)if(s[r].name.value===u)return!0;return!1}),X=S(()=>`q-tabs__content--align-${E.value===!0?"left":B.value===!0?"justify":e.align}`),N=S(()=>`q-tabs row no-wrap items-center q-tabs--${E.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),I=S(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+X.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),G=S(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),j=S(()=>e.vertical!==!0&&i.lang.rtl===!0),Z=S(()=>cn===!1&&j.value===!0);me(j,ce),me(()=>e.modelValue,a=>{A({name:a,setCurrent:!0,skipEmit:!0})}),me(()=>e.outsideArrows,J);function A({name:a,setCurrent:u,skipEmit:r}){P.value!==a&&(r!==!0&&e["onUpdate:modelValue"]!==void 0&&h("update:modelValue",a),(u===!0||e["onUpdate:modelValue"]===void 0)&&(Ce(P.value,a),P.value=a))}function J(){o(()=>{ee({width:p.value.offsetWidth,height:p.value.offsetHeight})})}function ee(a){if(G.value===void 0||f.value===null)return;const u=a[G.value.container],r=Math.min(f.value[G.value.scroll],Array.prototype.reduce.call(f.value.children,(V,O)=>V+(O[G.value.content]||0),0)),M=u>0&&r>u;E.value=M,M===!0&&n(ce),B.value=u<parseInt(e.breakpoint,10)}function Ce(a,u){const r=a!=null&&a!==""?s.find(V=>V.name.value===a):null,M=u!=null&&u!==""?s.find(V=>V.name.value===u):null;if(r&&M){const V=r.tabIndicatorRef.value,O=M.tabIndicatorRef.value;y!==null&&(clearTimeout(y),y=null),V.style.transition="none",V.style.transform="none",O.style.transition="none",O.style.transform="none";const D=V.getBoundingClientRect(),H=O.getBoundingClientRect();O.style.transform=e.vertical===!0?`translate3d(0,${D.top-H.top}px,0) scale3d(1,${H.height?D.height/H.height:1},1)`:`translate3d(${D.left-H.left}px,0,0) scale3d(${H.width?D.width/H.width:1},1,1)`,d(()=>{y=setTimeout(()=>{y=null,O.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",O.style.transform="none"},70)})}M&&E.value===!0&&ue(M.rootRef.value)}function ue(a){const{left:u,width:r,top:M,height:V}=f.value.getBoundingClientRect(),O=a.getBoundingClientRect();let D=e.vertical===!0?O.top-M:O.left-u;if(D<0){f.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(D),ce();return}D+=e.vertical===!0?O.height-V:O.width-r,D>0&&(f.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(D),ce())}function ce(){const a=f.value;if(a===null)return;const u=a.getBoundingClientRect(),r=e.vertical===!0?a.scrollTop:Math.abs(a.scrollLeft);j.value===!0?(g.value=Math.ceil(r+u.width)<a.scrollWidth-1,v.value=r>0):(g.value=r>0,v.value=e.vertical===!0?Math.ceil(r+u.height)<a.scrollHeight:Math.ceil(r+u.width)<a.scrollWidth)}function Te(a){L!==null&&clearInterval(L),L=setInterval(()=>{Oe(a)===!0&&ae()},5)}function Re(){Te(Z.value===!0?Number.MAX_SAFE_INTEGER:0)}function Pe(){Te(Z.value===!0?0:Number.MAX_SAFE_INTEGER)}function ae(){L!==null&&(clearInterval(L),L=null)}function De(a,u){const r=Array.prototype.filter.call(f.value.children,H=>H===u||H.matches&&H.matches(".q-tab.q-focusable")===!0),M=r.length;if(M===0)return;if(a===36)return ue(r[0]),r[0].focus(),!0;if(a===35)return ue(r[M-1]),r[M-1].focus(),!0;const V=a===(e.vertical===!0?38:37),O=a===(e.vertical===!0?40:39),D=V===!0?-1:O===!0?1:void 0;if(D!==void 0){const H=j.value===!0?-1:1,re=r.indexOf(u)+D*H;return re>=0&&re<M&&(ue(r[re]),r[re].focus({preventScroll:!0})),!0}}const Qe=S(()=>Z.value===!0?{get:a=>Math.abs(a.scrollLeft),set:(a,u)=>{a.scrollLeft=-u}}:e.vertical===!0?{get:a=>a.scrollTop,set:(a,u)=>{a.scrollTop=u}}:{get:a=>a.scrollLeft,set:(a,u)=>{a.scrollLeft=u}});function Oe(a){const u=f.value,{get:r,set:M}=Qe.value;let V=!1,O=r(u);const D=a<O?-1:1;return O+=D*5,O<0?(V=!0,O=0):(D===-1&&O<=a||D===1&&O>=a)&&(V=!0,O=a),M(u,O),ce(),V}function Ae(a,u){for(const r in a)if(a[r]!==u[r])return!1;return!0}function Ne(){let a=null,u={matchedLen:0,queryDiff:9999,hrefLen:0};const r=s.filter(D=>D.routeData!==void 0&&D.routeData.hasRouterLink.value===!0),{hash:M,query:V}=t.$route,O=Object.keys(V).length;for(const D of r){const H=D.routeData.exact.value===!0;if(D.routeData[H===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:re,query:Je,matched:Qt,href:Ot}=D.routeData.resolvedLink.value,Ke=Object.keys(Je).length;if(H===!0){if(re!==M||Ke!==O||Ae(V,Je)===!1)continue;a=D.name.value;break}if(re!==""&&re!==M||Ke!==0&&Ae(Je,V)===!1)continue;const de={matchedLen:Qt.length,queryDiff:O-Ke,hrefLen:Ot.length-re.length};if(de.matchedLen>u.matchedLen){a=D.name.value,u=de;continue}else if(de.matchedLen!==u.matchedLen)continue;if(de.queryDiff<u.queryDiff)a=D.name.value,u=de;else if(de.queryDiff!==u.queryDiff)continue;de.hrefLen>u.hrefLen&&(a=D.name.value,u=de)}a===null&&s.some(D=>D.routeData===void 0&&D.name.value===P.value)===!0||A({name:a,setCurrent:!0})}function Ue(a){if(m(),T.value!==!0&&p.value!==null&&a.target&&typeof a.target.closest=="function"){const u=a.target.closest(".q-tab");u&&p.value.contains(u)===!0&&(T.value=!0,E.value===!0&&ue(u))}}function Fe(){R(()=>{T.value=!1},30)}function Se(){Ie.avoidRouteWatcher===!1?w(Ne):_()}function qe(){if(Q===void 0){const a=me(()=>t.$route.fullPath,Se);Q=()=>{a(),Q=void 0}}}function We(a){s.push(a),x.value++,J(),a.routeData===void 0||t.$route===void 0?w(()=>{if(E.value===!0){const u=P.value,r=u!=null&&u!==""?s.find(M=>M.name.value===u):null;r&&ue(r.rootRef.value)}}):(qe(),a.routeData.hasRouterLink.value===!0&&Se())}function je(a){s.splice(s.indexOf(a),1),x.value--,J(),Q!==void 0&&a.routeData!==void 0&&(s.every(u=>u.routeData===void 0)===!0&&Q(),Se())}const Ie={currentModel:P,tabProps:W,hasFocus:T,hasActiveTab:ie,registerTab:We,unregisterTab:je,verifyRouteModel:Se,updateModel:A,onKbdNavigate:De,avoidRouteWatcher:!1};it(Ct,Ie);function K(){y!==null&&clearTimeout(y),ae(),Q!==void 0&&Q()}let C;return ke(K),kt(()=>{C=Q!==void 0,K()}),Tt(()=>{C===!0&&qe(),J()}),()=>b("div",{ref:p,class:N.value,role:"tablist",onFocusin:Ue,onFocusout:Fe},[b(un,{onResize:ee}),b("div",{ref:f,class:I.value,onScroll:ce},ne(l.default)),b(ye,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(g.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||i.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Re,onTouchstartPassive:Re,onMouseupPassive:ae,onMouseleavePassive:ae,onTouchendPassive:ae}),b(ye,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(v.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||i.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Pe,onTouchstartPassive:Pe,onMouseupPassive:ae,onMouseleavePassive:ae,onTouchendPassive:ae})])}}),Tn=le({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:l,emit:h}){const t=oe(),i=q(null);let o=0;const n=[];function d(f){const P=typeof f=="boolean"?f:e.noErrorFocus!==!0,E=++o,g=(s,x)=>{h("validation"+(s===!0?"Success":"Error"),x)},v=s=>{const x=s.validate();return typeof x.then=="function"?x.then(T=>({valid:T,comp:s}),T=>({valid:!1,comp:s,err:T})):Promise.resolve({valid:x,comp:s})};return(e.greedy===!0?Promise.all(n.map(v)).then(s=>s.filter(x=>x.valid!==!0)):n.reduce((s,x)=>s.then(()=>v(x).then(T=>{if(T.valid===!1)return Promise.reject(T)})),Promise.resolve()).catch(s=>[s])).then(s=>{if(s===void 0||s.length===0)return E===o&&g(!0),!0;if(E===o){const{comp:x,err:T}=s[0];if(T!==void 0&&console.error(T),g(!1,x),P===!0){const y=s.find(({comp:L})=>typeof L.focus=="function"&&Wt(L.$)===!1);y!==void 0&&y.comp.focus()}}return!1})}function R(){o++,n.forEach(f=>{typeof f.resetValidation=="function"&&f.resetValidation()})}function m(f){f!==void 0&&ge(f);const P=o+1;d().then(E=>{P===o&&E===!0&&(e.onSubmit!==void 0?h("submit",f):f!==void 0&&f.target!==void 0&&typeof f.target.submit=="function"&&f.target.submit())})}function w(f){f!==void 0&&ge(f),h("reset"),Rt(()=>{R(),e.autofocus===!0&&e.noResetFocus!==!0&&_()})}function _(){jt(()=>{if(i.value===null)return;const f=i.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(i.value.querySelectorAll("[tabindex]"),P=>P.tabIndex>-1);f!=null&&f.focus({preventScroll:!0})})}it(Jt,{bindComponent(f){n.push(f)},unbindComponent(f){const P=n.indexOf(f);P>-1&&n.splice(P,1)}});let p=!1;return kt(()=>{p=!0}),Tt(()=>{p===!0&&e.autofocus===!0&&_()}),_t(()=>{e.autofocus===!0&&_()}),Object.assign(t.proxy,{validate:d,resetValidation:R,submit:m,reset:w,focus:_,getValidationComponents:()=>n}),()=>b("form",{class:"q-form",ref:i,onSubmit:m,onReset:w},ne(l.default))}});function Rn(e){const l=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((h,t)=>{const i=parseFloat(h);i&&(l[t]=i)}),l}var Pn=Kt({name:"touch-swipe",beforeMount(e,{value:l,arg:h,modifiers:t}){if(t.mouse!==!0&&we.has.touch!==!0)return;const i=t.mouseCapture===!0?"Capture":"",o={handler:l,sensitivity:Rn(h),direction:gt(t),noop:Ht,mouseStart(n){bt(n,o)&&zt(n)&&(Ve(o,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(n,!0))},touchStart(n){if(bt(n,o)){const d=n.target;Ve(o,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","notPassiveCapture"],[d,"touchend","end","notPassiveCapture"]]),o.start(n)}},start(n,d){we.is.firefox===!0&&ze(e,!0);const R=ct(n);o.event={x:R.left,y:R.top,time:Date.now(),mouse:d===!0,dir:!1}},move(n){if(o.event===void 0)return;if(o.event.dir!==!1){ge(n);return}const d=Date.now()-o.event.time;if(d===0)return;const R=ct(n),m=R.left-o.event.x,w=Math.abs(m),_=R.top-o.event.y,p=Math.abs(_);if(o.event.mouse!==!0){if(w<o.sensitivity[1]&&p<o.sensitivity[1]){o.end(n);return}}else if(w<o.sensitivity[2]&&p<o.sensitivity[2])return;const f=w/d,P=p/d;o.direction.vertical===!0&&w<p&&w<100&&P>o.sensitivity[0]&&(o.event.dir=_<0?"up":"down"),o.direction.horizontal===!0&&w>p&&p<100&&f>o.sensitivity[0]&&(o.event.dir=m<0?"left":"right"),o.direction.up===!0&&w<p&&_<0&&w<100&&P>o.sensitivity[0]&&(o.event.dir="up"),o.direction.down===!0&&w<p&&_>0&&w<100&&P>o.sensitivity[0]&&(o.event.dir="down"),o.direction.left===!0&&w>p&&m<0&&p<100&&f>o.sensitivity[0]&&(o.event.dir="left"),o.direction.right===!0&&w>p&&m>0&&p<100&&f>o.sensitivity[0]&&(o.event.dir="right"),o.event.dir!==!1?(ge(n),o.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),gn(),o.styleCleanup=E=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const g=()=>{document.body.classList.remove("no-pointer-events--children")};E===!0?setTimeout(g,50):g()}),o.handler({evt:n,touch:o.event.mouse!==!0,mouse:o.event.mouse,direction:o.event.dir,duration:d,distance:{x:w,y:p}})):o.end(n)},end(n){o.event!==void 0&&(Xe(o,"temp"),we.is.firefox===!0&&ze(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(!0),n!==void 0&&o.event.dir!==!1&&ge(n),o.event=void 0)}};if(e.__qtouchswipe=o,t.mouse===!0){const n=t.mouseCapture===!0||t.mousecapture===!0?"Capture":"";Ve(o,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}we.has.touch===!0&&Ve(o,"main",[[e,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,l){const h=e.__qtouchswipe;h!==void 0&&(l.oldValue!==l.value&&(typeof l.value!="function"&&h.end(),h.handler=l.value),h.direction=gt(l.modifiers))},beforeUnmount(e){const l=e.__qtouchswipe;l!==void 0&&(Xe(l,"main"),Xe(l,"temp"),we.is.firefox===!0&&ze(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(),delete e.__qtouchswipe)}});function st(){const e=new Map;return{getCache:function(l,h){return e[l]===void 0?e[l]=h:e[l]},getCacheWithFn:function(l,h){return e[l]===void 0?e[l]=h():e[l]}}}const Lt={name:{required:!0},disable:Boolean},pt={setup(e,{slots:l}){return()=>b("div",{class:"q-panel scroll",role:"tabpanel"},ne(l.default))}},Gt={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Et=["update:modelValue","beforeTransition","transition"];function Mt(){const{props:e,emit:l,proxy:h}=oe(),{getCacheWithFn:t}=st();let i,o;const n=q(null),d=q(null);function R(I){const G=e.vertical===!0?"up":"left";L((h.$q.lang.rtl===!0?-1:1)*(I.direction===G?1:-1))}const m=S(()=>[[Pn,R,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),w=S(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),_=S(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),p=S(()=>`--q-transition-duration: ${e.transitionDuration}ms`),f=S(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),P=S(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),E=S(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);me(()=>e.modelValue,(I,G)=>{const j=s(I)===!0?x(I):-1;o!==!0&&y(j===-1?0:j<x(G)?-1:1),n.value!==j&&(n.value=j,l("beforeTransition",I,G),Rt(()=>{l("transition",I,G)}))});function g(){L(1)}function v(){L(-1)}function B(I){l("update:modelValue",I)}function s(I){return I!=null&&I!==""}function x(I){return i.findIndex(G=>G.props.name===I&&G.props.disable!==""&&G.props.disable!==!0)}function T(){return i.filter(I=>I.props.disable!==""&&I.props.disable!==!0)}function y(I){const G=I!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(I===-1?w.value:_.value):null;d.value!==G&&(d.value=G)}function L(I,G=n.value){let j=G+I;for(;j>-1&&j<i.length;){const Z=i[j];if(Z!==void 0&&Z.props.disable!==""&&Z.props.disable!==!0){y(I),o=!0,l("update:modelValue",Z.props.name),setTimeout(()=>{o=!1});return}j+=I}e.infinite===!0&&i.length>0&&G!==-1&&G!==i.length&&L(I,I===-1?i.length:-1)}function Q(){const I=x(e.modelValue);return n.value!==I&&(n.value=I),!0}function W(){const I=s(e.modelValue)===!0&&Q()&&i[n.value];return e.keepAlive===!0?[b(Pt,P.value,[b(E.value===!0?t(f.value,()=>({...pt,name:f.value})):pt,{key:f.value,style:p.value},()=>I)])]:[b("div",{class:"q-panel scroll",style:p.value,key:f.value,role:"tabpanel"},[I])]}function ie(){if(i.length!==0)return e.animated===!0?[b(Xt,{name:d.value},W)]:W()}function X(I){return i=Yt(ne(I.default,[])).filter(G=>G.props!==null&&G.props.slot===void 0&&s(G.props.name)===!0),i.length}function N(){return i}return Object.assign(h,{next:g,previous:v,goTo:B}),{panelIndex:n,panelDirectives:m,updatePanelsList:X,updatePanelIndex:Q,getPanelContent:ie,getEnabledPanels:T,getPanels:N,isValidPanelName:s,keepAliveProps:P,needsUniqueKeepAliveWrapper:E,goToPanelByOffset:L,goToPanel:B,nextPanel:g,previousPanel:v}}var et=le({name:"QTabPanel",props:Lt,setup(e,{slots:l}){return()=>b("div",{class:"q-tab-panel",role:"tabpanel"},ne(l.default))}});const yt=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var An=le({name:"QSlideItem",props:{...Me,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:l,emit:h}){const{proxy:t}=oe(),{$q:i}=t,o=Be(e,i),{getCacheWithFn:n}=st(),d=q(null);let R=null,m={},w={},_={};const p=S(()=>i.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),f=S(()=>"q-slide-item q-item-type overflow-hidden"+(o.value===!0?" q-slide-item--dark q-dark":""));function P(){d.value.style.transform="translate(0,0)"}function E(v,B,s){e.onSlide!==void 0&&h("slide",{side:v,ratio:B,isReset:s})}function g(v){const B=d.value;if(v.isFirst)m={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},B.classList.add("no-transition"),yt.forEach(y=>{if(l[y[0]]!==void 0){const L=_[y[0]];L.style.transform="scale(1)",m.size[y[0]]=L.getBoundingClientRect()[y[3]]}}),m.axis=v.direction==="up"||v.direction==="down"?"Y":"X";else if(v.isFinal){B.classList.remove("no-transition"),m.scale===1?(B.style.transform=`translate${m.axis}(${m.dir*100}%)`,R!==null&&clearTimeout(R),R=setTimeout(()=>{R=null,h(m.showing,{reset:P}),h("action",{side:m.showing,reset:P})},230)):(B.style.transform="translate(0,0)",E(m.showing,0,!0));return}else v.direction=m.axis==="X"?v.offset.x<0?"left":"right":v.offset.y<0?"up":"down";if(l.left===void 0&&v.direction===p.value.right||l.right===void 0&&v.direction===p.value.left||l.top===void 0&&v.direction==="down"||l.bottom===void 0&&v.direction==="up"){B.style.transform="translate(0,0)";return}let s,x,T;m.axis==="X"?(x=v.direction==="left"?-1:1,s=x===1?p.value.left:p.value.right,T=v.distance.x):(x=v.direction==="up"?-2:2,s=x===2?"top":"bottom",T=v.distance.y),!(m.dir!==null&&Math.abs(x)!==Math.abs(m.dir))&&(m.dir!==x&&(["left","right","top","bottom"].forEach(y=>{w[y]&&(w[y].style.visibility=s===y?"visible":"hidden")}),m.showing=s,m.dir=x),m.scale=Math.max(0,Math.min(1,(T-40)/m.size[s])),B.style.transform=`translate${m.axis}(${T*x/Math.abs(x)}px)`,_[s].style.transform=`scale(${m.scale})`,E(s,m.scale,!1))}return Zt(()=>{w={},_={}}),ke(()=>{R!==null&&clearTimeout(R)}),Object.assign(t,{reset:P}),()=>{const v=[],B={left:l[p.value.right]!==void 0,right:l[p.value.left]!==void 0,up:l.bottom!==void 0,down:l.top!==void 0},s=Object.keys(B).filter(T=>B[T]===!0);yt.forEach(T=>{const y=T[0];l[y]!==void 0&&v.push(b("div",{ref:L=>{w[y]=L},class:`q-slide-item__${y} absolute-full row no-wrap items-${T[1]} justify-${T[2]}`+(e[y+"Color"]!==void 0?` bg-${e[y+"Color"]}`:"")},[b("div",{ref:L=>{_[y]=L}},l[y]())]))});const x=b("div",{key:`${s.length===0?"only-":""} content`,ref:d,class:"q-slide-item__content"},ne(l.default));return s.length===0?v.push(x):v.push(Ee(x,n("dir#"+s.join(""),()=>{const T={prevent:!0,stop:!0,mouse:!0};return s.forEach(y=>{T[y]=!0}),[[dn,g,void 0,T]]}))),b("div",{class:f.value},v)}}});const pe=$t({}),In=Object.keys(At);var Vn=le({name:"QExpansionItem",props:{...At,...en,...Me,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...tn,"click","afterShow","afterHide"],setup(e,{slots:l,emit:h}){const{proxy:{$q:t}}=oe(),i=Be(e,t),o=q(e.modelValue!==null?e.modelValue:e.defaultOpened),n=q(null),d=lt(),{show:R,hide:m,toggle:w}=nn({showing:o});let _,p;const f=S(()=>`q-expansion-item q-item-type q-expansion-item--${o.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),P=S(()=>{if(e.contentInsetLevel===void 0)return null;const A=t.lang.rtl===!0?"Right":"Left";return{["padding"+A]:e.contentInsetLevel*56+"px"}}),E=S(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),g=S(()=>{const A={};return In.forEach(J=>{A[J]=e[J]}),A}),v=S(()=>E.value===!0||e.expandIconToggle!==!0),B=S(()=>e.expandedIcon!==void 0&&o.value===!0?e.expandedIcon:e.expandIcon||t.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),s=S(()=>e.disable!==!0&&(E.value===!0||e.expandIconToggle===!0)),x=S(()=>({expanded:o.value===!0,detailsId:e.targetUid,toggle:w,show:R,hide:m})),T=S(()=>{const A=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:t.lang.label[o.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":o.value===!0?"true":"false","aria-controls":d,"aria-label":A}});me(()=>e.group,A=>{p!==void 0&&p(),A!==void 0&&X()});function y(A){E.value!==!0&&w(A),h("click",A)}function L(A){A.keyCode===13&&Q(A,!0)}function Q(A,J){J!==!0&&n.value!==null&&n.value.focus(),w(A),ge(A)}function W(){h("afterShow")}function ie(){h("afterHide")}function X(){_===void 0&&(_=lt()),o.value===!0&&(pe[e.group]=_);const A=me(o,ee=>{ee===!0?pe[e.group]=_:pe[e.group]===_&&delete pe[e.group]}),J=me(()=>pe[e.group],(ee,Ce)=>{Ce===_&&ee!==void 0&&ee!==_&&m()});p=()=>{A(),J(),pe[e.group]===_&&delete pe[e.group],p=void 0}}function N(){const A={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},J=[b(ye,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&o.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:B.value})];return s.value===!0&&(Object.assign(A,{tabindex:0,...T.value,onClick:Q,onKeyup:L}),J.unshift(b("div",{ref:n,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),b(_e,A,()=>J)}function I(){let A;return l.header!==void 0?A=[].concat(l.header(x.value)):(A=[b(_e,()=>[b(ot,{lines:e.labelLines},()=>e.label||""),e.caption?b(ot,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&A[e.switchToggleSide===!0?"push":"unshift"](b(_e,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>b(ye,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&A[e.switchToggleSide===!0?"unshift":"push"](N()),A}function G(){const A={ref:"item",style:e.headerStyle,class:e.headerClass,dark:i.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return v.value===!0&&(A.clickable=!0,A.onClick=y,Object.assign(A,E.value===!0?g.value:T.value)),b(at,A,I)}function j(){return Ee(b("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:P.value,id:d},ne(l.default)),[[ln,o.value]])}function Z(){const A=[G(),b(rt,{duration:e.duration,onShow:W,onHide:ie},j)];return e.expandSeparator===!0&&A.push(b(fe,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:i.value}),b(fe,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:i.value})),A}return e.group!==void 0&&X(),ke(()=>{p!==void 0&&p()}),()=>b("div",{class:f.value},[b("div",{class:"q-expansion-item__container relative-position"},Z())])}}),tt=le({name:"QStepperNavigation",setup(e,{slots:l}){return()=>b("div",{class:"q-stepper__nav"},ne(l.default))}}),Bt=le({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:l}){const{proxy:{$q:h}}=oe(),t=q(null),i=S(()=>e.stepper.modelValue===e.step.name),o=S(()=>{const g=e.step.disable;return g===!0||g===""}),n=S(()=>{const g=e.step.error;return g===!0||g===""}),d=S(()=>{const g=e.step.done;return o.value===!1&&(g===!0||g==="")}),R=S(()=>{const g=e.step.headerNav,v=g===!0||g===""||g===void 0;return o.value===!1&&e.stepper.headerNav&&v}),m=S(()=>e.step.prefix&&(i.value===!1||e.stepper.activeIcon==="none")&&(n.value===!1||e.stepper.errorIcon==="none")&&(d.value===!1||e.stepper.doneIcon==="none")),w=S(()=>{const g=e.step.icon||e.stepper.inactiveIcon;if(i.value===!0){const v=e.step.activeIcon||e.stepper.activeIcon;return v==="none"?g:v||h.iconSet.stepper.active}if(n.value===!0){const v=e.step.errorIcon||e.stepper.errorIcon;return v==="none"?g:v||h.iconSet.stepper.error}if(o.value===!1&&d.value===!0){const v=e.step.doneIcon||e.stepper.doneIcon;return v==="none"?g:v||h.iconSet.stepper.done}return g}),_=S(()=>{const g=n.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(i.value===!0){const v=e.step.activeColor||e.stepper.activeColor||e.step.color;return v!==void 0?v:g}return g!==void 0?g:o.value===!1&&d.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),p=S(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(_.value!==void 0?` text-${_.value}`:"")+(n.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(m.value===!0?"prefix":"icon"):"")+(i.value===!0?" q-stepper__tab--active":"")+(d.value===!0?" q-stepper__tab--done":"")+(R.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(o.value===!0?" q-stepper__tab--disabled":"")),f=S(()=>e.stepper.headerNav!==!0?!1:R.value);function P(){t.value!==null&&t.value.focus(),i.value===!1&&e.goToPanel(e.step.name)}function E(g){g.keyCode===13&&i.value===!1&&e.goToPanel(e.step.name)}return()=>{const g={class:p.value};R.value===!0&&(g.onClick=P,g.onKeyup=E,Object.assign(g,o.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:l.tabindex||0}));const v=[b("div",{class:"q-focus-helper",tabindex:-1,ref:t}),b("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[b("span",{class:"row flex-center"},[m.value===!0?e.step.prefix:b(ye,{name:w.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const B=[b("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&B.push(b("div",{class:"q-stepper__caption"},e.step.caption)),v.push(b("div",{class:"q-stepper__label q-stepper__line relative-position"},B))}return Ee(b("div",g,v),[[qt,f.value]])}}});function Dt(e){return b("div",{class:"q-stepper__step-content"},[b("div",{class:"q-stepper__step-inner"},ne(e.default))])}const St={setup(e,{slots:l}){return()=>Dt(l)}};var nt=le({name:"QStep",props:{...Lt,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:l,emit:h}){const{proxy:{$q:t}}=oe(),i=xt(It,xe);if(i===xe)return console.error("QStep needs to be a child of QStepper"),xe;const{getCacheWithFn:o}=st(),n=q(null),d=S(()=>i.value.modelValue===e.name),R=S(()=>t.platform.is.ios!==!0&&t.platform.is.chrome===!0||d.value!==!0||i.value.vertical!==!0?{}:{onScroll(_){const{target:p}=_;p.scrollTop>0&&(p.scrollTop=0),e.onScroll!==void 0&&h("scroll",_)}}),m=S(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function w(){const _=i.value.vertical;return _===!0&&i.value.keepAlive===!0?b(Pt,i.value.keepAliveProps.value,d.value===!0?[b(i.value.needsUniqueKeepAliveWrapper.value===!0?o(m.value,()=>({...St,name:m.value})):St,{key:m.value},l.default)]:void 0):_!==!0||d.value===!0?Dt(l):void 0}return()=>b("div",{ref:n,class:"q-stepper__step",role:"tabpanel",...R.value},i.value.vertical===!0?[b(Bt,{stepper:i.value,step:e,goToPanel:i.value.goToPanel}),i.value.animated===!0?b(rt,w):w()]:[w()])}});const Ln=/(-\w)/g;function Gn(e){const l={};for(const h in e){const t=h.replace(Ln,i=>i[1].toUpperCase());l[t]=e[h]}return l}var En=le({name:"QStepper",props:{...Me,...Gt,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Et,setup(e,{slots:l}){const h=oe(),t=Be(e,h.proxy.$q),{updatePanelsList:i,isValidPanelName:o,updatePanelIndex:n,getPanelContent:d,getPanels:R,panelDirectives:m,goToPanel:w,keepAliveProps:_,needsUniqueKeepAliveWrapper:p}=Mt();it(It,S(()=>({goToPanel:w,keepAliveProps:_,needsUniqueKeepAliveWrapper:p,...e})));const f=S(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(t.value===!0?" q-stepper--dark q-dark":"")),P=S(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function E(){const g=ne(l.message,[]);if(e.vertical===!0){o(e.modelValue)&&n();const v=b("div",{class:"q-stepper__content"},ne(l.default));return g===void 0?[v]:g.concat(v)}return[b("div",{class:P.value},R().map(v=>{const B=Gn(v.props);return b(Bt,{key:B.name,stepper:e,step:B,goToPanel:w})})),g,Vt("div",{class:"q-stepper__content q-panel-parent"},d(),"cont",e.swipeable,()=>m.value)]}return()=>(i(l),b("div",{class:f.value},wt(l.navigation,E())))}}),Mn=le({name:"QTabPanels",props:{...Gt,...Me},emits:Et,setup(e,{slots:l}){const h=oe(),t=Be(e,h.proxy.$q),{updatePanelsList:i,getPanelContent:o,panelDirectives:n}=Mt(),d=S(()=>"q-tab-panels q-panel-parent"+(t.value===!0?" q-tab-panels--dark q-dark":""));return()=>(i(l),Vt("div",{class:d.value},o(),"pan",e.swipeable,()=>n.value))}});const Bn={name:"goalsPage",setup(){const e=q(!1),l=q(!1),h=q(!1),t=q(1),i=q(null),o=q(null),n=q(null),d=q(""),R=q(""),m=q(""),w=q([]),_=q(""),p=q(3),f=q(15),P=q(""),E=q(null),g=q(!1),v=q(!1),B=q(!1),s=q("line"),x=q(null),T=q(null),y=q(null),L=q(null),Q=q({}),W=q("Submit"),ie=q("GList"),X=hn(),N=pn();let I,G=null;const j=S(()=>y.value),Z=S(()=>s.value!=="main"),A=S(()=>h.value?"Import":"Finish");on(()=>{T.value=y.value}),rn(()=>{ee()}),ke(()=>{clearTimeout(I)});function J(){return s.value==="line"?"Reset ALL":`Reset ${s.value}`}function ee(){let C=(r,M)=>{if(r.id>M.id)return 1;if(r.id==M.id)return 0;if(r.id<M.id)return-1};y.value=N.getMainGoals,L.value=N.getSubGoals;let a=[];y.value&&y.value.forEach(r=>{Q[r.id]=Q[r.id]||!1,a.push(r.bgcolor)});let u=bn();w.value=u.filter(r=>!a.find(M=>M==r)),y.value.sort(C)}function Ce(){t.value=1,l.value=!0,h.value=!1,i.value=JSON.stringify(y.value,null,1),o.value=JSON.stringify(L.value,null,1),n.value=JSON.stringify(N.getAllDates,null,1)}function ue(){if(l.value=!0,h.value){if(!o.value||o.value==""||!i.value||i.value==""){console.log("ERROR::importing empty!"),K("Something is empty :(");return}let C=null,a=null,u=null;try{C=JSON.parse(i.value);let r=[];for(let M in C){let V=C[M];"id"in V&&"title"in V&&"priority"in V||(console.log("ERROR::invalid Parent Goal!",V),r.push(`:INVALID pGoal >> ${JSON.stringify(V)}`))}if(r.length>0)throw r;console.log("Yeee!! PGoals are good!")}catch(r){r instanceof SyntaxError?console.log("ERROR:: MainG SyntaxError!",r):console.log("ERROR:: MainG dataError!",r),K("Error with Parent goals :(...check logs");return}try{a=JSON.parse(o.value);let r=[];for(let M in a){let V=a[M];"id"in V&&"parentGoal"in V&&"title"in V&&"score"in V&&"duration"in V||(console.log("ERROR::invalid subGoal!",V),r.push(`:INVALID subGoal >> ${JSON.stringify(V)}`))}if(r.length>0)throw r;console.log("Yeee!! subGoals are good!")}catch(r){r instanceof SyntaxError?console.log("ERROR:: subG SyntaxError!",r):console.log("ERROR:: subGoals dataError!",r),K("Error with Sub goals :(...check logs");return}if(n.value&&n.value!="")try{u=JSON.parse(n.value)}catch(r){r instanceof SyntaxError&&console.log("ERROR:: allS SyntaxError!",r),K("Error parsing AllEvents...skipping!")}console.log("importing...",C,a,u),N.importGoals(C,a,u),this.doPrint()}else console.log("finished prolly?....."),l.value=!1,this.resetBoxes()}function ce(){i.value=null,o.value=null,n.value=null,console.log("resetBoxes!!")}function Te(){s.value==="main"?X.dialog({title:"Warning",cancel:!0,message:"Reset all Parent Goals? remove subGoals as well!"}).onOk(()=>{N.resetMain(),N.resetSub(),K("Reset All Goals","top","thumb_up","positive")}).onCancel(()=>{console.log("Cancelled!!")}):s.value==="sub"?(N.resetSub(),K("Reset Sub Goals","top","thumb_up","positive")):X.dialog({title:"Warning",cancel:!0,message:"Reset all goals?"}).onOk(()=>{N.resetAll(),K("Reset ALL","top","thumb_up","positive")}).onCancel(()=>{console.log("Cancelled!!")})}function Re(){let C=W.value==="Save"?"Save":"Add";if(C==="Save")Ue();else{if(d.value.trim()==""){K("Cannot have an empty goal!");return}if(s.value==="main")N.addMainGoal(d.value,R.value,m.value,p.value);else if(x.value){let a=x.value;N.addSubGoal(a.id,d.value,P.value,_.value,f.value,g.value,v.value,B.value,E.value),console.log("Subgoal Goal added for parent:",a.title),Q.value[a.id]=!0}else{K("A sub goal must have a parent goal"),qe();return}}X.notify({color:"positive",position:"top",message:`Success ${C} for "${d.value}"`,icon:"thumb_up"}),We()}function Pe(C){return this.getSubGoals(C).length>0}function ae(C){const a=[];return L.value&&L.value.forEach(u=>{u.parentGoal==C&&a.push(u)}),a}function De({evt:C,...a},u,r){console.log("onSwipeAction",C,a,u,r)}function Qe({reset:C},a,u){C(),N.removeSubgoal(a),Q.value[u]=!1,X.notify("Delete action triggered for:"+a)}function Oe({reset:C},a,u){let r=L.value.find(V=>V.id==a),M=y.value.find(V=>V.id==u);r&&M?(W.value="Save",s.value="sub",d.value=r.title,x.value=M,_.value=r.time,P.value=r.score,f.value=parseInt(r.duration),g.value=r.canMove,v.value=r.inDefaults,B.value=r.isAlternative,E.value=r.jeSuis,ie.value="Goal",G=a):(K(`ERROR during edit action for ${a} and ${u}...not found!`),console.log(`ERROR could not find all info for ${a} and ${u}`)),Q.value[u]=!0}function Ae(C,a,u){if(console.log(`onParentAction:${C} for> ${a}`,u),C=="del")X.dialog({title:"Warning",cancel:!0,message:`Delete Parent Goal "${u}" ?`}).onOk(()=>{N.removeMaingoal(a,!1),ee()}).onCancel(()=>{console.log("Cancelled!!"),Q.value[a]=!1});else if(C=="edit"){let r=y.value.find(M=>M.id==a);r?(W.value="Save",s.value="main",x.value=r,d.value=r.title,R.value=r.details,m.value=r.bgcolor,p.value=r.priority,G=a):(K(`ERROR during edit action for Goal: '${u}'...not found!`),console.log(`ERROR No info for ${a} '${u}' to edit!!`))}else console.log("ERROR...unknow action!"),Q.value[a]=!1}function Ne(){G?N.editSubGoal(G,d.value,P.value,_.value,f.value,g.value,v.value,B.value,E.value):K("ERROR: No subgoalId to edit found!")}function Ue(){let C=x.value;s.value==="main"?G&&(C==null?void 0:C.id)==G?(N.editMainGoal(G,d.value,R.value,m.value,p.value),Q.value[C==null?void 0:C.id]=!1):console.log("Error when Edit Parent Goal...inconsistent or not found!",G,C):(Ne(),Q.value[C==null?void 0:C.id]=!1),W.value="Submit"}function Fe(C){setTimeout(()=>{Se(),console.log("Refreshing..."),C()},1e3)}function Se(){y.value=N.getMainGoals,L.value=N.getSubGoals}function qe(){d.value=d.value||" ",p.value=p.value||3,_.value=_.value||"",f.value=f.value||15,R.value=R.value||"",m.value=m.value||"",g.value=g.value||!1,v.value=v.value||!1,console.log("softResetting...with label as>>",W.value)}function We(){d.value=" ",p.value=3,P.value="",_.value="",f.value=15,x.value=null,R.value="",m.value="",g.value=!1,v.value=!1,B.value=!1,E.value=null,G=null,ee(),ie.value="GList",console.log("hardReset...")}function je(C){return C?"text-white bg-"+C.toLocaleLowerCase():"bg-white"}function Ie(C){return`${C}${(u=>{if(!u)return"";let r=u.split(":");return parseInt(r[0])>=12?"PM":"AM"})(C)}`}function K(C,a="top",u=null,r="negative"){X.notify({color:r,position:a,message:C,icon:u==null?"report_problem":u})}return{enableAdmin:e,step:t,mainGJson:i,subGJson:o,allJson:n,isImporting:h,AdminLabel:A,showGoalsArea:l,showSubG:Z,mainGoals:y,subGoals:L,allMGoals:j,howThis:T,expanded:Q,buttonLabel:W,tab:ie,moods:E,goalTitle:d,details:R,bgcolor:m,time:_,priority:p,duration:f,score:P,canMove:g,goalType:s,pGoal:x,inDefaults:v,avColors:w,isAlternative:B,hasSubG:Pe,resetLabel:J,doPrint:Ce,doReset:Te,doImport:ue,resetBoxes:ce,onSubmit:Re,getSubGoals:ae,onSwipeAction:De,onRightDelete:Qe,onLeftEdit:Oe,softReset:qe,onParentAction:Ae,refresh:Fe,classyHeader:je,niceyLabel:Ie}}},Dn={class:"page page--table q-pa-md"},Qn={class:"q-gutter-md",style:{"max-width":"600px"}},On={class:"q-gutter-sm"},Nn={key:0,class:"q-gutter-md"},Un={key:2,class:"q-gutter-md"},Fn=Y("br",null,null,-1),Wn={key:3,class:"q-gutter-sm"},jn=Y("br",null,null,-1),Jn=Y("br",null,null,-1),Kn=Y("br",null,null,-1),Hn=Y("br",null,null,-1),zn=Y("br",null,null,-1),Xn=Y("br",null,null,-1),Yn=Y("br",null,null,-1),Zn={key:0,class:"column justify-center items-center"},$n={class:"q-pa-lg",align:"center"},el={key:0},tl={key:0,class:"q-pa-md"},nl={key:0,class:"q-pa-md"},ll={key:1},al={key:0,class:"q-pa-md"},ol={key:1},il={key:0,class:"q-pa-md"},rl={key:1},sl={class:"row justify-center q-pa-md"};function ul(e,l,h,t,i,o){return U(),z("main",Dn,[c(vn,{onRefresh:t.refresh},{default:k(()=>[Y("div",Qn,[c(kn,{modelValue:t.tab,"onUpdate:modelValue":l[0]||(l[0]=n=>t.tab=n),dense:"","active-color":"primary","indicator-color":"purple",align:"justify"},{default:k(()=>[c($e,{name:"GList",label:"All Goals"}),c($e,{name:"Goal",label:"Add/Update"}),c($e,{name:"Admin",label:"Admin Stuff",disable:!t.enableAdmin},null,8,["disable"])]),_:1},8,["modelValue"]),c(Mn,{modelValue:t.tab,"onUpdate:modelValue":l[26]||(l[26]=n=>t.tab=n),animated:""},{default:k(()=>[c(et,{name:"Goal"},{default:k(()=>[c(Tn,{onSubmit:t.onSubmit,class:"q-gutter-md form"},{default:k(()=>[Y("div",On,[c(dt,{modelValue:t.goalType,"onUpdate:modelValue":l[1]||(l[1]=n=>t.goalType=n),onClick:t.softReset,class:"q-pa-md","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"main",label:"Main goal"},null,8,["modelValue","onClick"]),c(dt,{modelValue:t.goalType,"onUpdate:modelValue":l[2]||(l[2]=n=>t.goalType=n),onClick:t.softReset,class:"q-pa-md","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"sub",label:"Sub goal"},null,8,["modelValue","onClick"])]),c(ve,{class:"q-gutter-md",filled:"",modelValue:t.goalTitle,"onUpdate:modelValue":l[3]||(l[3]=n=>t.goalTitle=n),label:"A Goal","lazy-rules":"","item-aligned":"",rules:[n=>n&&n.length>0||"Please type a goal"]},null,8,["modelValue","rules"]),t.showSubG?(U(),z("div",Nn,[c(Ye,{modelValue:t.pGoal,"onUpdate:modelValue":l[4]||(l[4]=n=>t.pGoal=n),options:t.mainGoals,"option-value":"id","option-label":"title",label:"Parent Goal","popup-content-class":"q-px-md"},null,8,["modelValue","options"])])):(U(),be(ve,{key:1,filled:"",modelValue:t.details,"onUpdate:modelValue":l[5]||(l[5]=n=>t.details=n),label:"Description/Details"},null,8,["modelValue"])),t.showSubG?se("",!0):(U(),z("div",Un,[c(Ye,{modelValue:t.bgcolor,"onUpdate:modelValue":l[6]||(l[6]=n=>t.bgcolor=n),options:t.avColors,color:t.bgcolor,label:"Color","popup-content-class":"q-px-md"},null,8,["modelValue","options","color"]),Fn,c(ve,{filled:"",modelValue:t.priority,"onUpdate:modelValue":l[7]||(l[7]=n=>t.priority=n),modelModifiers:{number:!0},type:"number",label:"Priority",hint:"0 to 10"},null,8,["modelValue"])])),t.showSubG?(U(),z("div",Wn,[c(ve,{modelValue:t.time,"onUpdate:modelValue":l[8]||(l[8]=n=>t.time=n),filled:"",type:"time",hint:"Default time"},null,8,["modelValue"]),jn,c(ve,{modelValue:t.score,"onUpdate:modelValue":l[9]||(l[9]=n=>t.score=n),filled:"",label:"Score",hint:"format: #on#","lazy-rules":"",rules:[n=>n&&n.match(/^\don\d$/g)&&n.length>3||"hint, hint!"]},null,8,["modelValue","rules"]),Jn,c(Ye,{label:"Moods: 'je-suis'",filled:"",modelValue:t.moods,"onUpdate:modelValue":l[10]||(l[10]=n=>t.moods=n),"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",style:{width:"100%"}},{"selected-item":k(n=>[c(fn,{removable:"",dense:"",onRemove:d=>n.removeAtIndex(n.index),tabindex:n.tabindex,"text-color":"black",class:"q-ma-none",style:{width:"100px"}},{default:k(()=>[F(te(n.opt),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue"]),Kn,F(" Duration (min) "),c(mn,{min:5,max:120,thickness:.22,step:5,modelValue:t.duration,"onUpdate:modelValue":l[11]||(l[11]=n=>t.duration=n),"show-value":"",size:"75px",color:"teal","track-color":"grey-3",class:"q-ma-md"},null,8,["thickness","modelValue"]),Hn,c(Le,{modelValue:t.canMove,"onUpdate:modelValue":l[12]||(l[12]=n=>t.canMove=n),label:"Can Move","left-label":"",color:"green"},{default:k(()=>[c(Ze,{color:"orange",floating:"",style:{top:"5px",position:"relative",width:"10px","max-width":"10px",height:"10px","max-height":"10px","padding-inline":"3px 6px",cursor:"pointer"}},{default:k(()=>[F(" ? "),c(Ge,null,{default:k(()=>[F("Have to confirm any timeslot change")]),_:1})]),_:1})]),_:1},8,["modelValue"]),zn,c(Le,{modelValue:t.inDefaults,"onUpdate:modelValue":l[13]||(l[13]=n=>t.inDefaults=n),label:"In Defaults","left-label":"",color:"blue"},{default:k(()=>[c(Ze,{color:"orange",floating:"",style:{top:"5px",position:"relative",width:"10px","max-width":"10px",height:"10px","max-height":"10px","padding-inline":"3px 6px",cursor:"pointer"}},{default:k(()=>[F(" ? "),c(Ge,null,{default:k(()=>[F("Is Default--Needs to get done!")]),_:1})]),_:1})]),_:1},8,["modelValue"]),Xn,t.duration<30?(U(),be(Le,{key:0,modelValue:t.isAlternative,"onUpdate:modelValue":l[14]||(l[14]=n=>t.isAlternative=n),label:"As Alternative","left-label":"",color:"blue"},{default:k(()=>[c(Ze,{color:"orange",floating:"",style:{top:"5px",position:"relative",width:"10px","max-width":"10px",height:"10px","max-height":"10px","padding-inline":"3px 6px",cursor:"pointer"}},{default:k(()=>[F(" ? "),c(Ge,null,{default:k(()=>[F("Can be scheduled as an alternative")]),_:1})]),_:1})]),_:1},8,["modelValue"])):se("",!0)])):se("",!0),Y("div",null,[c($,{label:t.buttonLabel,type:"submit",color:"primary",class:"q-ml-sm",align:"between"},null,8,["label"])])]),_:1},8,["onSubmit"])]),_:1}),c(et,{name:"GList"},{default:k(()=>[c(yn,{bordered:""},{default:k(()=>[c(at,null,{default:k(()=>[c(_e,null,{default:k(()=>[c(ot,{overline:"",class:"q-mx-lg q-px-md row justify-center",style:{"max-width":"100%","font-weight":"bolder"}},{default:k(()=>[F("Swipe to Edit or Delete Goal")]),_:1})]),_:1})]),_:1}),c(fe,{spaced:""}),c(sn,{name:"dalist"},{default:k(()=>[(U(!0),z(vt,null,ft(t.allMGoals,n=>(U(),be(Vn,{class:"q-my-sm",modelValue:t.expanded[n.id],"onUpdate:modelValue":d=>t.expanded[n.id]=d,key:n.id,label:n.title,caption:n.details,popup:"",expandSeparator:"","header-class":t.classyHeader(n==null?void 0:n.bgcolor),clickable:""},{default:k(()=>[(U(!0),z(vt,null,ft(t.getSubGoals(n.id),d=>(U(),be(he,{key:d.id},{default:k(()=>{var R;return[c(An,{onRight:m=>t.onRightDelete(m,d.id,n.id),onLeft:m=>t.onLeftEdit(m,d.id,n.id)},{left:k(()=>[F(" Edit ")]),right:k(()=>[F(" Delete ")]),default:k(()=>[c(at,null,{default:k(()=>[c(_e,{class:"q-mx-sm"},{default:k(()=>[F(te(d.title)+" > "+te(t.niceyLabel(d.time))+" ("+te(d.duration)+") ",1)]),_:2},1024),c(_e,{class:"q-mx-*"},{default:k(()=>[F(te(d.score)+" :: "+te(d.canMove?"canMove":"NoMoves")+" :: "+te(d.inDefaults?"InDefaults":"NotADefault")+" :: "+te(d.isAlternative?"Alt":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onRight","onLeft"]),c(fe,{color:(R=n==null?void 0:n.bgcolor)==null?void 0:R.toLocaleLowerCase()},null,8,["color"])]}),_:2},1024))),128)),t.hasSubG(n.id)?se("",!0):(U(),be(he,{key:0},{default:k(()=>[c($,{label:"Delete goal",type:"reset",color:"secondary",noWrap:"",push:"",align:"evenly",class:"q-mx-sm",onClick:mt(d=>t.onParentAction("del",n.id,n.title),["prevent"])},null,8,["onClick"]),F(" OR "),c($,{label:"Edit goal",type:"reset",color:"primary",noWrap:"",push:"",align:"evenly",class:"q-mx-sm",onClick:mt(d=>t.onParentAction("edit",n.id,n.title),["prevent"])},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue","label","caption","header-class"]))),128))]),_:1})]),_:1}),Yn,Object.keys(t.allMGoals).length<=0?(U(),z("div",Zn,[c(he,null,{default:k(()=>[F(" 1. Add some Goals first. A schedulable goal is one with a parent Goal--can have multiple related goals with the same parent. ")]),_:1}),c(fe),c(he,null,{default:k(()=>[F(" 2. Go to Schedule to see a daily schedule. Drag scheduled events to new timeslots or click in calendar to add an event. ")]),_:1}),c(fe),c(he,null,{default:k(()=>[F(" 3. Reload a saved daily schedule or defaults or choose minimal score events to schedule. Fix any scheduling conflicts. ")]),_:1}),c(fe),c(he,null,{default:k(()=>[F(" 4. Save the daily schedule (dont forget to update their score as needed!) ")]),_:1}),c(fe),c(he,null,{default:k(()=>[F(" 5. Check out the summary of all goals here! ")]),_:1})])):se("",!0),Y("div",$n,[F(" *Note* Goals named the same can be auto-scheduled!"),c(Ge,null,{default:k(()=>[F("Title names are substring/included of/in each other")]),_:1})]),c(Le,{modelValue:t.enableAdmin,"onUpdate:modelValue":l[15]||(l[15]=n=>t.enableAdmin=n),label:"Enable Admin",color:"teal",class:"q-pa-sm",align:"center"},null,8,["modelValue"])]),_:1}),c(et,{name:"Admin"},{default:k(()=>[c(rt,null,{default:k(()=>[t.enableAdmin?(U(),z("div",el,[t.showGoalsArea?(U(),z("div",tl,[t.isImporting&&t.mainGJson&&t.mainGJson!=""&&t.subGJson&&t.subGJson!=""?(U(),be($,{key:0,label:"Reset",push:"",color:"white","text-color":"primary",onClick:t.doPrint,class:"q-px-md"},null,8,["onClick"])):se("",!0),c(En,{modelValue:t.step,"onUpdate:modelValue":l[24]||(l[24]=n=>t.step=n),"header-nav":"",ref:"stepper",color:"primary",animated:""},{default:k(()=>[c(nt,{name:1,title:"Main Goals",icon:"settings",done:t.step>1,"header-nav":t.step>1,error:t.step>1&&t.mainGJson==null},{default:k(()=>[t.isImporting?(U(),z("div",nl,[c(ve,{modelValue:t.mainGJson,"onUpdate:modelValue":l[16]||(l[16]=n=>t.mainGJson=n),filled:"",type:"textarea",autogrow:""},null,8,["modelValue"])])):(U(),z("div",ll,te(t.mainGJson),1)),c(tt,null,{default:k(()=>[c($,{onClick:l[17]||(l[17]=()=>{e.done1=!0,t.step=2}),noWrap:"",align:"around",color:"primary",label:"SubGoals->"})]),_:1})]),_:1},8,["done","header-nav","error"]),c(nt,{name:2,title:"SubGoals",icon:"create_new_folder",done:t.step>2,"header-nav":t.step>2,error:t.step>2&&t.subGJson==null},{default:k(()=>[t.isImporting?(U(),z("div",al,[c(ve,{modelValue:t.subGJson,"onUpdate:modelValue":l[18]||(l[18]=n=>t.subGJson=n),filled:"",type:"textarea",autogrow:""},null,8,["modelValue"])])):(U(),z("div",ol,te(t.subGJson),1)),c(tt,null,{default:k(()=>[c($,{onClick:l[19]||(l[19]=()=>{e.done2=!0,t.step=3}),noWrap:"",align:"around",color:"primary",label:"AllScheduled->"}),c($,{flat:"",onClick:l[20]||(l[20]=n=>t.step=1),noWrap:"",align:"around",color:"primary",label:"Back",class:"q-ml-sm"})]),_:1})]),_:1},8,["done","header-nav","error"]),c(nt,{name:3,title:"All Dates",caption:"Optional",icon:"add_comment","header-nav":t.step>3},{default:k(()=>[t.isImporting?(U(),z("div",il,[c(ve,{modelValue:t.allJson,"onUpdate:modelValue":l[21]||(l[21]=n=>t.allJson=n),filled:"",type:"textarea",autogrow:""},null,8,["modelValue"])])):(U(),z("div",rl,te(t.allJson),1)),c(tt,null,{default:k(()=>[c($,{color:"primary",onClick:l[22]||(l[22]=()=>{e.done3=!0,t.doImport()}),label:t.AdminLabel,noWrap:"",align:"around"},null,8,["label"]),c($,{flat:"",onClick:l[23]||(l[23]=n=>t.step=2),noWrap:"",align:"around",color:"primary",label:"Back",class:"q-ml-sm"})]),_:1})]),_:1},8,["header-nav"])]),_:1},8,["modelValue"])])):se("",!0),Y("div",sl,[c($,{class:"q-mt-md",color:"white","text-color":"blue",elevated:"",label:"Print","no-caps":"",align:"around",onClick:t.doPrint},null,8,["onClick"]),c(ht),c($,{class:"q-mt-md",color:"white","text-color":"red",elevated:"",align:"around","no-wrap":"","no-caps":"",label:t.resetLabel(),onClick:t.doReset},null,8,["label","onClick"]),c(ht),t.isImporting?se("",!0):(U(),be($,{key:0,class:"q-mt-md",color:"white","text-color":"red",elevated:"",align:"around",label:"Import","no-caps":"",onClick:l[25]||(l[25]=()=>{t.showGoalsArea=!0,t.isImporting=!0,t.step=1})}))])])):se("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["onRefresh"])])}var yl=an(Bn,[["render",ul]]);export{yl as default};
