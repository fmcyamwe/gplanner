import{j as Me,U as Be,W as ke,r as C,c as F,w as ge,n as $e,h as Y,k as le,aK as Le,D as xe,g as Ge,aC as Ve,ad as se,v as Ie,aD as Fe,aa as K,aF as Se,ab as ne,Z as je,_ as He,$ as j,L as G,E as w,F as V,G as N,M as _,H as R,O as P,I as M,N as pe,K as $,J as H,a1 as qe,Q as ve,a2 as X,bb as ze,P as ye,R as W,a5 as Q,a4 as q,aQ as ae,f as Je,a6 as Ue,a7 as We}from"./index.8c8e6158.js";import{d as re,w as J,j as de,a as Qe,b as Ye,Q as Z,c as be}from"./utiFunc.ac4b7097.js";import{T as Ke,Q as Xe,a as Ze}from"./TouchPan.1ebb2fcb.js";import{t as oe,E as Ee,b as k,a as D,p as L,i as ee,c as he,d as x,U as I,V as et,m as ce,l as z,Q as tt,e as ot}from"./QCalendarTask.fef7ec7e.js";import{a as it}from"./QCalendar.36abdc66.js";/* empty css                             */import{u as lt,a as st}from"./goalStorage.fe981a66.js";import"./QItem.fbefacd4.js";var Oe=Me({name:"QSplitter",props:{...Be,modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:l=>["%","px"].includes(l)},limits:{type:Array,validator:l=>l.length!==2||typeof l[0]!="number"||typeof l[1]!="number"?!1:l[0]>=0&&l[0]<=l[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]},emits:["update:modelValue"],setup(l,{slots:e,emit:t}){const{proxy:{$q:o}}=Ge(),i=ke(l,o),s=C(null),n={before:C(null),after:C(null)},a=F(()=>`q-splitter no-wrap ${l.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${l.disable===!0?"disabled":"workable"}`+(i.value===!0?" q-splitter--dark":"")),r=F(()=>l.horizontal===!0?"height":"width"),f=F(()=>l.reverse!==!0?"before":"after"),g=F(()=>l.limits!==void 0?l.limits:l.unit==="%"?[10,90]:[50,1/0]);function S(h){return(l.unit==="%"?h:Math.round(h))+l.unit}const b=F(()=>({[f.value]:{[r.value]:S(l.modelValue)}}));let c,v,O,y,d;function u(h){if(h.isFirst===!0){const A=s.value.getBoundingClientRect()[r.value];c=l.horizontal===!0?"up":"left",v=l.unit==="%"?100:A,O=Math.min(v,g.value[1],Math.max(g.value[0],l.modelValue)),y=(l.reverse!==!0?1:-1)*(l.horizontal===!0?1:o.lang.rtl===!0?-1:1)*(l.unit==="%"?A===0?0:100/A:1),s.value.classList.add("q-splitter--active");return}if(h.isFinal===!0){d!==l.modelValue&&t("update:modelValue",d),s.value.classList.remove("q-splitter--active");return}const m=O+y*(h.direction===c?-1:1)*h.distance[l.horizontal===!0?"y":"x"];d=Math.min(v,g.value[1],Math.max(g.value[0],m)),n[f.value].value.style[r.value]=S(d),l.emitImmediately===!0&&l.modelValue!==d&&t("update:modelValue",d)}const p=F(()=>[[Ke,u,void 0,{[l.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function E(h,m){h<m[0]?t("update:modelValue",m[0]):h>m[1]&&t("update:modelValue",m[1])}return ge(()=>l.modelValue,h=>{E(h,g.value)}),ge(()=>l.limits,()=>{$e(()=>{E(l.modelValue,g.value)})}),()=>{const h=[Y("div",{ref:n.before,class:["q-splitter__panel q-splitter__before"+(l.reverse===!0?" col":""),l.beforeClass],style:b.value.before},le(e.before)),Y("div",{class:["q-splitter__separator",l.separatorClass],style:l.separatorStyle,"aria-disabled":l.disable===!0?"true":void 0},[Le("div",{class:"q-splitter__separator-area absolute-full"},le(e.separator),"sep",l.disable!==!0,()=>p.value)]),Y("div",{ref:n.after,class:["q-splitter__panel q-splitter__after"+(l.reverse===!0?"":" col"),l.afterClass],style:b.value.after},le(e.after))];return Y("div",{class:a.value,ref:s},xe(e.default,h))}}}),nt=Ve({name:"touch-hold",beforeMount(l,e){const{modifiers:t}=e;if(t.mouse!==!0&&se.has.touch!==!0)return;const o={handler:e.value,noop:Ie,mouseStart(s){typeof o.handler=="function"&&Fe(s)===!0&&(K(o,"temp",[[document,"mousemove","move","passiveCapture"],[document,"click","end","notPassiveCapture"]]),o.start(s,!0))},touchStart(s){if(s.target!==void 0&&typeof o.handler=="function"){const n=s.target;K(o,"temp",[[n,"touchmove","move","passiveCapture"],[n,"touchcancel","end","notPassiveCapture"],[n,"touchend","end","notPassiveCapture"]]),o.start(s)}},start(s,n){o.origin=Se(s);const a=Date.now();se.is.mobile===!0&&(document.body.classList.add("non-selectable"),re(),o.styleCleanup=r=>{o.styleCleanup=void 0;const f=()=>{document.body.classList.remove("non-selectable")};r===!0?(re(),setTimeout(f,10)):f()}),o.triggered=!1,o.sensitivity=n===!0?o.mouseSensitivity:o.touchSensitivity,o.timer=setTimeout(()=>{o.timer=void 0,re(),o.triggered=!0,o.handler({evt:s,touch:n!==!0,mouse:n===!0,position:o.origin,duration:Date.now()-a})},o.duration)},move(s){const{top:n,left:a}=Se(s);o.timer!==void 0&&(Math.abs(a-o.origin.left)>=o.sensitivity||Math.abs(n-o.origin.top)>=o.sensitivity)&&(clearTimeout(o.timer),o.timer=void 0)},end(s){ne(o,"temp"),o.styleCleanup!==void 0&&o.styleCleanup(o.triggered),o.triggered===!0?s!==void 0&&je(s):o.timer!==void 0&&(clearTimeout(o.timer),o.timer=void 0)}},i=[600,5,7];if(typeof e.arg=="string"&&e.arg.length>0&&e.arg.split(":").forEach((s,n)=>{const a=parseInt(s,10);a&&(i[n]=a)}),[o.duration,o.touchSensitivity,o.mouseSensitivity]=i,l.__qtouchhold=o,t.mouse===!0){const s=t.mouseCapture===!0||t.mousecapture===!0?"Capture":"";K(o,"main",[[l,"mousedown","mouseStart",`passive${s}`]])}se.has.touch===!0&&K(o,"main",[[l,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[l,"touchend","noop","notPassiveCapture"]])},updated(l,e){const t=l.__qtouchhold;t!==void 0&&e.oldValue!==e.value&&(typeof e.value!="function"&&t.end(),t.handler=e.value)},beforeUnmount(l){const e=l.__qtouchhold;e!==void 0&&(ne(e,"main"),ne(e,"temp"),e.timer!==void 0&&clearTimeout(e.timer),e.styleCleanup!==void 0&&e.styleCleanup(),delete l.__qtouchhold)}});const at=()=>!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let U,B;function rt(){U={},B=lt()}function dt(){U.pGoalsMap==null;const l=new Map;let e=Pe();return e?(e.forEach(t=>{l.set(t.id,t)}),U.pGoalsMap=l,l):(console.log("Repo:: parentGoalsMap is empty or null",e),l)}function ht(l){return B.hasEventsForDate(l)}function De(l){return B.getEventsForDate(l)}function Pe(){return B.getMainGoals}function ct(){return U.subGoals==null&&(U.subGoals=B.getSubGoals),U.subGoals}function ut(){return B.fetchAlternativeEvts()}function ft(){return B.currentBalance()}function mt(){return B.fetchGoalsTree()}function gt(){let l=B.fetchAllPrio();return!l.size>0?(console.log("ERROR...no Priority goals?",l),[]):Array.from(l.values()).sort()}function St(l){return B.fetchGoalsWithMinScore(l)}function Te(l,e=null,t=null){B.saveSubProp(l,e,t)}function pt(){return B.getGoalByTitle("Misc")}function we(l){B.setBalance(l)}function Ce(l,e){B.saveDailySchedule(l,e)}function Re(l,e,t,o){return B.addMainGoal(l,e,t,o)}function te(l,e,t,o,i,s,n,a,r){return B.addSubGoal(l,e,t,o,i,s,n,a,r)}function vt(l,e,t=null){let o=l,i=e.id,s=e,n=t,a=l.duration,r=l.time,f=null,g=null;return{id:i,duration:a,time:r,date:()=>f,datey:S,score:b(),getGoal:()=>s,getPGoal:()=>n,data:()=>o,setData:h=>o=h,setMoods:h=>g=h,getMoods:y,setNotes:h=>h,hasNote:c,setDura:h=>a=h,setTime:h=>r=h,setDate:h=>f=h,durationChanged:v,timeChanged:O,parsedScore:d,withPropsEventsTo:p,addPropsEventsTo:E};function S(){return f}function b(){return o.atScore||e.score}function c(){return l.notes!==void 0}function v(){return l.duration!==e.duration}function O(){return l.time!==e.time}function y(){return"byMood"in o&&(g=o.byMood),g}function d(){const h=b().split(/on/);return h.length!=2?-89:h[1]-h[0]}function u(h){if(!h)return"";let m=h.split(":");return parseInt(m[0])>=12?h+"PM":h+"AM"}function p(h,m=null){let T=Object.assign({},{...this});return T.bgcolor=h.bgcolor,T.jeSuis?T.details=`Of '${h.title.trim()}' :: << ${T.jeSuis.join(",")} >>`:T.details=`Of '${h.title.trim()}' :: ${u(T==null?void 0:T.time)} -> ${T==null?void 0:T.duration}min -- ${T!=null&&T.inDefaults?"Dft:":":"}${T!=null&&T.canMove?":Mv:":":"}${T!=null&&T.isAlternative?":Alt":":"}`,console.log("withProps",JSON.parse(JSON.stringify(T)),T.datey(),T.date(),T.title,T.details),T}function E(h){if(!n){console.log("addProps:: ERROR no parentGoal",this.data);return}this.data,getGoal();let m=Object.assign({},{...sav});return m.bgcolor=t.bgcolor,m.jeSuis?m.details=`Of '${t.title.trim()}' :: << ${m.jeSuis.join(",")} >>`:m.details=`Of '${t.title.trim()}' :: ${u(m==null?void 0:m.time)} -> ${m==null?void 0:m.duration}min -- ${m!=null&&m.inDefaults?"Dft:":":"}${m!=null&&m.canMove?":Mv:":":"}${m!=null&&m.isAlternative?":Alt":":"}`,console.log("addProps",JSON.parse(JSON.stringify(m)),m.datey(),m.date(),m.title,m.details),m}}class yt{constructor(e,t){this.showReloadBtn=!1,this.showClearBtn=!1,this.showLoadDefaults=!0,this.showScoreBtn=!0,this.showPrioBtn=!0,this.showOneEachBtn=!1,this.disablePrioBtn=!0,this.disableScoreBtn=!0,this.disableSaveSchedule=!0,this.chosenScore=null,this.chosenPrio=null,this._dailyScheduled=new Map,this._endTimesSet=new Set,this._startTimesSet=new Set,this.savedRawEvts=[],this.actualEvts=[],this.usingMoods={},this.isDisabledScoreEdit={},this.hasStarted={},this.mobileEnableScore={},this.showMobileDialog={},this.currentDate=e,this.mobile=t,rt()}allPGoals(){return Pe()}getAllEvts(){return this.actualEvts}showEvtNoteScoreMobile(e){return this.mobileEnableScore[e]&&this.showMobileDialog[e]}toggleEvtNoteScoreMobile(e){console.log("toggleEvtNoteScoreMobile >>",e),(this.isViewingPast()||this.isViewingToday())&&(this.showMobileDialog[e]=!0)}euhHidin(e){console.log("euhHidin >>",e),this.showMobileDialog[e]=!1}getCurrentSchedTimesSets(){return{endSet:this._endTimesSet,startSet:this._startTimesSet}}isViewingPast(){let e=oe();if(this.currentDate&&this.currentDate==e)return!1;let t=Ee(k(e));return!(Ee(k(this.currentDate))>=t)}isViewingToday(){return oe()==this.currentDate}toggle(){this.showReloadBtn=!this.showReloadBtn}getProps(){return{showReloadBtn:this.showReloadBtn,showClearBtn:this.showClearBtn,showLoadDefaults:this.showLoadDefaults,showScoreBtn:this.showScoreBtn,showPrioBtn:this.showPrioBtn,showOneEachBtn:this.showOneEachBtn,disablePrioBtn:this.disablePrioBtn,disableScoreBtn:this.disableScoreBtn,chosenScore:this.chosenScore,chosenPrio:this.chosenPrio}}saveBtnEnabled(){return this.disableSaveSchedule}fetchGoalsTree(){return mt()}getCurrentBalance(){return ft()}getAllPrio(){return gt()}getSubGoals(){return ct()}getCurrentMoods(){return this.usingMoods}getSubGoalByID(e){let t=this.getSubGoals(),o=parseInt(e);for(let i=0;i<t.length;i++)if(t[i].id===o)return t[i];return null}getAltEvts(){return ut()}getEventsForDate(e){return De(e)}updateDaySchedule(e,t){Ce(e,t)}parentGoalsMap(){return dt()}parentGoalById(e){return this.parentGoalsMap().has(e)?this.parentGoalsMap().get(e):null}findEvent(e){return this._dailyScheduled.has(e)?this._dailyScheduled.get(e):null}findSchedEvent(e){for(let t=0;t<this.actualEvts.length;t++)if(this.actualEvts[t].id===e)return this.actualEvts[t];return null}hasEventsForDate(){return ht(this.currentDate)}getDateEvents(e){let t=(i,s)=>{let n=x(i.sortTime,s.sortTime);if(n>0)return-1;if(n==0)return 0;if(n<0)return 1};const o=this.currentSchedEventsMap()[e]||[];if(o.length===1)o[0].side="full";else if(o.length===2){const i=D(k(o[0].date),{minute:L(o[0].time)}),s=D(i,{minute:o[0].duration}),n=D(k(o[1].date),{minute:L(o[1].time)}),a=D(n,{minute:o[1].duration});ee(n,i,s,!0)||ee(a,i,s,!0)?(console.log("getDateEvents...LENGTH==2..LEFT/RIGHT 'TWIX"),o[0].side="left",o[1].side="right"):(o[0].side="full",o[1].side="full")}return o.sort(t)}currentSchedEventsMap(){const e={};return this.actualEvts.forEach(t=>{let o=t.date;if(e[o]||(e[o]=[]),e[o].push(t),t.days){console.log(`currentSchedEventsMap multiple days? event for ${t.date}`,t.days);let i=he(t.date),s=t.days;do i=D(i,{day:1}),map[i.date]||(map[i.date]=[]),map[i.date].push(t);while(--s>0)}}),e}enrichAddToSchedule(){let e={},t=this.isViewingToday();console.log("enrichAddToSchedule",Object.keys(this.savedRawEvts).length,"overlapCheck:"+t);for(let o in this.savedRawEvts){let i=this.savedRawEvts[o],s=this.getSubGoalByID(o);if(!s){console.log(`enrichAddToSchedule:: ERROR no goal found>>key: ${o}`,i);continue}let n=this.parentGoalById(s.parentGoal),a=vt(i,s,n),r=this.addToSchedule(a,t,!0);r?Array.isArray(r)&&(e[s.id]=r):console.log("enrichAddToSchedule..ERROR?!? not added",r,s)}return e}loadEvtsForDay(e){if(e||(console.log("loadEvtsForDay--Changed",this.currentDate,this.savedRawEvts),this.resetSchedule()),this.savedRawEvts=De(this.currentDate),this.savedRawEvts){let t=this.enrichAddToSchedule();return Object.keys(t).length>0&&console.log("loadEvtsForDay--OVERLAPS!!!",t),{overlaps:t,canContinue:!1}}else return{overlaps:null,canContinue:!0}}onChangeViewDate(e){let t=e==this.currentDate;return this.currentDate=e,this.enableActionBtns(),this.loadEvtsForDay(t)}resetSchedule(){this.savedRawEvts=[],this.actualEvts=[],this._dailyScheduled=new Map,this._endTimesSet=new Set,this._startTimesSet=new Set,this.usingMoods={},this.chosenScore=null,this.chosenPrio=null,this.showReloadBtn=!1,this.showClearBtn=!1,this.disableSaveSchedule=!0}unscheduledDefaults(){return this.getSubGoals().filter(t=>(t==null?void 0:t.inDefaults)&&(t==null?void 0:t.time)!=""&&!this.actualEvts.find(o=>o.id==t.id))}unscheduled(){return this.getSubGoals().filter(t=>!this.actualEvts.find(o=>o.id==t.id))}subGoalsOfParent(e){return this.getSubGoals().filter(o=>o.parentGoal==e)}chosenScoreLabel(){return this.chosenScore==null?"By Score":`Score >= ${this.chosenScore}`}chosenPrioLabel(){return this.chosenPrio==null?"By Priority":`Prio = ${this.chosenPrio}`}onChoosenPrio(e){let t=this.chosenPrio;t&&t==e?this.disablePrioBtn=!0:(this.chosenPrio=e,this.disablePrioBtn=!1)}onChoosenScore(e){let t=this.chosenScore;t&&t==e?this.disableScoreBtn=!0:(this.chosenScore=e,this.disableScoreBtn=!1)}scheduleByScore(e){const t=()=>{let n=[];return this.actualEvts.forEach(a=>{let r=de(a.score);r>-1&&r>=this.chosenScore&&n.push(a)}),n};let o=[];if(e=="filter")o=t(),this.resetSchedule();else{const n=St(this.chosenScore);e=="add"?o=n.filter(a=>!this.actualEvts.find(r=>r.id==a.id)):(o=n,this.resetSchedule())}if(console.log(`scheduleByScore AFTER flag ${e} from size: ${this.actualEvts.length} to some evts = ${o.length}`),o.length<1)return console.log(`Empty for Score == ${this.chosenScore} :(`),this.toggleActionBtns(!1,"byScore"),{overlaps:null,canContinue:!1};let i=this.addGoalsToSchedule(o,this.isViewingToday());return Object.keys(i).length>0?{overlaps:i,canContinue:!1}:(this.toggleActionBtns(o.length>0,"byScore"),{overlaps:i,canContinue:!0})}scheduleSamePrio(e){const t=()=>this.actualEvts.filter(n=>{var a;return((a=this.parentGoalById(n.parentGoal))==null?void 0:a.priority)==this.chosenPrio});let o=[];if(e=="filter")o=t(),this.resetSchedule();else{let n=this.getSubGoals();for(let a of n){let r=this.parentGoalById(a.parentGoal);(r==null?void 0:r.priority)==this.chosenPrio&&o.push(a)}e=="add"?o=o.filter(a=>!this.actualEvts.find(r=>r.id==a.id)):this.resetSchedule(),console.log(`scheduleSamePrio...${e} to size: ${this.actualEvts.length} some evts = ${o.length}`)}if(o.length<1)return console.log(`Empty for Priority == ${this.chosenPrio} :(`),this.toggleActionBtns(!1,"byPrio"),{overlaps:null,canContinue:!1};let i=this.addGoalsToSchedule(o,this.isViewingToday());return Object.keys(i).length>0?{overlaps:i,canContinue:!1}:(this.toggleActionBtns(o.length>0,"byPrio"),{overlaps:i,canContinue:!0})}massageOverlaps(e){let t={};for(let o=0;o<e.length;o++){let i=e[o];t[i==null?void 0:i.inConflict]?t[i==null?void 0:i.inConflict].push(i):t[i==null?void 0:i.inConflict]=[i],o>0&&(console.log(o+" WOAH WOAH,massageOverlaps...ERROR?!? multiple overlaps with same target?",e[o].target),i.inConflict in t&&(console.log("WOAH deleting inConflict",i.inConflict),delete t[i.inConflict]),e[o-1].inConflict in t&&(console.log("WOAH deleting PREV inConflict",e[o-1].inConflict),delete t[e[o-1].inConflict]),t[i.target]?(t[i.target].push(i),console.log("WOAH obj.id already present?",i.target)):t[i.target]=[i],t[i.target].unshift(e[o-1]),t.withID=!0)}return t}scheduleOneEach(e){const t=a=>{let r=[];return this.parentGoalsMap().forEach((f,g,S)=>{let b=this.subGoalsOfParent(f.id);if(b.length>0){let c=null,v=b.length;if(a)c=b[Math.floor(Math.random()*v)];else{let O=0;for(;this.actualEvts.some(y=>b[v].id==y.id);)if(O++,v=Math.floor(Math.random()*b.length),console.log(`selectOneFromP::index ${v} scheduled...new random> At try> `+O,b.length),O>2){console.log("selectOneFromP::random...TOO MANY TRIES..ERROR?",O,v,b.length,b);break}c=b[v],console.log("selectOneFromP::NO Random at index: "+v,O,c)}r.push(c)}else console.log("scheduleOneEach::selectOneFromP...huh no subgoals for parentGoal",f)}),r},o=()=>{let a=this.unscheduled(),r=[];return this.parentGoalsMap().forEach((f,g,S)=>{let b=a.filter(v=>v.parentGoal==f.id),c=b.length;if(c>0){let v=b[Math.floor(Math.random()*c)];r.push(v)}else console.log("scheduleOneEach::No goal for parent!!",g,f==null?void 0:f.title)}),r};let i=[];if(e=="add"?(i=o(),console.log("scheduleOneEach...TOADD!!",i)):(this.resetSchedule(),i=t(!0)),i.length<1)return console.log("Empty for OneEach :("),this.toggleActionBtns(!1,"oneEach"),{overlaps:null,canContinue:!1};let s={};for(let a=0;a<i.length;a++){let r=this.addToSchedule(i[a],this.isViewingToday(),!1);r?Array.isArray(r)&&(console.log("scheduleOneEach.... overlap?!!!",JSON.parse(JSON.stringify(r)),i[a]),s[i[a].id]=r):console.log("scheduleOneEach..ERROR?!? not added",r,i[a])}let n=Object.keys(s).length;return n>0?(console.log(`scheduleOneEach:: Overlaps when adding ${i.length}. overlaps =${n}`),this.toggleActionBtns(i.length>0,"oneEach"),{overlaps:s,canContinue:!1}):(this.toggleActionBtns(i.length>0,"oneEach"),{overlaps:null,canContinue:!0})}scheduleByMood(e){var s;let t=[];for(let n=0;n<e.length;n++){let a=this.getSubGoalByID(e[n].id);a&&a.time!=""&&(t.push(a),this.usingMoods[e[n].id]=(s=e[n])==null?void 0:s.mood)}if(t.length<1)return console.log("Empty for Mood :("),this.toggleActionBtns(!1,"ByMood"),{overlaps:null,canContinue:!1};let o=this.addGoalsToSchedule(t,this.isViewingToday()),i=Object.keys(o).length;return i>0?(console.log(`scheduleByMood overlaps on:${this.currentDate} to ${t.length}. overlaps =${i}`),{overlaps:o,canContinue:!1}):(this.toggleActionBtns(t.length>0,"ByMood"),{overlaps:o,canContinue:!0})}scheduleDefaults(e){let t=null;e=="add"?t=this.unscheduledDefaults():(this.resetSchedule(),t=this.unscheduledDefaults()),this.showReloadBtn=this.hasEventsForDate(),this.showClearBtn=!this.isViewingPast()&&t.length>0;let o=this.addGoalsToSchedule(t,this.isViewingToday()),i=Object.keys(o).length;return i>0?(console.log(`scheduleDefaults:: Overlaps on:${this.currentDate} for ${t.length}...overlaps =${i}`),{overlaps:o,canContinue:!1}):(this.toggleActionBtns(t.length>0,"defaults"),{overlaps:null,canContinue:!0})}schedEvtWithProps(e,t,o){if(!e.getPGoal()){console.log("schedEvtWithProps:: ERROR no parentGoal",e.data);return}let i=e.data(),s=e.getGoal(),n=e.getPGoal(),a={...s};(e.timeChanged()||e.durationChanged())&&(a.time=i.time,a.duration=i.duration),e.setDate(this.currentDate);let r=e.getMoods();if(r){//!==
this.usingMoods[a.id]=r}return a.date=this.currentDate,a.bgcolor=n.bgcolor,a.start=t,a.end=o,a.jeSuis?a.details=`Of '${n.title.trim()}' :: << ${a.jeSuis.join(",")} >>`:a.details=`Of '${n.title.trim()}' :: ${J(a==null?void 0:a.time)} -> ${a==null?void 0:a.duration}min -- ${a!=null&&a.inDefaults?"Dft:":":"}${a!=null&&a.canMove?":Mv:":":"}${a!=null&&a.isAlternative?":Alt":":"}`,e.hasNote()&&(a.notes=i.notes),a}saveNewGoal(e,t,o,i,s){if(console.log(`saveNewGoal:${t} :${i}: from ${e.time}.Duration:${s}`),i=="self"){let n=Re(t,t,"purple-10",2);if(n)return te(n,t,"1on5",e.time,s,!0,!1,s<30);console.log("ERROR? no pID",n)}else if(o){return console.log("with parentGoal "+o.id,o==null?void 0:o.title),te(o.id,t,"1on5",e.time,s,!1,!1,s<30);//!canMove and notInDefaults. isAlternative when duration<30
}else{let n=pt();if(n){return console.log("Woo!! Misc pGoal already exists!",n.id),te(n.id,t,"1on5",e.time,s,!1,!1,s<30);//!canMove and notInDefaults.isAlternative when duration<30
}else{let a=Re("Misc","Miscellaneous","grey-10",2);if(a)return te(a,t,"1on5",e.time,s,!0,!1,s<30)}}return null}onPickEvent(e,t,o,i){let s=D(t,{minute:e.duration}),n=this.hasOverlappingEvent(e.id,t,s);if(n.length>0)return console.log("onPickEvent::overlaps!!!",JSON.parse(JSON.stringify(n))),{overlaps:this.massageOverlaps(n),canContinue:!1};{if(i){let r=this.getCurrentBalance(),f=r+parseInt(e==null?void 0:e.duration);console.log("onPickEvent...useBalance",r,f),we(f)}let a=this.addGoalsToSchedule([{...e,time:t.time}],!1);return this.isViewingPast()||i?this.saveDaySchedule():this.toggleActionBtns(!0,"onPickEvt"),{overlaps:a,canContinue:!0}}}onAdHocEvent(e){let t=this.getSubGoalByID(e);if(!t)return{overlaps:null,canContinue:!1};let o=this.addGoalsToSchedule([t],!0),i=Object.keys(o).length;return i>0?(console.log(`onAdHocEvent overlaps on:${this.currentDate}. overlaps =${i}`,o),{overlaps:o,canContinue:!1}):(this.isViewingPast()?this.saveDaySchedule():this.toggleActionBtns(!0,"onAdHoc"),{overlaps:null,canContinue:!0})}recurChangeTime(e,t,o,i=!1){let s=this.findEvent(e);if(s){let n=L(s.start.time)-L(o.time),a=`${n>0?"DOWN":"UP"}`,r=null;if(n>=0){r=D(o,{minute:parseInt(t.duration)+10});let S=D(o,{minute:parseInt(s.for)+10});console.log(`recurChangeTime::${e}...FORWARD ${a} for ${n} due to evt:${t.id} at ${o.time} 
          
 doAdd?:${i} >`,JSON.parse(JSON.stringify(r.time)),"alt:",S.time);let b=x(S,r);b>0&&(Math.floor(b/1e3/60)<=n?console.log(`recurChangeTime::${e}....with duration:${s.for} vs evtDura:${t.duration}...NOT using alternative!!`):(console.log(`recurChangeTime::DIFFY>>${b}...gonna use Alternative`,S.time),r=S))}else{r=D(o,{minute:-(parseInt(s.for)+10)});let S=D(o,{minute:-(parseInt(t.duration)+10)}),b=x(S,r);console.log(`recurChangeTime::${e}...BACKWARD ${a} for ${n} due to evt:${t.id} at ${o.time}
          
 doAdd?:${i}`,r.time,"alt:"+S.time,"diffy="+b)}let f=this.hasOverlappingEvent(e,r,D(r,{minute:s.for}));if(f.length>0){console.log(`WARNING WARNING::more Overlaps::recurChangeTime ${e} at ${r.time}`,f.length,f);let S=0,b=f.length,c=this.findSchedEvent(e);console.log(c?`Cascading time change while adding '${c==null?void 0:c.title.trim()}' due to "${t.title.trim()}"`:`ERROR::recurChangeTime ${e} not found`);do{if(console.log(`WARNING CASCADING timeChange ${e}-${c==null?void 0:c.title} at: ${r.time} 'gon recurChangeTime::
            OLDie doAdd?:${i}, .gon be true 
 now at: ${s.start.time}  till ${s.end.time}`,f[S]),f[S].inConflict==t.id){console.log(`EUUUH...::recurChangeTime::self overlap?!?${e} ...breaking!`,f[S]);break}this.recurChangeTime(f[S].inConflict,c,r,i)}while(++S<b)}this.changeEvtTime(s,r),console.log(`recurChangeTime::OVERLAPPED: ${e} ${a} to ${r.time} >> doAdd:${i}`);let g=o;console.log(`recurChangeTime::TARGET:(${t.id})${t==null?void 0:t.title.trim()} going ${a}>> doAdd:${i} to time>> ${g.time}`),i?this.addGoalsToSchedule([{...t,time:g.time}],!1):this.changeEvtTime(t,g)}else console.log("ERROR..ERROR recurChangeTime:: overlapped event not found!",e,t)}hasOverlappingEvent(e,t,o){const i=[];return this._dailyScheduled.forEach((s,n,a)=>{if(n!=e){let r=this.checkOverlapByTime(t,o,s.start,s.end);r&&i.push({target:e,targetStart:t,direction:r,inConflict:n})}}),i}checkOverlapByTime(e,t,o,i){let s=this.getTimeyNumber(e),n=this.getTimeyNumber(t),a=this.getTimeyNumber(o),r=this.getTimeyNumber(i);if(s===!1||a===!1||n===!1||r===!1)return console.log("ERROR... checkOverlapByTime error",s,n,a,r),!1;let f=!1;return s>a&&s<r&&(f="bas"),n>a&&n<r&&(f="haut"),(a>=s&&n>=r||s>=a&&n<=r)&&(f="surrounding"),f}doProppy(e,t){let o=this.parentGoalById(e.parentGoal);if(!o){console.log("doProppy:: ERROR no Pgoal found ?!?",e);return}let i=D(k(t),{minute:L(e.time)}),s=D(i,{minute:e.duration}),n=Object.assign({},{...e,date:t,bgcolor:o.bgcolor,start:i,end:s});return e.jeSuis?n.details=`Of '${o.title.trim()}' :: << ${e.jeSuis.join(",")} >>`:n.details=`Of '${o.title.trim()}' :: ${J(e==null?void 0:e.time)} -> ${e==null?void 0:e.duration}min -- ${e!=null&&e.inDefaults?"Dft:":":"}${e!=null&&e.canMove?":Mv:":":"}${e!=null&&e.isAlternative?":Alt":":"}`,n.sortTime=i,n}canDropEvent(e,t){let o=D(e,{minute:t.duration}),i=this.hasOverlappingEvent(t.id,e,o);return i.length>0?(console.log("dropEvent...OVERLAP handlin::size="+i.length,i),{overlaps:this.massageOverlaps(i),canContinue:!1}):(this.toggleActionBtns(!0,"canDropEvent"),{overlaps:null,canContinue:!0})}toggleActionBtns(e,t){this.disableSaveSchedule=!e,this.showReloadBtn=this.hasEventsForDate(),this.showClearBtn=!this.isViewingPast()&&e}enableActionBtns(){let e=this.isViewingPast();this.showOneEachBtn=!e,this.showLoadDefaults=!e,this.showScoreBtn=!e,this.showPrioBtn=!e}tooClose(e,t){let o=D(e,{minute:0}),i=this.getTimeNumber(o),s=D(e,{day:1}),n=new Date(s.date);n.setHours(24),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0);let a=I(n),r=Math.floor(x(o,a)/1e3/60);if(r<t)return console.log("tooClose to midnight eh...:(",r),!0;let f=!1;return this._dailyScheduled.forEach((g,S,b)=>{let v=this.getTimeNumber(g.start)-i,O=x(o,g.start);Math.floor(O/1e3/60)<=10&&v>0&&(f=S)}),f}changeEvtTime(e,t,o){return o=="ok"&&Te(e.id,t.time,null),this.doUpdateSchedule(e,t),o}addGoalsToSchedule(e,t){let o={};return e.forEach(i=>{let s=this.addToSchedule(i,t,!1);s?Array.isArray(s)&&(console.log("addGoalToSchedule.... overlap?!!!",JSON.parse(JSON.stringify(s)),i),o[i.id]=s):console.log("addGoalToSchedule..ERROR?!? not added",s,i)}),o}addToSchedule(e,t,o=!1){if(this._dailyScheduled.has(e.id))return console.log("addToSchedule--NOT created>>HAS already!!?",t,e),!1;{let i=D(k(this.currentDate),{minute:L(e.time)}),s=D(i,{minute:e.duration});if(t){let a=this.hasOverlappingEvent(e.id,i,s);if(a.length>0)return a}let n=o?this.schedEvtWithProps(e,i,s):this.doProppy(e,this.currentDate);n.sortTime=i,this.actualEvts.push(n),this._dailyScheduled.set(n.id,{...n,for:n.duration,start:i,end:s,score:n.score}),this._endTimesSet.add(s.time),this._startTimesSet.add(i.time),this.enableNoteScoreEdit(n.id,i,s)}return this.findEvent(e.id)}doUpdateSchedule(e,t){let o=this.findEvent(e.id),i=this.findSchedEvent(e.id);if(!o||!i){console.log("doUpdateSchedule-ERROR NOT found",o,i);return}let s=D(k(i.date),{minute:L(t.time)}),n=D(s,{minute:i.duration});this._endTimesSet.delete(o.end.time)?this._endTimesSet.add(n.time):console.log("doUpdateSchedule-endTimesSet NOT FOUND?!?"),this._startTimesSet.delete(o.start.time)?this._startTimesSet.add(s.time):console.log("doUpdateSchedule-startTimesSet NOT FOUND?!?",e.id,t),this._dailyScheduled.set(e.id,{...o,for:o.duration,start:s,end:n}),i.time=t.time,i.sortTime=s,this.enableNoteScoreEdit(e.id,s,n)}saveDaySchedule(){let e={};this._dailyScheduled.size<1?e=null:this._dailyScheduled.forEach((t,o,i)=>{e[o]={time:t.start.time,duration:t.duration},this.usingMoods[o]&&(e[o].byMood=this.usingMoods[o]),t.notes!==void 0&&(t==null?void 0:t.notes)!==""&&(console.log("saveDaySchedule",o,t==null?void 0:t.notes,t==null?void 0:t.score),e[o].atScore=t==null?void 0:t.score,e[o].notes=t==null?void 0:t.notes)}),Ce(this.currentDate,e),this.disableSaveSchedule=!0,this.showReloadBtn=!1,this.showClearBtn=e!=null&&!this.isViewingPast()}updateMinEndNowBtn(e,t,o){for(let[i,s]of this._dailyScheduled)(t?s.end.time:s.start.time)==e&&(this.hasStarted[i]=!t,this.isDisabledScoreEdit[i]=!t,this.mobile&&(console.log(`updateMinEndNowBtn..MOBILE::good?>>${o}::${t}`,e),this.showMobileDialog[i]=!t))}reduceEvtDuration(e,t){let o=this.findEvent(e);if(!o){console.log("ERROR:: reduceEvtDuration Evt not found!!!",e);return}const i=I(new Date);let s=o.start,n=o.end;this._dailyScheduled.set(e,{...o,for:t,duration:t,end:i}),this._endTimesSet.delete(n.time)||console.log("ERROR endTimesSet item does not exist?!?",o,this._endTimesSet),this._endTimesSet.add(i.time);let a=this.findSchedEvent(e);a.duration=t,this.updateEvtMinsEndNowBtns(e,s,i),this.saveDaySchedule()}updateEvtMinsEndNowBtns(e,t,o){const i=I(new Date);let s=D(i,{minute:0}),n=this.getTimeNumber(s),a=this.getTimeNumber(t),r=this.getTimeNumber(o);if(a!==!1&&r!==!1){let f=n>=a&&n<r,g=n>=r;f&&(this.hasStarted[e]=!0),g&&this.disableEvtScoreEdit(e,g)}else console.log(`ERROR?!:${e} has no start/end?.`)}canEndNow(e){let t=this.findEvent(e);if(!t)return console.log("ERROR canEndNow Evt not found!!!",e),!1;const o=I(new Date);let i=t.start,s=t.end;if(!ee(o,i,s,!0))return console.log("umm aint in the middle of this event! Nothing to do...canEndNow::ERROR?",o.time,i.time,s.time),!1;let n=this.getTimeNumber(s)-this.getTimeNumber(i),a=this.getTimeNumber(o)-this.getTimeNumber(i);return console.log(`canEndNow:: ${e} duration from ${n} to:`,a),a<10?a:this.reduceEvtDuration(e,a)}updateNoteScore(e,t,o=""){let i=this.findEvent(e);if(i){let s=i.score==t;s||(console.log("updateNoteScore::Score change!!",s),Te(e,null,t));let n=this.findSchedEvent(e);n?(i.score,n.score=t):console.log("onSaveScore ERROR not found",n,e),o!==""&&(i.notes=o,n.notes=o,this.saveDaySchedule())}else console.log(`ERROR ERROR::updateNoteScore could not find event ${e}?!?`)}addMinsToEvt(e,t){let o=this.findEvent(e);if(!o){console.log("ERROR addMinsToEvt EVT not found!!!",e);return}let i=o.end,s=D(i,{minute:parseInt(t)}),n=parseInt(t)+o.for;console.log(`addMinsToEvt::${e} add ${t} from ${o.for} to> ${n}`,i.time,s.time);let a=this.hasOverlappingEvent(e,o.start,s);if(a.length>0)return console.log("addMinsToEvt::huh some OVERLAPS",a),{overlaps:this.massageOverlaps(a),canContinue:!1};{console.log(`Great, ${e} Ending at:${s.time}`);let r=this.findSchedEvent(e);return r.duration=n,this._dailyScheduled.set(e,{...o,duration:n,for:n,end:s}),this._endTimesSet.delete(i.time)||console.log("ERROR endTimesSet item does not exist?!?",o,this._endTimesSet),this._endTimesSet.add(s.time),this.saveDaySchedule(),{overlaps:null,canContinue:!0}}}deleteEvtMood(e){this.usingMoods[e]?(delete this.usingMoods[e],console.log("deleteEvtMood::>"+e)):console.log("deleteEvtMood>>NO mood by "+e)}removeScheduledEvt(e,t=!1){let o=this.getAllEvts().length;if(!e){console.log("ERROR doRemove, NO evt to delete?!?",e);return}let i=0;for(i;i<o;i++)if(this.actualEvts[i].id==e.id){this.actualEvts.splice(i,1);let s=null;if(this._dailyScheduled.has(e.id)?(s=this._dailyScheduled.get(e.id),this._dailyScheduled.delete(e.id)):console.log("removeScheduledEvt ::> dailyScheduled has no such evt?@? ERROR",e),s){let n=this._startTimesSet.delete(s.start.time),a=this._endTimesSet.delete(s.end.time);(!n||!a)&&console.log(`removeScheduledEvt ::> ERROR? scheduleSets has no such evt?@? start:${n}...end:${a}`,s,e.id+" "+(e==null?void 0:e.title.trim())+" "+(e==null?void 0:e.details)),t&&(console.log("removeScheduledEvt::Mood Remove...",this.usingMoods[e.id]),delete this.usingMoods[e.id])}break}}addToBalance(e){let o=this.getCurrentBalance()-parseInt(e==null?void 0:e.duration);we(o)}disableAllScoreEdit(e){this._dailyScheduled.forEach((t,o,i)=>{this.isDisabledScoreEdit[o]=e})}disableEvtScoreEdit(e,t){this.isDisabledScoreEdit[e]=!t,this.mobileEnableScore[e]=t}enableNoteScoreEdit(e,t,o){const i=I(new Date);let s=x(i,o),n=D(i,{minute:0});this.getTimeNumber(n),s>0?(this.isDisabledScoreEdit[e]=!0,this.mobileEnableScore[e]=!1):(this.hasStarted[e]=!1,this.mobile&&(this.showMobileDialog[e]=!1),this.mobileEnableScore[e]=!0,this.isDisabledScoreEdit[e]=!1),ee(i,t,o,!0)?this.hasStarted[e]=!0:this.hasStarted[e]=!1}getTimeyNumber(e){return e!==null?et(e):!1}getTimeNumber(e){return e!==null?ce(e):!1}}function Ne(l){return l.button===0}const bt={name:"altDayCalendar",components:{NavigationBar:j(()=>q(()=>import("./NavigationBar.38c5f892.js"),["assets/NavigationBar.38c5f892.js","assets/index.8c8e6158.js","assets/index.ddf7c1e7.css"])),QCalendarDay:it,GoalyEnd:j(()=>q(()=>import("./goalyEnd.9e6c5d36.js"),["assets/goalyEnd.9e6c5d36.js","assets/goalyEnd.a72927db.css","assets/utiFunc.ac4b7097.js","assets/index.8c8e6158.js","assets/index.ddf7c1e7.css","assets/TouchPan.1ebb2fcb.js","assets/QItem.fbefacd4.js"])),schedBtn:j(()=>q(()=>import("./schedBtn.b04fb504.js"),["assets/schedBtn.b04fb504.js","assets/schedBtn.a05a5c66.css","assets/index.8c8e6158.js","assets/index.ddf7c1e7.css"])),dropDwnBtn:j(()=>q(()=>import("./dropDwnBtn.9d8ead0a.js"),["assets/dropDwnBtn.9d8ead0a.js","assets/dropDwnBtn.35a7a0b5.css","assets/QItem.fbefacd4.js","assets/index.8c8e6158.js","assets/index.ddf7c1e7.css","assets/QList.093989e0.js","assets/TouchPan.1ebb2fcb.js","assets/utiFunc.ac4b7097.js"])),schedDialog:j(()=>q(()=>import("./schedDialog.e0c7a9bf.js"),["assets/schedDialog.e0c7a9bf.js","assets/schedDialog.95b40b10.css","assets/index.8c8e6158.js","assets/index.ddf7c1e7.css","assets/QSpace.f9474cc0.js"])),mobileNoteScore:j(()=>q(()=>import("./onScoreEditDialog.fba2bb31.js"),["assets/onScoreEditDialog.fba2bb31.js","assets/onScoreEditDialog.fb734b20.css","assets/index.8c8e6158.js","assets/index.ddf7c1e7.css"]))},data(){return st(),C(null),C(null),C(null),C(null),{splitterPage:C(35),splitterLegend:C(40),timeStartPos:C(0),showTree:C(!1),treeGoals:C([]),expanded:C([]),filter:C([]),filterRef:C(null),calendar:C(null),addEventDialog:C(!1),currentDate:C(oe()),scoreOptions:C([1,2,3,4,5,6]),anchorTimestamp:C(null),otherTimestamp:C(null),mouseDown:C(!1),mobile:C(!0),daSchedule:C(null)}},beforeMount(){this.mobile=at(),this.daSchedule=new yt(this.currentDate,this.mobile),this.constructTree()},mounted(){this.adjustCurrentTime(),this.intervalId=setInterval(()=>{this.adjustCurrentTime()},6e4)},beforeUnmount(){clearInterval(this.intervalId)},computed:{chosenScoreLabel(){return this.daSchedule.chosenScoreLabel()},chosenPrioLabel(){return this.daSchedule.chosenPrioLabel()},style(){return{top:this.timeStartPos+"px"}},defaultLabels(){let e=this.daSchedule.unscheduled().filter(t=>(t==null?void 0:t.inDefaults)&&(t==null?void 0:t.time)!="").length;return e>0?e+" Defaults":"Defaults"},saveScheduleDisabled(){return this.daSchedule.saveBtnEnabled()},showTreeForm(){return this.showTree||this.constructTree(),this.showTree},filterString(){return this.filter.join()},currentBalance(){return this.daSchedule.getCurrentBalance()},canbeScheduled(){let l=this.daSchedule.unscheduled(),e=(t,o)=>{if(t.parentGoal>o.parentGoal)return 1;if(t.parentGoal==o.parentGoal)return 0;if(t.parentGoal<o.parentGoal)return-1};if(l.length==0){let t=this.daSchedule.getSubGoals();return t.sort(e),t}return l.sort(e),l},scheduleMoodsLabel(){let l="",e=this.daSchedule.getCurrentMoods();if(!Object.keys(e).length>0)return l;let t=new Set;for(let i in e)t.add(e[i].join());let o=0;for(let i of t)o<1?l=i:l=l+", "+i,o++;return Object.keys(e).length!=t.size&&console.log("scheduleMoodsLabel..prob change!",JSON.parse(JSON.stringify(e)),t,l),l},startEndTimes(){const l=[];return this.anchorDayTimeIdentifier!==!1&&this.otherDayTimeIdentifier!==!1&&(this.anchorDayTimeIdentifier<=this.otherDayTimeIdentifier?l.push(z(this.anchorTimestamp),z(this.otherTimestamp)):l.push(z(this.otherTimestamp),z(this.anchorTimestamp))),l},anchorDayTimeIdentifier(){return this.anchorTimestamp!==null?ce(this.anchorTimestamp):!1},otherDayTimeIdentifier(){return this.otherTimestamp!==null?ce(this.otherTimestamp):!1},eventsMap(){return this.daSchedule.currentSchedEventsMap()},showDefaultBtn(){return this.daSchedule.unscheduledDefaults().length>0}},methods:{showEvtMobile(l){return this.daSchedule.showEvtNoteScoreMobile(l)},klikaj(l){console.log("klikaj...",this.currentDate,l)},adjustCurrentTime(){const l=I(new Date);if(this.currentDate!==l.date){this.timeStartPos=-10,this.currentTime="";return}this.currentDate=l.date,this.currentTime=l.time,this.timeStartPos=this.$refs.calendar.timeStartPos(l.time,!1);let e=this.daSchedule.getCurrentSchedTimesSets(),t=e.endSet&&e.endSet.has(l.time),o=e.startSet&&e.startSet.has(l.time);(t||o)&&(console.log("sameStart/END..FOUND",this.currentTime,t,o),this.daSchedule.updateMinEndNowBtn(this.currentTime,t,o),o&&this.doNotify("Event Starting :)","positive","bottom"))},hasDate(l){return this.currentDate?l.find(e=>e.date===this.currentDate):!1},getDateEvents(l){let e=(o,i)=>{let s=x(o.sortTime,i.sortTime);if(s>0)return-1;if(s==0)return 0;if(s<0)return 1};const t=this.eventsMap[l]||[];return t.length===1?t[0].side="full":t.length===2&&console.log("getDateEvents...LENGTH is 2?",l,t),t.sort(e)},constructTree(){this.treeGoals=this.daSchedule.fetchGoalsTree()},resetGoalEvts(){return this.daSchedule.getSubGoals()},allMainGPrio(){return this.daSchedule.getAllPrio()},resetFilter(){var l;this.filter=[],(l=this.filterRef)==null||l.focus()},myFilterMethod(l,e){if(l.isChildren&&(l==null?void 0:l.moods.length)>0){const t=this.filter.map(i=>i.toLowerCase());let o=l==null?void 0:l.moods.some(i=>t.indexOf(i.toLowerCase())>-1);return l.label&&o}},labelGoals(l){let e=0;if(l=="s"){for(const o in this.treeGoals)e+=this.treeGoals[o].children.length;return`Scheduled => ${this.daSchedule.getAllEvts().length} out of ${e} 
`}return`Balance: ${this.daSchedule.getCurrentBalance()||0} 
`},badgeClasses(l,e){return Qe(l,e)},badgeStyles(l,e,t=void 0,o=void 0){return Ye(l,e,t,o)},classyColor(l){return`row items-center ${l.isChildren?"text-":"text-white bg-"}${l.color} `},isViewingPast(){return this.daSchedule.isViewingPast()},onMoodAdd(){let l=[];const e=this.filter.map(t=>t.toLowerCase());if(this.treeGoals.filter(t=>{if(t.children.length>0)return t.children.find(o=>{if((o==null?void 0:o.moods.length)>0&&(o==null?void 0:o.moods.some(i=>e.indexOf(i.toLowerCase())>-1))){let i=o==null?void 0:o.moods.filter(s=>{if(e.indexOf(s.toLowerCase())>-1)return s});return l.push({id:o.id,mood:i}),o}})}),l.length>0)if(l=l.filter(t=>!this.daSchedule.getAllEvts().find(o=>o.id==t.id)),l.length>0){let t=this.daSchedule.scheduleByMood(l);console.log("onMoodAdd>>>",e,t,l),t.canContinue||(console.log("onMoodAdd::OVERLAPS?",t),t.overlaps&&Object.keys(t.overlaps).length>0?this.handleOverlaps(t.overlaps,null,"byMood"):this.doNotify("Empty as no Moods :(","warning","bottom"))}else this.doNotify(`Evts of Mood '${this.filterString}' already scheduled!`,"warning","top");else this.doNotify("Nothing to add :(","warning","top")},onScheduleOneEach(){let l=e=>{let t=this.daSchedule.scheduleOneEach(e);console.log("onScheduleOneEach::ACTION!!!",JSON.parse(JSON.stringify(t))),t.canContinue||(t.overlaps&&Object.keys(t.overlaps).length>0?this.handleOverlaps(t.overlaps,null,"oneEach"):this.doNotify("Empty for OneEach :(","warning","bottom"))};if(this.daSchedule.getAllEvts().length>0){let e=[{label:"Add one Evt from Each parent Goals",value:"add"},{label:"Overwrite current with one random Evt from Each parent Goals",value:"overwrite"}];this.radioChoiceDialog("Warning!!",`Date: ${this.currentDate} already have scheduled Events...`,e,"",l,function(){console.log("One of Each....Aborting")})}else l("overwrite")},onReloadSaved(){let l=this.daSchedule.hasEventsForDate();console.log("onReloadSaved",l);let e=()=>{console.log("Aborting",this.currentDate,this.scheduledEvents,l)},t=()=>{this.daSchedule.loadEvtsForDay(!1),this.reset()};if(this.daSchedule.getAllEvts().length>0&&!this.isViewingPast()){let o=l?"Reload? saved schedule of: "+this.currentDate:"Overwrite current Evts?";this.confirmAction(o,"OK",t,e)}else t()},onClearDay(){if(console.log("onClearDay",this.daSchedule.hasEventsForDate()),this.isViewingPast()){this.doNotify("Editing past is no no!");return}let l=this.daSchedule.hasEventsForDate();this.daSchedule.resetSchedule();let e=l?"Cleared...Can still reload saved":"Cleared daily schedule";this.doNotify(e,"warning","top"),this.reset(),this.daSchedule.toggleActionBtns(l,"view")},onLoadDefault(){let l=()=>{console.log("Aborting",this.currentDate)},e=o=>{let i=this.daSchedule.scheduleDefaults(o);console.log("onLoadDefault",o,i),i.canContinue||(console.log("onLoadDefault::OVERLAPS?",i),i.overlaps&&Object.keys(i.overlaps).length>0?this.handleOverlaps(i.overlaps,null,"byDefaults"):this.doNotify("Empty as no Defaults:(","warning","bottom"))},t=this.daSchedule.unscheduledDefaults();if(t.length>0){console.log("unscheduledDefaults",t,t==null?void 0:t.length);let o=[{label:`Add ${t==null?void 0:t.length} Default Evts to current day schedule`,value:"add"},{label:"Overwrite and only schedule Defaults",value:"overwrite"}];this.radioChoiceDialog("Warning!!",`Date: ${this.currentDate} already have scheduled Events...`,o,"",function(i){e(i)},l)}else e("overwrite")},onChoosenPrio(l){this.daSchedule.onChoosenPrio(l)},onChoosenScore(l){this.daSchedule.onChoosenScore(l)},doReloadWithPrio(){if(this.daSchedule.chosenPrio==null){this.doNotify("Ayo select a priority!");return}let l=()=>{console.log("doReloadWithPrio..cancelling"),this.reset()},e=o=>{let i=this.daSchedule.scheduleSamePrio(o);console.log("scheduleSamePrio::ACTION!!!",i),i.canContinue||(console.log("scheduleSamePrio::OVERLAPS?",i),i.overlaps&&Object.keys(i.overlaps).length>0?this.handleOverlaps(i.overlaps,null,"byPrio"):this.doNotify(`Empty for Priority == ${this.daSchedule.chosenPrio} :(`,"warning","bottom"))},t=this.daSchedule.chosenPrio;if(this.daSchedule.getAllEvts().length>0){let o=[{label:`Filter current Evts by priority == ${t}`,value:"filter"},{label:`Add to schedule Evts with priority == ${t}`,value:"add"},{label:`Overwrite current and schedule All of priority == ${t}`,value:"overwrite"}];this.radioChoiceDialog("","Schedule change...",o,"",e,l)}else e("overwrite");this.daSchedule.toggleActionBtns(!0,"byPrio"),this.daSchedule.disablePrioBtn=!0},doReloadWithScore(){if(this.daSchedule.chosenScore==null){this.doNotify("Ayo select a score!");return}let l=()=>{console.log("doReloadWithScore..cancelling",this.daSchedule.getAllEvts()),this.reset()},e=o=>{let i=this.daSchedule.scheduleByScore(o);console.log("scheduleByScore::ACTION!!!",i),i.canContinue||(console.log("scheduleByScore::OVERLAPS?",i),i.overlaps&&Object.keys(i.overlaps).length>0?this.handleOverlaps(i.overlaps,null,"byScore"):this.doNotify(`Empty for Score == ${this.daSchedule.chosenScore} :(`,"warning","bottom"))},t=this.daSchedule.chosenScore;if(this.daSchedule.getAllEvts().length>0){let o=[{label:`Filter current Evts by Interval Score >= ${t}`,value:"filter"},{label:`Add to schedule Evts with Interval Score >= ${t}`,value:"add"},{label:`Overwrite current and schedule All of Interval Score >= ${t}`,value:"overwrite"}];this.radioChoiceDialog("","Schedule change...",o,"",e,l)}else e("overwrite");this.daSchedule.toggleActionBtns(!0,"byScore"),this.daSchedule.disableScoreBtn=!0},doSaveSchedule(){this.daSchedule.saveDaySchedule(),this.doNotify(`Schedule saved for ${this.currentDate}`,"positive","top")},doDroppy(l,e,t){if(e&&t){let o=this.daSchedule.tooClose(e,t.duration);if(o&&(console.log("doDroppy::tooClose to>>",o),o===!0)){this.doNotify("Dropping event TOO close to midnight!"),this.reset();return}let i=this.daSchedule.canDropEvent(e,t);if(i.canContinue)if((t==null?void 0:t.inDefaults)||!(t!=null&&t.canMove)){let n=[`Evt "${t.title.trim()}" Aint move from ${J(t.time)}.
\u2800
`,`
\u2800
`,`Also Move time to ${J(e.time)}? 
\u2800
`,`
\u2800
`,`Cancel or Dismiss to undo!
\u2800
`,`
\u2800
`,`No selection to add at default ${J(t.time)}`].join(`
`);const a=this.daSchedule;this.confirmTimeChange("Moving Evt's time",n,"Change","Temp.Move",function(r){a.changeEvtTime(t,e,r)},function(){console.log(`changeEventTime::onCancel..>doing nothing for ${t.id})'${t.title.trim()}'`)},function(){console.log(`changeEventTime::onDismiss..keep as is>> ${t.id})'${t.title.trim()}'`)})}else this.daSchedule.changeEvtTime(t,e,!1);else console.log("doDroppy::can NOT Drop",JSON.parse(JSON.stringify(i))),this.handleOverlaps(i.overlaps,!0,"onDrop")}else{console.log("doDroppy null ERROR?",e,this.targetDrop,t,this.selectedItem);return}},reset(){this.selectedItem=null,this.targetDrop=null,this.touchedItem=null,this.possibleRange=null},closingDialog(){this.addEventDialog=!1},onPickEvent(l,e,t){if(console.log("onPickEvent",l,e,t),this.addEventDialog=!1,!l){console.log("onPickEvent...ERROR nothing!",l,e,t),this.doNotify("No Goal selected..."),this.reset();return}let o=this.daSchedule.isViewingPast()?!0:e,i=this.daSchedule.tooClose(this.targetDrop.timestamp,l.duration);if(i){if(console.log("onPickEvent::tooClose check FAIL!",i),i===!0){this.doNotify("Picking event TOO close to midnight!"),this.reset();return}if(o)this.doNotify(`'${l.title.trim()}' TOO close to a scheduled Evt Buuut..FORCING!`);else{this.doNotify(`'${l.title.trim()}' Not added as TOO close to a scheduled Evt`),this.reset();return}}let s=this.daSchedule.onPickEvent(l,this.targetDrop.timestamp,o,t);s.canContinue?t&&(console.log("onPickEvent::NO OVERLAPS",s,this.daSchedule.getCurrentBalance()),this.doNotify("oooh What is Owed PAID!gg!","positive","center")):(console.log("onPickEvent::OVERLAPS?",JSON.parse(JSON.stringify(s))),s.overlaps&&Object.keys(s.overlaps).length>0?this.handleOverlaps(s.overlaps,null,"onPickEvt"):this.doNotify("Error onPickEvt :(","warning","bottom"))},onAddHocEvent(l,e,t,o){if(this.possibleRange||(this.possibleRange=this.startEndTimes),l.trim()==""){this.doNotify("Empty Goal title..."),this.addEventDialog=!1,this.reset();return}let i=he(this.possibleRange[0]),s=o>15?D(i,{minute:parseInt(o)}):D(he(this.possibleRange[1]),{minute:15}),n=Math.floor(x(i,s)/1e3/60),a=this.daSchedule.tooClose(i,n);if(a){console.log("onAddHocEvent::tooClose check FAIL!!",a),a===!0?this.doNotify(`'${l}' Not added as over midnight!`):this.doNotify(`'${l}' Not added as too close to a scheduled Evt!!`),this.addEventDialog=!1;return}let r=this.daSchedule.saveNewGoal(i,l,e,t,n);if(this.addEventDialog=!1,r){let f=this.daSchedule.onAdHocEvent(r);if(f.canContinue)this.constructTree();else if(console.log("onAddHocEvent::OVERLAPS?",f,Object.keys(f.overlaps).length),f.overlaps==null){this.doNotify("Error Adding this event :(","negative"),console.log("onAddHocEvent::ERROR?",f);return}else this.handleOverlaps(f.overlaps,null,"adHocEvt")}else console.log("BOO ERROR no subID:(",r),this.doNotify("Error creating and adding this event :(","negative")},handleOverlaps(l,e=null,t=""){var y;console.log("handleOverlaps >>",JSON.parse(JSON.stringify(l)),"from:"+t);const o=(d,u)=>{if(d!=null&&d.parentGoal){let p=this.daSchedule.parentGoalById(d.parentGoal);return u?`Of '${p==null?void 0:p.title.trim()}' with Prio(${p==null?void 0:p.priority})`:`Of '${p==null?void 0:p.title.trim()}'`}return console.log("prioLabel..ERROR no PARENT found?",d),""},i=(d,u)=>{switch(u){case"score":return`${o(d,!1)} > "${d.title.trim()}" with Score:: ${d.score} = ${de(d.score)}`;case"prio":return`"${d.title.trim()}" ${o(d,!0)}`;default:return`"${d.title.trim()}" ${o(d,!0)} && Score:: ${d.score}`}},s=d=>{this.doNotify(d,"positive","top")},n=d=>{let u=this.daSchedule.getCurrentMoods()[d.id];console.log(`handleOverlaps::doRem ${d.id}:${d.title}`,u),this.daSchedule.removeScheduledEvt(d,u)},a=(d,u,p)=>{if(console.log(`handleOverlaps::removeReplace >> replacing>> ${d.id}) '${d.title.trim()}' WITH ${u.id}) ${u.title.trim()}`,p,"from>"+t),e){if(console.log("handleOverlaps::removeReplace...OVERRIDE from>>"+t),t=="onDrop"){n(d);return}console.log("handleOverlaps::removeReplace....OVERRIDE updating..."+t),this.daSchedule.doUpdateSchedule(u,p.targetStart);return}n(d);let E=this.daSchedule.addGoalsToSchedule([{...u,time:p.targetStart.time}],!0),h=Object.keys(E).length;if(h>0)return console.log(`${t}>handleOverlaps::removeReplace:: OVERLAPS again from adding ${u.id} overlaps =${h}`,u,JSON.parse(JSON.stringify(E))),this.doNotify(`Extra Overlaps while adding ${u[0].title.trim()}`,"warning","top"),this.handleOverlaps(E,e,t+"nah")},r=(d,u,p)=>{if(console.log(`handleOverlaps::forceAdd:${t} >>${u.id})'${u.title}' at ${u.time}.
          
Changing >>${d.id} from ${d.time} `,p.targetStart.time),p.direction!=="surrounding")this.daSchedule.recurChangeTime(d.id,u,p.targetStart,t!="onDrop");else{console.log("handleOverlaps::forceAdd: gonna overlapCheckEvtsAdd....");let E=this.daSchedule.addGoalsToSchedule([{...u,time:p.targetStart.time}],!0),h=Object.keys(E).length;if(h>0)return console.log(`handleOverlaps::forceAdd:: OVERLAPS again of size:${h} from >${t}>`+u.title,JSON.parse(JSON.stringify(E))),this.doNotify(`Extra Overlaps while adding '${u.title.trim()}' `,"warning","top"),this.handleOverlaps(E,e,t+"nah")}this.daSchedule.toggleActionBtns(!0,t)};let f=(d,u,p,E,h)=>{v.push(u),u==p.id?(a(E,p,h),s(`by ${d}, Scheduling '${p.title.trim()}'`)):(console.log(`onOkChoice::by ${d},chose scheduled ${u} ...with override?`,e,t),s(`by ${d}, Keeping scheduled '${E.title.trim()}'`),t.indexOf("byMood")>-1&&console.log("handleOverlaps::onOkChoice::Moood!! updates? from: "+t,p.title.trim()),e&&n(p))},g=(d,u)=>{if(e){if(console.log("handleOverlaps::cancelChoice::OVERRIDE...coolios!!from:"+t,d.title.trim()),t=="onDrop"){s("Umm...not moving then...."),this.daSchedule.toggleActionBtns(!1,"view");return}n(d),s(`Keeping scheduled '${u.title.trim()}'`);return}t.indexOf("byMood")>-1&&console.log("handleOverlaps::Mood!!!!updates? from: "+t,d.title.trim()),this.daSchedule.toggleActionBtns(!0,"view"),s(`Keeping scheduled '${u.title.trim()}'`)},S=(d,u)=>{v[0]==u?this.daSchedule.toggleActionBtns(!0,t):console.log("no change "+t,v[0],u)};const b=(d,u,p,E)=>{if(d=="opt3"){let h="Pick one event...",m=[{label:i(u,"def"),value:u.id,color:"secondary"},{label:i(p,"def"),value:p.id}];this.radioChoiceDialog("",h,m,"",function(A){f("Event",A,u,p,E)},null,function(){S("resolveChoice::byEvent... dismissing",u.id)})}else if(d=="opt2"){let h="Pick event by Score",m=[{label:i(u,"score"),value:u.id,color:"secondary"},{label:i(p,"score"),value:p.id}];this.radioChoiceDialog("",h,m,"",function(A){f("Score",A,u,p,E)},null,function(){S("resolveChoice::byScore... dismissing",u.id)})}else if(d=="opt1"){let h="Pick event by Priority",m=[{label:i(u,"prio"),value:u.id,color:"secondary"},{label:i(p,"prio"),value:p.id}];this.radioChoiceDialog("",h,m,"",function(A){f("Priority",A,u,p,E)},null,function(){S("resolveChoice::byPriority... dismissing",u.id)})}else d=="opt0"?(console.log("resolveChoice::it's a dropppp...keeping as is...."),g(u,p)):r(p,u,E)},c=(d,u,p,E,h)=>{E.direction!=="surrounding"&&!h?t.indexOf("nah")>-1?console.log("handleOverlaps::manualSolve NOT adding Force as from "+t):d.push({label:`Force in '${u.title.trim()}'`,value:"opt4"}):console.log("handleOverlaps::manualSolve NO force option...direction!==surrounding?",E.direction!=="surrounding","autoSolve?: "+h,t);let m=` '${u.title.trim()}' Overlaps with Scheduled '${p.title.trim()}'.
          
Cancel to keep '${p.title.trim()}' at ${J(p==null?void 0:p.time)}`;this.radioChoiceDialog("Resolve Overlapping Events",m,d,"opt1",function(A){b(A,u,p,E)},function(){console.log("handleOverlaps::manualSolve::cancelChoice>> from: "+t,v),g(u,p)},function(){console.log("handleOverlaps::onDismiss >"+t,v)})};let v=[],O=Object.keys(l).length;for(let d in l){if(!l[d]||!l[d][0]){console.log("handleOverlaps...unknown key found",d);continue}let u=[{label:"Choose one event",value:"opt3"}];t=="byScore"?u.unshift({label:"Choose by Priority",value:"opt1",color:"secondary"}):t=="byPrio"?u.unshift({label:"Choose by Score",value:"opt2"}):t=="onDrop"?u.unshift({label:"Leave as is!",value:"opt0"},{label:"Choose by Priority",value:"opt1",color:"secondary"},{label:"Choose by Score",value:"opt2"}):u.unshift({label:"Choose by Priority",value:"opt1",color:"secondary"},{label:"Choose by Score",value:"opt2"});let p=l[d];if(p.length>1){console.log("handleOverlaps::WOAH WOAH...multiple overlaps!!");continue}const E=p.pop();let h=this.daSchedule.getSubGoalByID(E.target),m=this.daSchedule.findSchedEvent(E.inConflict);if(!m||!h){console.log("handleOverlaps...ERROR ERROR no evts found!!!",E);return}console.log(`handleOverlaps::adding ${h.id}:${h.title.trim()}(${h.time})++${h.duration} AT >> ${(y=E==null?void 0:E.targetStart)==null?void 0:y.time} -- ${E.direction} 
        Overlap with ${m.id}:${m.title.trim()}(${m.time})++${m.duration}`,e,"from:"+t,"toHandle="+O);let A=h.title.trim().includes(m.title.trim()),T=m.title.trim().includes(h.title.trim()),_e=this.daSchedule.parentGoalById(h.parentGoal),Ae=this.daSchedule.parentGoalById(m.parentGoal),ue=h.title.trim().includes(Ae.title.trim()),fe=m.title.trim().includes(_e.title.trim());(ue||fe)&&console.log("handleOverlaps:: WOAH PARENT AUTO schedule",ue,fe,"Normal AUTO>>",A,T,"direction == surrounding? >>",E.direction=="surrounding"),A||T?(console.log("handleOverlaps:: can AUTO schedule",A,T,"direction == surrounding? >>",E.direction=="surrounding"),this.scrollToTime(E==null?void 0:E.targetStart,"slow"),this.confirmAction(`"${h.title.trim()}" related to Scheduled "${m.title.trim()}".
          
Auto resolve Overlap?
          
Cancel/Dismiss for manual resolution.`,"Auto",function(){var me;if(A){console.log("auto schedule with removeReplace..with ORIG TIMES>>",h.time,m.time,(me=E==null?void 0:E.targetStart)==null?void 0:me.time),a(m,h,E),s(`Scheduling Evt '${h.title.trim()}'`);return}else{console.log("auto schedule with cancelChoice >> from: ",t),g(h,m);return}},function(){console.log("Cancelling Auto-Solve...doing manual"),c(u,h,m,E,!0)})):c(u,h,m,E,!1)}},onEndNow(l){const e=()=>{console.log("onEndNow::removing and saving!",l);let i=this.daSchedule.findSchedEvent(l);this.daSchedule.removeScheduledEvt(i),this.daSchedule.saveDaySchedule()},t=i=>{this.daSchedule.reduceEvtDuration(l,i)};let o=this.daSchedule.canEndNow(l);o?this.confirmAction(`Less than 10mins remove?
 Cancel to just EndNow`,"OK",e,function(){t(o)}):console.log("onEndNow...ERROR?",l,o,Number.isInteger(o))},onSaveScore(l,e,t=""){let o=de(l);if(o<-1){o==-89?(console.log("onSaveScore parsing error",o,l),this.doNotify("Score Parsing Error... YOU FOO! ")):this.doNotify("Score Error: higher# on lower#");return}this.daSchedule.updateNoteScore(e,l,t)},onAddMins(l,e){console.log("onAddMins",l,e);let t=this.daSchedule.addMinsToEvt(l,e);t.canContinue||(console.log("onAddMins::OVERLAPS?",t),t.overlaps&&Object.keys(t.overlaps).length>0?this.handleOverlaps(t.overlaps,null,"onAddMins"):this.doNotify("Add mins ERROR:(","warning","bottom"))},removeEvtInSchedule(l){let e=!1,t=()=>{if(this.daSchedule.removeScheduledEvt(l,e),e){console.log("removeEvtInSchedule..autoSave for: "+l.title),this.daSchedule.saveDaySchedule();return}this.daSchedule.toggleActionBtns(!0,"view")};if(this.daSchedule.isViewingPast()){if(l.duration<30){this.doNotify("Removing from the past... Check BALANCE!"),this.daSchedule.addToBalance(l),e=!0,t();return}this.chooseAlternatives(l);return}if(!this.daSchedule.isViewingToday()&&!this.mobile){e=this.daSchedule.getCurrentMoods()[l.id],t(),console.log("Removed future evt");return}let o=`Remove "${l.title}" from schedule?`,i=this.daSchedule.getCurrentMoods()[l.id];i&&(console.log("removeEvtInSchedule with MOOD?!?",i),e=!0,o=o+" With Mood "+i),this.confirmAction(o,"Remove",t,function(){console.log("Cancelled remove")})},chooseAlternatives(l){let e=this.daSchedule.getAltEvts(),t=I(new Date);console.log("chooseAlternatives >>ALTS:",JSON.parse(JSON.stringify(e)));let o=l.time,i=t.date;const s=g=>{let S=this.daSchedule.parentGoalById(g.parentGoal);return{label:`Of '${S==null?void 0:S.title.trim()}' "${g.title.trim()}" (${g.score}) for ${g==null?void 0:g.duration} mins`,value:g.id}},n=g=>g.filter(S=>!this.daSchedule.getAllEvts().find(b=>b.id==S.id)),a=g=>{let S=D(k(i),{day:0}),b=D(k(S.date),{day:1}),c=this.daSchedule.getEventsForDate(S.date),v={},O=null;c?v=c:console.log("addInFutur EMPTY for >>...",S.date),g.forEach(y=>{if(O=this.daSchedule.getSubGoalByID(y),v[y]){console.log("addInFutur...ALREADY PRESENT",y,S.date,O==null?void 0:O.title.trim()),this.doNotify(`Alternative '${O==null?void 0:O.title.trim()}' already present on ${S.date}. Moving it to next day`,"warning");let d=this.daSchedule.getEventsForDate(b.date);if(d)if(!d[y])d[y]={duration:O==null?void 0:O.duration,time:o};else{console.log("addInFutur...STILL PRESENT in next day:"+b.date,O.title.trim()),this.doNotify(`Booo! Alt '${O==null?void 0:O.title.trim()}' also present on ${b.date} :(( ...Check BALANCE!`),this.daSchedule.addToBalance(O);return}else console.log("addInFutur next day EMPTY for >>...",b.date),d={},d[y]={duration:O.duration,time:o};this.daSchedule.updateDaySchedule(b.date,d),this.doNotify(`Saving ${O.title} in ${b.date}`,"positive","bottom")}else v[y]={duration:O.duration,time:o}}),console.log("addInFutur>>>",S.date,JSON.parse(JSON.stringify(v))),this.daSchedule.updateDaySchedule(S.date,v)},r=g=>{this.daSchedule.removeScheduledEvt(l);let S=e.find(v=>v.id==g);console.log("remReplace...Add at:",o,S.title,"usually at:"+S.time);let b=this.daSchedule.addGoalsToSchedule([{...S,time:o}],!0),c=Object.keys(b).length;if(c>0)return console.log(`chooseAlternatives::removeReplace:: OVERLAPS again from ${S.length} overlaps =${c}`,S,b),this.doNotify(`Extra Overlaps while adding ${S[0].title.trim()}`,"warning","top"),this.handleOverlaps(b,null,"alts");this.daSchedule.saveDaySchedule(),this.doNotify(`Added Alt replacement '${S==null?void 0:S.title}' at ${o}`,"positive","bottom")},f=g=>{this.doNotify(g)};if(e=n(e),e.length==0){f("Removing not allowed! Alternatives already present!");return}this.checkBoxDialog("Gotta pick alternatives","Select the first Evt to replace the removed and an Extra evt for later day (today)!",e.map(s),e[0].id,function(g){console.log("chooseAlternatives::opt",g),r(g.shift()),g.length>0?a(g):(console.log("chooseAlternatives::onOk...nothing to add?!?",e.length,g.length,e.length-g.length),f("No Alternative scheduled later :("))},function(){console.log("chooseAlternatives::onCancel")})},onPrev(){this.$refs.calendar.prev()},onToday(){this.$refs.calendar.moveToToday()},onNext(){this.$refs.calendar.next()},onChange(){let l=this.daSchedule.onChangeViewDate(this.currentDate);l.canContinue?this.doNotify("Empty for currentDay :(","warning","bottom"):l.overlaps&&Object.keys(l.overlaps).length>0?this.handleOverlaps(l.overlaps,null,"view"):(this.doNotify(`Loaded schedule for ${this.currentDate}`,"positive","bottom"),(this.isViewingPast()||this.currentDate!==oe())&&this.adjustCurrentTime())},onDragStart(l,e){if(this.daSchedule.isViewingPast()){this.doNotify("Editing past is no no!"),l.preventDefault();return}this.selectedItem=e},onDragEnter(l,e,t){return e==="goal-item"||(this.targetDrop=t),l.preventDefault(),!0},onDragOver(l,e,t){return l.preventDefault(),!0},onDragLeave(l,e,t){return!1},onDragEnd(l){},onDrop(l,e,t){let o=this.daSchedule.findSchedEvent(this.selectedItem.id);if(!o){console.log("onDrop ERROR",o,this.selectedItem);return}let i=null;if(e==="interval")i=t.timestamp;else if(e==="goal-item"&&this.targetDrop)i=this.targetDrop.timestamp;else{console.log("Cannot drop here YO!!",l,e,t,this.targetDrop);return}if(!i){console.log("ERROR...no timestamp YO!!",l,e,t,this.targetDrop);return}this.doDroppy("onDrop",i,this.selectedItem)},onClickTime(l){this.addEventDialog=!0,this.targetDrop=l.scope},onClickDate(l){console.log("onClickDate",l)},onClickInterval(l){console.log("onClickInterval",l)},onClickHeadIntervals(l){console.log("onClickHeadIntervals",l)},onClickHeadDay(l){console.log("onClickHeadDay",l)},onMouseEnter(l){console.log("onMouseAt",l)},onMouseLeave(l){console.log("onMouseLeave",JSON.stringify(l))},onMouseDownTime({scope:l,event:e}){if(Ne(e)){if(this.mobile===!0&&this.anchorTimestamp!==null&&this.otherTimestamp!==null&&z(this.anchorTimestamp)===z(this.otherTimestamp)){this.otherTimestamp=l.timestamp,this.mouseDown=!1;return}this.mouseDown=!0,this.anchorTimestamp=l.timestamp,this.otherTimestamp=l.timestamp}},onMouseUpTime({scope:l,event:e}){if(this.mobile!==!0&&Ne(e)&&(this.otherTimestamp=l.timestamp,this.mouseDown=!1),!this.mousedown){let t=this.startEndTimes;if(t[1]==t[0])return;this.possibleRange=t,console.log("onMouseUpTime range change",this.possibleRange)}},onMouseMoveTime({scope:l,event:e}){this.mobile!==!0&&this.mouseDown===!0&&(this.otherTimestamp=l.timestamp)},onDblClickEvent(l,e){if(this.isViewingPast()){if(e.duration<30){console.log("onDblClickEvent..baah too smoll smoll",e.title,e.duration),this.doNotify("umm Removing from the past..Soo Check BALANCE!"),this.daSchedule.addToBalance(e),this.daSchedule.removeScheduledEvt(e);return}this.chooseAlternatives(e),l.preventDefault();return}this.removeEvtInSchedule(e),l.preventDefault()},onTouchStart(l,e){if(l.type=="touchstart"){this.selectedItem=e;let t=document.elementFromPoint(l.changedTouches[0].clientX,l.changedTouches[0].clientY);if(t.parentNode.classList.contains("my-event"))console.log("onTouchStart >>my-event-drag","isDisabledScoreEdit>> "+this.daSchedule.isDisabledScoreEdit[e.id],"showMobileDialog>> "+this.daSchedule.showMobileDialog[e.id]),t.parentNode.classList.add("my-event-drag"),this.touchedItem=t;else{let o=t.closest(".my-event");if(t=t.parentNode,t.parentNode.classList.contains("my-event"))console.log("onTouchStart >>PHEW..FOUND","isDisabledScoreEdit>> "+this.daSchedule.isDisabledScoreEdit[e.id],o),t.parentNode.classList.add("my-event-drag"),this.touchedItem=t;else{this.touchedItem=!1;return}}return l.preventDefault(),!0}console.log("onTouchStart::ERROR...UNKNOWN",l)},onTouchEvt(l,e){const t=i=>{let s=i.split(" "),n=s[s.length-2],a=D(k(this.currentDate),{minute:L(n)});return s[s.length-1]=="PM"?a.hour==12?a:D(k(this.currentDate),{hour:12,minute:L(n)}):a.hour==12?D(k(this.currentDate),{hour:-12,minute:L(n)}):a};let o=i=>{let s=i.closest(".my-event");s.classList.contains("my-event-drag")?s.classList.toggle("my-event-drag"):console.log("onTouchEvt::resetClass...AINT THERE!",s,i)};if(this.selectedItem||(console.log("onTouchEvt NULL Item ?!? >> "+l.type,this.selectedItem,this.touchedItem),e=this.selectedItem),l.type=="touchmove"){if(this.isViewingPast()){this.doNotify("Editing past is no no!"),l.preventDefault(),l.stopPropagation();return}let i=document.elementFromPoint(l.changedTouches[0].clientX,l.changedTouches[0].clientY);if(i.ariaLabel){let s=t(i.ariaLabel);if(this.targetDrop){let n=x(this.targetDrop,s);if(JSON.stringify(this.targetDrop)===JSON.stringify(s)&&n==0)return}this.targetDrop=s,l.preventDefault();return}else{let s=i.closest(".my-event");s&&!s.classList.contains("my-event-drag")&&console.log("onTouchEvt::move >>TO ADD AGAIN?!?",s,i,this.touchedItem)}return}if(l.type=="touchend"){let i=document.elementFromPoint(l.changedTouches[0].clientX,l.changedTouches[0].clientY);if(this.isViewingPast()){this.doNotify("Editing past is no no!"),o(this.touchedItem),l.preventDefault(),l.stopPropagation();return}if(this.touchedItem)if(i.parentNode.classList.contains("my-event-drag"))console.log("onTouchEvt::END >>removing my-event-drag","isDisabledScoreEdit>> "+this.daSchedule.isDisabledScoreEdit[e.id],"mobileEnableScore>> "+this.daSchedule.mobileEnableScore[e.id]),i.parentNode.classList.remove("my-event-drag");else{let s=this.touchedItem.parentNode.classList.contains("my-event-drag");s?this.touchedItem.parentNode.classList.remove("my-event-drag"):console.log("onTouchEvt::END... target NO my-event-drag?",s,i,i.parentNode)}else return;if(i.ariaLabel){let s=t(i.ariaLabel);this.targetDrop=s,this.doDroppy("onTouch",this.targetDrop,this.selectedItem)}else console.log("onTouchEvt::END>>ERROR?OVERLAP?",l,i,i.parentNode,this.mobile,this.daSchedule.isDisabledScoreEdit[e.id]),i.classList.contains("title")&&(console.log("onTouchEvt::END--has title!",this.targetDrop),this.doDroppy("onTouch",this.targetDrop,this.selectedItem));l.preventDefault(),l.stopPropagation();return}console.log("onTouchEvt::UNKNOWN",l)},onTouchHold({evt:l,...e},t){if(!this.mobile){console.log("onTouchHold>>NOT MOBILE",l.type,"mobileEnableScore>> "+this.daSchedule.mobileEnableScore[t.id]);return}let o=document.elementFromPoint(l.changedTouches[0].clientX,l.changedTouches[0].clientY);this.daSchedule.toggleEvtNoteScoreMobile(t.id);let i=o.closest(".my-event");o.classList.contains("title")&&o.parentNode.classList.contains("my-event-drag")?(console.log("onTouchHold...REMOVING my-event-drag",i),o.parentNode.classList.remove("my-event-drag")):i&&i.classList.contains("my-event-drag")?i.classList.toggle("my-event-drag"):(console.log("onTouchHold::class not found on Target!!",o,this.touchedItem),this.touchedItem&&(i=this.touchedItem.closest(".my-event"),i&&i.classList.contains("my-event-drag")?i.classList.toggle("my-event-drag"):console.log("ERROR...onTouchHold--class not found on Target!!",o,this.touchedItem))),this.daSchedule.isDisabledScoreEdit[t.id]&&!this.daSchedule.mobileEnableScore[t.id]&&(console.log("onTouchHold::dblClicking!",this.daSchedule.showEvtNoteScoreMobile(t.id)),this.onDblClickEvent(l,t))},scrollToEvent(l){this.$refs.calendar.scrollToTime(l.time,350)},scrollToTime(l,e=null){var t;if(this.$refs.calendar){let o=D(l,{minute:-30});console.log("scrollToTime::gonna SCROLL",l.time,o.time,e),(t=this.$refs.calendar)==null||t.scrollToTime(o.time,e?e=="fast"?400:1e3:500)}else console.log("scrollToTime::NO SCROLLY",l.time,JSON.parse(JSON.stringify(this.$refs)))},confirmTimeChange(l,e,t,o,i,s,n=null){this.$q.dialog({title:l,message:e,cancel:!1,ok:t,options:{type:"radio",model:"",items:[{label:t+" and "+o,value:"ok"},{label:o,value:"alt"}]},class:"overflow-wrap: break-word;",style:""}).onOk(a=>{if(a==""){console.log("confirmTimeChange onOk with no selection >>onDismiss"),this.doNotify("No selection made...Defaulting","positive","bottom"),n?n():console.log("confirmTimeChange:: No Dismiss func to execute!");return}return i(a)}).onCancel(()=>{console.log("confirmTimeChange>> executeCancel..."),s()})},radioChoiceDialog(l,e,t,o,i=null,s=null,n=null){this.$q.dialog({title:l,cancel:!!s,persistent:!0,message:e,options:{type:"radio",model:o,items:t}}).onOk(a=>{i&&(a==""?this.radioChoiceDialog(l,e,t,o,i,s,n):i(a))}).onCancel(()=>{s&&s()}).onDismiss(()=>{n&&n()})},checkBoxDialog(l,e,t,o,i=null,s=null,n=null){let a=t.length,r=a>2?2:a;this.$q.dialog({title:l,message:e,options:{type:"checkbox",model:[],isValid:f=>f.length>0&&f.length==r,items:t},cancel:!0,persistent:!0}).onOk(f=>{i(f)}).onCancel(()=>{s&&s()}).onDismiss(()=>{n&&n()})},confirmAction(l,e,t,o,i=null){this.$q.dialog({title:"Warning",cancel:!0,ok:e,message:l}).onOk(()=>{t()}).onCancel(()=>{o()}).onDismiss(()=>{if(i){console.log("confirmAction with dismiss!!"),i();return}})},doNotify(l,e=void 0,t="top"){this.$q.notify({color:e!==void 0?e:"negative",position:t,message:l,icon:e==null?"report_problem":"thumb_up"})},withDismissNotify(l,e=void 0,t="top",o=null,i=null){this.$q.notify({color:e!==void 0?e:"negative",position:t,message:l,icon:e==null?"report_problem":"thumb_up",timeout:o!=null?o:5e3,closeBtn:"Okey",onDismiss:i})}}},ie=l=>(Ue("data-v-2f8c937b"),l=l(),We(),l),Et={class:"subcontent"},Ot={class:"q-px-md boxy"},Dt={key:0},Tt={key:1},wt={key:2},Ct={key:3},Rt={key:4},Nt={key:5},Pt={class:"row justify-center"},_t=ie(()=>_("br",null,null,-1)),At=ie(()=>_("br",null,null,-1)),Mt={key:0,class:"q-pa-sm bg-grey-12",style:{"max-width":"400px"}},Bt={class:"q-pa-sm row justify-center"},kt={class:"row justify-center"},$t=ie(()=>_("br",null,null,-1)),Lt={key:0,class:"q-gutter-md"},xt={class:"q-mr-sm text-weight-bold",size:"28px"},Gt={key:0},Vt={class:"text-weight-bold"},It={key:1,class:"text-weight-light text-black"},Ft={key:1,class:"q-pa-md q-gutter-sm bg-grey-12",style:{"max-width":"400px"}},jt={key:0,class:"row"},Ht={class:"row justify-center"},qt={class:"q-gutter-md",style:{display:"flex","max-width":"800px",width:"100%",height:"600px"}},zt={style:{display:"flex","justify-content":"center","flex-wrap":"wrap",padding:"2px"}},Jt={class:"heady q-calendar__ellipsis"},Ut=["onDblclick","onDragstart","onTouchstart","onTouchmove","onTouchend"],Wt=ie(()=>_("br",null,null,-1));function Qt(l,e,t,o,i,s){const n=G("sched-btn"),a=G("drop-dwn-btn"),r=G("navigation-bar"),f=G("goaly-end"),g=G("mobileNoteScore"),S=G("q-calendar-day"),b=G("sched-dialog");return w(),V(tt,{padding:""},{default:N(()=>[_("div",Et,[R(Oe,{modelValue:i.splitterPage,"onUpdate:modelValue":e[9]||(e[9]=c=>i.splitterPage=c),limits:[30,70]},{before:N(()=>[R(Oe,{modelValue:i.splitterLegend,"onUpdate:modelValue":e[3]||(e[3]=c=>i.splitterLegend=c),horizontal:"",limits:[20,80],style:{height:"100%"}},{before:N(()=>[_("div",Ot,[i.daSchedule.getProps().showReloadBtn?(w(),P("div",Dt,[R(n,{"text-label":"Reload",class:"sched-btn","text-color":"green",onDoBtnAction:s.onReloadSaved},null,8,["onDoBtnAction"])])):M("",!0),i.daSchedule.getProps().showClearBtn?(w(),P("div",Tt,[R(n,{"text-label":"Clear",class:"sched-btn","text-color":"lime-5",onDoBtnAction:s.onClearDay},null,8,["onDoBtnAction"])])):M("",!0),s.showDefaultBtn?(w(),P("div",wt,[R(n,{textLabel:s.defaultLabels,class:"sched-btn","text-color":"blue",onDoBtnAction:s.onLoadDefault},null,8,["textLabel","onDoBtnAction"])])):M("",!0),i.daSchedule.getProps().showScoreBtn?(w(),P("div",Ct,[R(a,{class:"sched-drop-btn","text-color":"teal",disableBtn:i.daSchedule.disableScoreBtn,optionLabel:s.chosenScoreLabel,daOptions:i.scoreOptions,onDoReload:s.doReloadWithScore,onChooseOption:s.onChoosenScore},null,8,["disableBtn","optionLabel","daOptions","onDoReload","onChooseOption"])])):M("",!0),i.daSchedule.getProps().showPrioBtn?(w(),P("div",Rt,[R(a,{class:"sched-drop-btn","text-color":"teal",disableBtn:i.daSchedule.getProps().disablePrioBtn,optionLabel:s.chosenPrioLabel,daOptions:s.allMainGPrio(),onDoReload:s.doReloadWithPrio,onChooseOption:s.onChoosenPrio},null,8,["disableBtn","optionLabel","daOptions","onDoReload","onChooseOption"])])):M("",!0),i.daSchedule.getProps().showOneEachBtn?(w(),P("div",Nt,[R(n,{"text-label":"One Each",class:"sched-btn","text-color":"brown",onDoBtnAction:s.onScheduleOneEach},null,8,["onDoBtnAction"])])):M("",!0)]),_("div",Pt,[R(pe,{class:"q-mt-md","text-color":s.saveScheduleDisabled?"grey":"blue",elevated:"",push:"",align:"evenly",label:"SaveSchedule",disable:s.saveScheduleDisabled,onClick:s.doSaveSchedule,"no-caps":""},null,8,["text-color","disable","onClick"]),R(pe,{class:"q-mt-md","text-color":"green",elevated:"",push:"",align:"evenly",label:"TreeLegend",onClick:e[0]||(e[0]=c=>i.showTree=!i.showTree),"no-caps":""})]),_t]),after:N(()=>[At,i.treeGoals.length>0?(w(),P("div",Mt,[_("div",Bt,$(s.labelGoals("s")),1),_("div",kt,[R(Z,{color:"secondary","multi-line":""},{default:N(()=>[H($(s.labelGoals("b"))+" mins ",1)]),_:1})]),R(qe),$t,s.showTreeForm?(w(),P("div",Lt,[R(Xe,{label:"'je-suis'",hint:"Keyword >> Enter","hide-hint":"",ref:"filterRef",modelValue:i.filter,"onUpdate:modelValue":e[1]||(e[1]=c=>i.filter=c),"use-input":"","use-chips":"",multiple:"",disable:s.isViewingPast(),"hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",class:"q-gutter-sm"},{"selected-item":N(c=>[R(Ze,{removable:"",dense:"",onRemove:v=>c.removeAtIndex(c.index),tabindex:c.tabindex,"text-color":"black",class:"q-ma-none",style:{width:"80px"}},{default:N(()=>[H($(c.opt),1)]),_:2},1032,["onRemove","tabindex"])]),append:N(()=>[i.filter.length>0?(w(),V(ve,{key:0,name:"clear",class:"cursor-pointer",onClick:s.resetFilter},null,8,["onClick"])):M("",!0)]),_:1},8,["modelValue","disable"]),R(ot,{nodes:i.treeGoals,"node-key":"label",filter:s.filterString,"filter-method":s.myFilterMethod,expanded:i.expanded,"onUpdate:expanded":e[2]||(e[2]=c=>i.expanded=c),"no-connectors":"",dense:""},{"default-header":N(c=>[_("div",{class:X(s.classyColor(c.node))},[c.node.isChildren?M("",!0):(w(),V(ve,{key:0,name:c.node.icon||c.expanded?"expand_less":"expand_more",size:"28px",right:""},null,8,["name"])),_("div",xt,$(c.node.label),1)],2)]),"default-body":N(c=>[c.node.isChildren?(w(),P("div",Gt,[_("span",Vt," >> "+$(c.node.details),1)])):(w(),P("span",It,$(c.node.details),1))]),_:1},8,["nodes","filter","filter-method","expanded"])])):M("",!0),i.filter.length>0?(w(),P("div",Ft,[R(n,{"text-label":"Add Moods",class:"q-mt-xl sched-btn","text-color":"red",onDoBtnAction:s.onMoodAdd},null,8,["onDoBtnAction"])])):M("",!0)])):M("",!0)]),_:1},8,["modelValue"])]),separator:N(()=>[R(ze,{color:"primary",class:"q-px-md","text-color":"white",size:"40px",icon:"drag_indicator",style:{position:"relative",top:"70%"}})]),after:N(()=>[R(r,{onToday:s.onToday,onPrev:s.onPrev,onNext:s.onNext},null,8,["onToday","onPrev","onNext"]),s.scheduleMoodsLabel!=""?(w(),P("div",jt,[R(Z,{color:"secondary","multi-line":""},{default:N(()=>[H($(s.scheduleMoodsLabel),1)]),_:1})])):M("",!0),_("div",Ht,[_("div",qt,[R(S,{ref:"calendar",view:"day",modelValue:i.currentDate,"onUpdate:modelValue":e[8]||(e[8]=c=>i.currentDate=c),"drag-enter-func":s.onDragEnter,"drag-over-func":s.onDragOver,"drag-leave-func":s.onDragLeave,"drop-func":s.onDrop,animated:"",bordered:"",hoverable:"","no-active-date":"","transition-next":"slide-left","transition-prev":"slide-right","time-clicks-clamped":"","interval-minutes":15,"interval-count":96,"interval-height":28,"selected-start-end-dates":s.startEndTimes,onChange:s.onChange,onClickDate:s.onClickDate,onClickTime:s.onClickTime,onClickInterval:s.onClickInterval,onClickHeadIntervals:s.onClickHeadIntervals,onClickHeadDay:s.onClickHeadDay,onMousedownTime:s.onMouseDownTime,onMouseupTime:s.onMouseUpTime,onMousemoveTime:s.onMouseMoveTime},{"head-day-event":N(({scope:{timestamp:c}})=>[_("div",zt,[(w(!0),P(W,null,ye(s.eventsMap[c.date],v=>(w(),P(W,{key:v.id},[v.time?(w(),V(Z,{key:1,class:X(s.badgeClasses(v,"header")),style:Q([s.badgeStyles(v,"header"),{margin:"1px",width:"10px","max-width":"10px",height:"10px","max-height":"10px",cursor:"pointer"}]),onClick:O=>s.scrollToEvent(v)},{default:N(()=>[R(be,null,{default:N(()=>[H($("("+v.id+") "+v.title+" - "+v.time+" >> "+v.duration+"min"),1)]),_:2},1024)]),_:2},1032,["class","style","onClick"])):(w(),V(Z,{key:0,class:X(s.badgeClasses(v,"header")),style:Q([s.badgeStyles(v,"header"),{width:"100%",cursor:"pointer",height:"12px","font-size":"10px",margin:"1px"}])},{default:N(()=>[_("div",Jt,[H($(v.title)+" ",1),R(be,null,{default:N(()=>[H($(v.details),1)]),_:2},1024)])]),_:2},1032,["class","style"]))],64))),128))])]),"day-container":N(({scope:{days:c}})=>[s.hasDate(c)?(w(),P(W,{key:0},[_("div",{class:"day-view-current-time-indicator",style:Q(s.style)},null,4),_("div",{class:"day-view-current-time-line",style:Q(s.style)},null,4)],64)):M("",!0)]),"day-body":N(({scope:{timestamp:c,timeStartPos:v,timeDurationHeight:O}})=>[(w(!0),P(W,null,ye(s.getDateEvents(c.date),y=>(w(),P(W,{key:y.id},[y.time!==void 0?(w(),P("div",{key:0,class:X(["my-event",s.badgeClasses(y,"body")]),style:Q(s.badgeStyles(y,"body",v,O)),draggable:!0,onDblclick:ae(d=>s.onDblClickEvent(d,y),["prevent"]),onDragstart:ae(d=>s.onDragStart(d,y),["stop"]),onDragend:e[4]||(e[4]=ae((...d)=>s.onDragEnd&&s.onDragEnd(...d),["stop"])),onDrop:e[5]||(e[5]=d=>s.onDrop(d,"goal-item",l.scope)),onDragenter:e[6]||(e[6]=d=>s.onDragEnter(d,"goal-item",l.scope)),onDragover:e[7]||(e[7]=d=>s.onDragOver(d,"goal-item",l.scope)),onTouchstart:d=>s.onTouchStart(d,y),onTouchmove:d=>s.onTouchEvt(d,y),onTouchend:d=>s.onTouchEvt(d,y)},[Je(R(f,{disabledScore:i.daSchedule.isDisabledScoreEdit[y.id],title:y.title,id:y.id,startTime:y.time,score:y.score,details:y.details,notes:y.notes,happeningNow:i.daSchedule.hasStarted[y.id]?i.daSchedule.hasStarted[y.id]:!1,onEndNow:s.onEndNow,onSaveScore:s.onSaveScore,onAddMins:s.onAddMins,onDeleteNow:d=>s.removeEvtInSchedule(y)},null,8,["disabledScore","title","id","startTime","score","details","notes","happeningNow","onEndNow","onSaveScore","onAddMins","onDeleteNow"]),[[nt,d=>s.onTouchHold(d,y),"400:12:15",{mouse:!0}]]),s.showEvtMobile(y.id)?(w(),V(g,{key:0,title:y.title,id:y.id,startTime:y.time,score:y.score,details:y.details,notes:y.notes,"show-dialog":s.showEvtMobile(y.id),onSaveScore:s.onSaveScore,onDeleteNow:d=>s.removeEvtInSchedule(y),onEuhHidin:d=>i.daSchedule.euhHidin(y.id)},null,8,["title","id","startTime","score","details","notes","show-dialog","onSaveScore","onDeleteNow","onEuhHidin"])):M("",!0)],46,Ut)):M("",!0)],64))),128))]),_:1},8,["modelValue","drag-enter-func","drag-over-func","drag-leave-func","drop-func","selected-start-end-dates","onChange","onClickDate","onClickTime","onClickInterval","onClickHeadIntervals","onClickHeadDay","onMousedownTime","onMouseupTime","onMousemoveTime"])])]),Wt]),_:1},8,["modelValue"]),i.addEventDialog?(w(),V(b,{key:0,parentGoals:i.daSchedule.allPGoals(),canBeScheduled:s.canbeScheduled,balance:s.currentBalance,onAddAdHocEvent:s.onAddHocEvent,onOnPickEvent:s.onPickEvent,onEuhHidin:s.closingDialog},null,8,["parentGoals","canBeScheduled","balance","onAddAdHocEvent","onOnPickEvent","onEuhHidin"])):M("",!0)])]),_:1})}var lo=He(bt,[["render",Qt],["__scopeId","data-v-2f8c937b"]]);export{lo as default};
