import{a7 as $e,r as V,Z as Ae,a8 as ce,n as Ce,a9 as Y,w as F,b as He,e as Q,g as ae,aa as le,y as ne,ab as de,ac as Le,C as Pe,j as se,ad as Oe,ae as ee,u as De,af as We,c as J,ag as Ne,ah as ke,ai as qe,aj as Je,ak as Be,v as Re,h as U,T as be,k as Se,$ as ze,l as ie,m as z,p as Fe,t as je,al as Qe,am as Ie}from"./index.de5b6eb1.js";function oe(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),$e.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const xe={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},nt={...xe,contextMenu:Boolean};function Ke({showing:e,avoidEmit:l,configureAnchorEl:n}){const{props:t,proxy:a,emit:v}=ae(),u=V(null);let h=null;function p(f){return u.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const S={};n===void 0&&(Object.assign(S,{hide(f){a.hide(f)},toggle(f){a.toggle(f),f.qAnchorHandled=!0},toggleKey(f){Ae(f,13)===!0&&S.toggle(f)},contextClick(f){a.hide(f),ce(f),Ce(()=>{a.show(f),f.qAnchorHandled=!0})},prevent:ce,mobileTouch(f){if(S.mobileCleanup(f),p(f)!==!0)return;a.hide(f),u.value.classList.add("non-selectable");const x=f.target;Y(S,"anchor",[[x,"touchmove","mobileCleanup","passive"],[x,"touchend","mobileCleanup","passive"],[x,"touchcancel","mobileCleanup","passive"],[u.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{h=null,a.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){u.value.classList.remove("non-selectable"),h!==null&&(clearTimeout(h),h=null),e.value===!0&&f!==void 0&&oe()}}),n=function(f=t.contextMenu){if(t.noParentEvent===!0||u.value===null)return;let x;f===!0?a.$q.platform.is.mobile===!0?x=[[u.value,"touchstart","mobileTouch","passive"]]:x=[[u.value,"mousedown","hide","passive"],[u.value,"contextmenu","contextClick","notPassive"]]:x=[[u.value,"click","toggle","passive"],[u.value,"keyup","toggleKey","passive"]],Y(S,"anchor",x)});function T(){le(S,"anchor")}function W(f){for(u.value=f;u.value.classList.contains("q-anchor--skip");)u.value=u.value.parentNode;n()}function P(){if(t.target===!1||t.target===""||a.$el.parentNode===null)u.value=null;else if(t.target===!0)W(a.$el.parentNode);else{let f=t.target;if(typeof t.target=="string")try{f=document.querySelector(t.target)}catch{f=void 0}f!=null?(u.value=f.$el||f,n()):(u.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return F(()=>t.contextMenu,f=>{u.value!==null&&(T(),n(f))}),F(()=>t.target,()=>{u.value!==null&&T(),P()}),F(()=>t.noParentEvent,f=>{u.value!==null&&(f===!0?T():n())}),He(()=>{P(),l!==!0&&t.modelValue===!0&&u.value===null&&v("update:modelValue",!1)}),Q(()=>{h!==null&&clearTimeout(h),T()}),{anchorEl:u,canShow:p,anchorEvents:S}}function Ve(e,l){const n=V(null);let t;function a(h,p){const S=`${p!==void 0?"add":"remove"}EventListener`,T=p!==void 0?p:t;h!==window&&h[S]("scroll",T,ne.passive),window[S]("scroll",T,ne.passive),t=p}function v(){n.value!==null&&(a(n.value),n.value=null)}const u=F(()=>e.noParentEvent,()=>{n.value!==null&&(v(),l())});return Q(u),{localScrollTarget:n,unconfigureScrollTarget:v,changeScrollEvent:a}}const{notPassiveCapture:X}=ne,R=[];function Z(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let n=de.length-1;for(;n>=0;){const t=de[n].$;if(t.type.name==="QTooltip"){n--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;n--}for(let t=R.length-1;t>=0;t--){const a=R[t];if((a.anchorEl.value===null||a.anchorEl.value.contains(l)===!1)&&(l===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(l)===!1))e.qClickOutside=!0,a.onClickOutside(e);else return}}function Ye(e){R.push(e),R.length===1&&(document.addEventListener("mousedown",Z,X),document.addEventListener("touchstart",Z,X))}function fe(e){const l=R.findIndex(n=>n===e);l!==-1&&(R.splice(l,1),R.length===0&&(document.removeEventListener("mousedown",Z,X),document.removeEventListener("touchstart",Z,X)))}let he,ge;function me(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Ue(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const re={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{re[`${e}#ltr`]=e,re[`${e}#rtl`]=e});function pe(e,l){const n=e.split(" ");return{vertical:n[0],horizontal:re[`${n[1]}#${l===!0?"rtl":"ltr"}`]}}function Xe(e,l){let{top:n,left:t,right:a,bottom:v,width:u,height:h}=e.getBoundingClientRect();return l!==void 0&&(n-=l[1],t-=l[0],v+=l[1],a+=l[0],u+=l[0],h+=l[1]),{top:n,bottom:v,height:h,left:t,right:a,width:u,middle:t+(a-t)/2,center:n+(v-n)/2}}function Ze(e,l,n){let{top:t,left:a}=e.getBoundingClientRect();return t+=l.top,a+=l.left,n!==void 0&&(t+=n[1],a+=n[0]),{top:t,bottom:t+1,height:1,left:a,right:a+1,width:1,middle:a,center:t}}function _e(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function ve(e,l,n,t){return{top:e[n.vertical]-l[t.vertical],left:e[n.horizontal]-l[t.horizontal]}}function we(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{we(e,l+1)},10);return}const{targetEl:n,offset:t,anchorEl:a,anchorOrigin:v,selfOrigin:u,absoluteOffset:h,fit:p,cover:S,maxHeight:T,maxWidth:W}=e;if(Le.is.ios===!0&&window.visualViewport!==void 0){const B=document.body.style,{offsetLeft:L,offsetTop:N}=window.visualViewport;L!==he&&(B.setProperty("--q-pe-left",L+"px"),he=L),N!==ge&&(B.setProperty("--q-pe-top",N+"px"),ge=N)}const{scrollLeft:P,scrollTop:f}=n,x=h===void 0?Xe(a,S===!0?[0,0]:t):Ze(a,h,t);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:W,maxHeight:T,visibility:"visible"});const{offsetWidth:y,offsetHeight:$}=n,{elWidth:H,elHeight:C}=p===!0||S===!0?{elWidth:Math.max(x.width,y),elHeight:S===!0?Math.max(x.height,$):$}:{elWidth:y,elHeight:$};let A={maxWidth:W,maxHeight:T};(p===!0||S===!0)&&(A.minWidth=x.width+"px",S===!0&&(A.minHeight=x.height+"px")),Object.assign(n.style,A);const q=_e(H,C);let G=ve(x,q,v,u);if(h===void 0||t===void 0)te(G,x,q,v,u);else{const{top:B,left:L}=G;te(G,x,q,v,u);let N=!1;if(G.top!==B){N=!0;const k=2*t[1];x.center=x.top-=k,x.bottom-=k+2}if(G.left!==L){N=!0;const k=2*t[0];x.middle=x.left-=k,x.right-=k+2}N===!0&&(G=ve(x,q,v,u),te(G,x,q,v,u))}A={top:G.top+"px",left:G.left+"px"},G.maxHeight!==void 0&&(A.maxHeight=G.maxHeight+"px",x.height>G.maxHeight&&(A.minHeight=A.maxHeight)),G.maxWidth!==void 0&&(A.maxWidth=G.maxWidth+"px",x.width>G.maxWidth&&(A.minWidth=A.maxWidth)),Object.assign(n.style,A),n.scrollTop!==f&&(n.scrollTop=f),n.scrollLeft!==P&&(n.scrollLeft=P)}function te(e,l,n,t,a){const v=n.bottom,u=n.right,h=Pe(),p=window.innerHeight-h,S=document.body.clientWidth;if(e.top<0||e.top+v>p)if(a.vertical==="center")e.top=l[t.vertical]>p/2?Math.max(0,p-v):0,e.maxHeight=Math.min(v,p);else if(l[t.vertical]>p/2){const T=Math.min(p,t.vertical==="center"?l.center:t.vertical===a.vertical?l.bottom:l.top);e.maxHeight=Math.min(v,T),e.top=Math.max(0,T-v)}else e.top=Math.max(0,t.vertical==="center"?l.center:t.vertical===a.vertical?l.top:l.bottom),e.maxHeight=Math.min(v,p-e.top);if(e.left<0||e.left+u>S)if(e.maxWidth=Math.min(u,S),a.horizontal==="middle")e.left=l[t.horizontal]>S/2?Math.max(0,S-u):0;else if(l[t.horizontal]>S/2){const T=Math.min(S,t.horizontal==="middle"?l.middle:t.horizontal===a.horizontal?l.right:l.left);e.maxWidth=Math.min(u,T),e.left=Math.max(0,T-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?l.middle:t.horizontal===a.horizontal?l.left:l.right),e.maxWidth=Math.min(u,S-e.left)}var it=se({name:"QTooltip",inheritAttrs:!1,props:{...xe,...Oe,...ee,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ee.transitionShow,default:"jump-down"},transitionHide:{...ee.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:me},self:{type:String,default:"top middle",validator:me},offset:{type:Array,default:()=>[14,14],validator:Ue},scrollTarget:De,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...We],setup(e,{slots:l,emit:n,attrs:t}){let a,v;const u=ae(),{proxy:{$q:h}}=u,p=V(null),S=V(!1),T=J(()=>pe(e.anchor,h.lang.rtl)),W=J(()=>pe(e.self,h.lang.rtl)),P=J(()=>e.persistent!==!0),{registerTick:f,removeTick:x}=Ne(),{registerTimeout:y}=ke(),{transitionProps:$,transitionStyle:H}=qe(e),{localScrollTarget:C,changeScrollEvent:A,unconfigureScrollTarget:q}=Ve(e,s),{anchorEl:G,canShow:B,anchorEvents:L}=Ke({showing:S,configureAnchorEl:E}),{show:N,hide:k}=Je({showing:S,canShow:B,handleShow:j,handleHide:o,hideOnRouteChange:P,processOnMount:!0});Object.assign(L,{delayShow:d,delayHide:w});const{showPortal:I,hidePortal:K,renderPortal:_}=Be(u,p,g,"tooltip");if(h.platform.is.mobile===!0){const c={anchorEl:G,innerRef:p,onClickOutside(M){return k(M),M.target.classList.contains("q-dialog__backdrop")&&ze(M),!0}},m=J(()=>e.modelValue===null&&e.persistent!==!0&&S.value===!0);F(m,M=>{(M===!0?Ye:fe)(c)}),Q(()=>{fe(c)})}function j(c){I(),f(()=>{v=new MutationObserver(()=>i()),v.observe(p.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),i(),s()}),a===void 0&&(a=F(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,i)),y(()=>{I(!0),n("show",c)},e.transitionDuration)}function o(c){x(),K(),r(),y(()=>{K(!0),n("hide",c)},e.transitionDuration)}function r(){v!==void 0&&(v.disconnect(),v=void 0),a!==void 0&&(a(),a=void 0),q(),le(L,"tooltipTemp")}function i(){we({targetEl:p.value,offset:e.offset,anchorEl:G.value,anchorOrigin:T.value,selfOrigin:W.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function d(c){if(h.platform.is.mobile===!0){oe(),document.body.classList.add("non-selectable");const m=G.value,M=["touchmove","touchcancel","touchend","click"].map(O=>[m,O,"delayHide","passiveCapture"]);Y(L,"tooltipTemp",M)}y(()=>{N(c)},e.delay)}function w(c){h.platform.is.mobile===!0&&(le(L,"tooltipTemp"),oe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{k(c)},e.hideDelay)}function E(){if(e.noParentEvent===!0||G.value===null)return;const c=h.platform.is.mobile===!0?[[G.value,"touchstart","delayShow","passive"]]:[[G.value,"mouseenter","delayShow","passive"],[G.value,"mouseleave","delayHide","passive"]];Y(L,"anchor",c)}function s(){if(G.value!==null||e.scrollTarget!==void 0){C.value=Re(G.value,e.scrollTarget);const c=e.noParentEvent===!0?i:k;A(C.value,c)}}function b(){return S.value===!0?U("div",{...t,ref:p,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,H.value],role:"tooltip"},Se(l.default)):null}function g(){return U(be,$.value,b)}return Q(r),Object.assign(u.proxy,{updatePosition:i}),_}}),ot=se({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:l,emit:n}){let t=!1,a,v,u=null,h=null,p,S;function T(){a&&a(),a=null,t=!1,u!==null&&(clearTimeout(u),u=null),h!==null&&(clearTimeout(h),h=null),v!==void 0&&v.removeEventListener("transitionend",p),p=null}function W(y,$,H){$!==void 0&&(y.style.height=`${$}px`),y.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,a=H}function P(y,$){y.style.overflowY=null,y.style.height=null,y.style.transition=null,T(),$!==S&&n($)}function f(y,$){let H=0;v=y,t===!0?(T(),H=y.offsetHeight===y.scrollHeight?0:void 0):(S="hide",y.style.overflowY="hidden"),W(y,H,$),u=setTimeout(()=>{u=null,y.style.height=`${y.scrollHeight}px`,p=C=>{h=null,(Object(C)!==C||C.target===y)&&P(y,"show")},y.addEventListener("transitionend",p),h=setTimeout(p,e.duration*1.1)},100)}function x(y,$){let H;v=y,t===!0?T():(S="show",y.style.overflowY="hidden",H=y.scrollHeight),W(y,H,$),u=setTimeout(()=>{u=null,y.style.height=0,p=C=>{h=null,(Object(C)!==C||C.target===y)&&P(y,"hide")},y.addEventListener("transitionend",p),h=setTimeout(p,e.duration*1.1)},100)}return Q(()=>{t===!0&&T()}),()=>U(be,{css:!1,appear:e.appear,onEnter:f,onLeave:x},l.default)}}),rt=se({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:l}){const{proxy:{$q:n}}=ae(),t=ie(Fe,z);if(t===z)return console.error("QPage needs to be a deep child of QLayout"),z;if(ie(je,z)===z)return console.error("QPage needs to be child of QPageContainer"),z;const v=J(()=>{const h=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const p=t.isContainer.value===!0?t.containerHeight.value:n.screen.height;return e.styleFn(h,p)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-h+"px":n.screen.height===0?h!==0?`calc(100vh - ${h}px)`:"100vh":n.screen.height-h+"px"}}),u=J(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>U("main",{class:u.value,style:v.value},Se(l.default))}});function at(e,l){var a;const n=l==="header";return{[`text-white ${e.bgcolor?"bg-"+((a=e==null?void 0:e.bgcolor)==null?void 0:a.toLocaleLowerCase()):"bg-black"}`]:!0,"full-width":!n&&(!e.side||e.side==="full"),"left-side":!n&&e.side==="left","right-side":!n&&e.side==="right","rounded-border":!0}}function st(e,l,n=void 0,t=void 0){const a={};return n&&t&&(a.top=n(e.time)+"px",a.height=t(e.duration)+"px"),a["align-items"]="flex-start",a}function ut(){return["blue-grey","grey-10","brown","deep-orange","orange","amber","lime","light-green","green-10","teal","cyan","light-blue-3","blue","indigo","deep-purple-14","purple","pink","red"]}function ye(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(n=>ye(n));const l={};for(let n in e)e.hasOwnProperty(n)&&(l[n]=ye(e[n]));return l}function ct(e){if(!e)return"";let l=e.split(":");return parseInt(l[0])>=12?e+" PM":e+" AM"}function et(e){const l=e.split(/on/);return l.length!=2?-89:l[1]-l[0]}function tt(){return ie(Qe)}const dt=Ie("allGoals",()=>{const e=tt(),l=J(()=>{let o=JSON.parse(e.localStorage.getItem("mainGoals"));return a(o)}),n=J(()=>{let o=JSON.parse(e.localStorage.getItem("subGoals"));return a(o)}),t=J(()=>JSON.parse(e.localStorage.getItem("AllDates")));function a(o){return o?[...o]:[]}function v(o){e.localStorage.set("Balancey",JSON.stringify(o))}function u(){return JSON.parse(e.localStorage.getItem("Balancey"))}function h(o,r,i=null){x(),e.localStorage.set("mainGoals",JSON.stringify(o)),e.localStorage.set("subGoals",JSON.stringify(r)),i&&e.localStorage.set("AllDates",JSON.stringify(i))}function p(o,r,i,d,w=null){let E=this.getMainGoals;if(!E){console.log("umm no mainGoals...adding"),e.localStorage.set("mainGoals",JSON.stringify([{id:0,title:o.trim(),details:r,priority:d,bgcolor:i,icon:w?j(w):"fas fa-utensils"}]));return}let s=E.length+1;for(;E.some(b=>b.id===s);)s=Math.floor(Math.random()*(s*2));return E.unshift({id:s,title:o.trim(),details:r,priority:d,bgcolor:i,icon:w?j(w):"fas fa-utensils"}),e.localStorage.set("mainGoals",JSON.stringify(E)),s}function S(o,r,i,d,w,E=null){let s=this.getMainGoals;for(var b=0;b<s.length;b++)if(s[b].id===o){s[b].title=r.trim(),s[b].details=i,s[b].bgcolor=d,s[b].priority=w,s[b].icon=E?j(E):s[b].icon;break}e.localStorage.set("mainGoals",JSON.stringify(s))}function T(o,r,i,d,w,E,s,b,g){let c=this.getSubGoals;if(!c){e.localStorage.set("subGoals",JSON.stringify([{id:0,parentGoal:o,title:r.trim(),score:i,time:d,duration:w,canMove:E,inDefaults:s,isAlternative:b,jeSuis:g||[]}]));return}let m=c.length+1;for(;c.some(M=>M.id===m);)m=Math.floor(Math.random()*(m*2));return c.unshift({id:m,parentGoal:o,title:r.trim(),score:i,time:d,duration:w,canMove:E,inDefaults:s,isAlternative:b,jeSuis:g||[]}),e.localStorage.set("subGoals",JSON.stringify(c)),m}function W(o,r,i,d,w,E,s,b,g){let c=this.getSubGoals;for(var m=0;m<c.length;m++)if(c[m].id===o){c[m].title=r.trim(),c[m].score=i,c[m].time=d,c[m].duration=w,c[m].canMove=E,c[m].inDefaults=s,c[m].isAlternative=b,c[m].jeSuis=g||[];break}e.localStorage.set("subGoals",JSON.stringify(c))}function P(){e.localStorage.remove("mainGoals"),console.log("removed all mainGoal")}function f(){e.localStorage.remove("subGoals"),console.log("removed all subGoals")}function x(){e.localStorage.remove("subGoals"),e.localStorage.remove("mainGoals"),e.localStorage.remove("AllDates"),e.localStorage.remove("Balancey"),console.log("removed ALL")}function y(o,r=null,i=null){let d=this.getSubGoals;for(var w=0;w<d.length;w++)if(d[w].id===o){d[w].time=r||d[w].time,d[w].score=i||d[w].score;break}e.localStorage.set("subGoals",JSON.stringify(d))}function $(o){let r=this.getSubGoals;for(var i=0;i<r.length;i++)r[i].id===o&&r.splice(i,1);return e.localStorage.set("subGoals",JSON.stringify(r)),r}function H(o,r){let i=this.getMainGoals;for(var d=0;d<i.length;d++)i[d].id===o&&i.splice(d,1);return e.localStorage.set("mainGoals",JSON.stringify(i)),i}function C(o){var d;let r=this.getMainGoals;for(var i=0;i<r.length;i++)if(((d=r[i])==null?void 0:d.title.trim())===o)return r[i];return null}function A(o,r=null){let i=this.getAllDates;i?r?i[`${o}`]=r:o in i&&delete i[`${o}`]:(console.log(`Adding new schedule for ${o}`),i={},i[`${o}`]=r),e.localStorage.set("AllDates",JSON.stringify(i))}function q(o){let r=this.getAllDates;if(r)return r[`${o}`]}function G(o){let r=this.getAllDates;return r?!!r[`${o}`]:!1}function B(){const o=[];let r=function(d){return d==null?void 0:d.inDefaults},i=this.getSubGoals;return i?(i.forEach(d=>{r(d)&&o.push(d)}),o):(console.log("No subgoals to fetch defaults :("),o)}function L(){let o=this.getMainGoals,r=new Set;return o?(o.forEach(i=>{r.add(i.priority)}),r):(console.log("fetchAllPrio::No mainGoals :("),r)}function N(){const o=[];let r=this.getSubGoals;return r&&r.forEach(i=>{i!=null&&i.isAlternative&&o.push(i)}),o}function k(o){const r=[];let i=this.getSubGoals;return i&&i.forEach(d=>{if(d.score=="")console.log(`ERROR::empty score event added: ${d.title}`,d.score),r.push(d);else{let w=et(d.score);w>-1&&w<=o&&r.push(d)}}),r}function I(o){const i=(o/60).toFixed(2);return parseFloat(i)}function K(){let o=this.getMainGoals,r=this.getSubGoals,i=(s,b)=>{if(s.id>b.id)return 1;if(s.id==b.id)return 0;if(s.id<b.id)return-1},d=s=>{if(!s)return"";let b=s.split(":");return parseInt(b[0])>=12?s+" PM":s+" AM"},w=s=>{let b=[];return r&&r.forEach(g=>{g.parentGoal==s&&b.push(g)}),b},E=[];return o?(o.forEach(s=>{var m,M,O,ue;let b={id:s.id,label:`${s.id}) ${s==null?void 0:s.title.trim()}`,details:`${s.details} ==> Priority (${s==null?void 0:s.priority})`,color:`${s==null?void 0:s.bgcolor}`,prio:s==null?void 0:s.priority,icon:s==null?void 0:s.icon,children:[]},g=w(s.id);for(let D=0;D<g.length;D++){let Ge=g[D].inDefaults?"Dft":"#",Te=g[D].canMove?"Mv":"#",Ee=g[D].isAlternative?"Alt":"#",Me=[`${d((m=g[D])==null?void 0:m.time)} for ${(M=g[D])==null?void 0:M.duration} mins`,`:: ${Ge}~${Te}~${Ee}`].join(`
`);b.children.push({id:g[D].id,label:`${g[D].id})- ${(O=g[D])==null?void 0:O.title.trim()} (${(ue=g[D])==null?void 0:ue.score})`,details:Me,color:`${s==null?void 0:s.bgcolor}`,isChildren:!0,moods:g[D].jeSuis||[]})}let c=b.children;c.sort(i),b.children=c,E.push(b)}),E.sort(i),E):(console.log("fetchGoalsTree::No mainGoals :("),E)}function _(){var b;let o=this.getAllDates;if(!o)return[];let r=this.getMainGoals,i=this.getSubGoals,d={};for(let g in o){let c=o[g];for(let m in c){d[m]||(d[m]=[]);let M={date:g,logged:I(c[m].duration),atScore:(b=c[m])==null?void 0:b.atScore};"notes"in c[m]&&(M.notes=c[m].notes),d[m].push(M)}}let w=g=>{let c=[];return i&&i.forEach(m=>{m.parentGoal==g&&c.push(m)}),c},E=(g,c=null)=>{let m={children:[],title:c?`${g.title.trim()} (${g.score})`:`${g.title.trim()} !${g.priority}!`,key:c?`${c}-${g.id}`:g.id,logged:[],expanded:!0,color:g==null?void 0:g.bgcolor,isChild:!!c};if(c){let M=d[g.id]||[];m.logged=[...M]}return m},s=[];return r.forEach(g=>{let c=E(g),m=w(g.id);for(let M=0;M<m.length;M++){let O=E(m[M],g.id);O.logged.length!=0&&(c.logged.push(...O.logged),O.children.length<1?delete O.children:console.log("huh children has descendents?!? ERROR?",O),c.children.push(O))}s.push(c)}),s}function j(o){if(o.indexOf("-")>-1)return o;let r=o.replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).map(d=>d.toLowerCase()),i=!1;return r.length>1&&(console.log("iconParse::FAS",r),i=!0),r=r.join("-"),r.includes("regular")?"far fa-"+r.replace("-regular",""):i?"fas fa-"+r:"fab fa-"+r}return{getMainGoals:l,getSubGoals:n,getAllDates:t,currentBalance:u,setBalance:v,addMainGoal:p,addSubGoal:T,editSubGoal:W,editMainGoal:S,importGoals:h,getGoalByTitle:C,saveSubProp:y,saveDailySchedule:A,resetSub:f,resetMain:P,resetAll:x,removeSubgoal:$,removeMaingoal:H,getEventsForDate:q,hasEventsForDate:G,fetchAllTaskSummary:_,fetchGoalsUpToMaxScore:k,fetchAllPrio:L,fetchDefaults:B,fetchAlternativeEvts:N,fetchGoalsTree:K}});export{rt as Q,dt as a,at as b,st as c,it as d,ot as e,oe as f,nt as g,Ue as h,Ve as i,Ke as j,pe as k,Ye as l,et as m,ye as n,ut as p,fe as r,we as s,tt as u,me as v,ct as w};
