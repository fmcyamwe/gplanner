import{_ as f,$ as _,a4 as u,r as d,L as g,E as l,F as i,G as n,a3 as c,M as h,H as s,bg as k,bh as y,N as D,bd as A,a6 as C,a7 as p}from"./index.5b37cd2a.js";import{Q as E}from"./QSpace.7ad147b1.js";const B={name:"schedDialog",components:{adHocEvent:_(()=>u(()=>import("./adHocEvent.56c1f0d3.js"),["assets/adHocEvent.56c1f0d3.js","assets/adHocEvent.932ada99.css","assets/QSpace.7ad147b1.js","assets/index.5b37cd2a.js","assets/index.ddf7c1e7.css","assets/QSelect.7195696d.js","assets/touch.70a9dd44.js","assets/goalStorage.0dd53327.js","assets/QItem.7d007752.js","assets/utiFunc.ea1c50a7.js","assets/QKnob.95533f69.js"])),selectEvent:_(()=>u(()=>import("./selectEvent.030b8d0c.js"),["assets/selectEvent.030b8d0c.js","assets/selectEvent.0ed0e655.css","assets/index.5b37cd2a.js","assets/index.ddf7c1e7.css","assets/QItem.7d007752.js","assets/QSelect.7195696d.js","assets/touch.70a9dd44.js","assets/goalStorage.0dd53327.js","assets/utiFunc.ea1c50a7.js","assets/QSpace.7ad147b1.js"]))},props:{parentGoals:Array,canBeScheduled:Array,balance:Number},data(){return{showPickDialog:d(!1),showAdHocDialog:d(!1),show:d(!0)}},emits:["addAdHocEvent","onPickEvent","euhHidin"],computed:{showDefaultOption:{get(){return this.show},set(e){this.show=e}},showPickyDialog:{get(){return this.showPickDialog},set(e){this.showPickDialog=e}},showAddyDialog:{get(){return this.showAdHocDialog},set(e){this.showAdHocDialog=e}},allUnscheduled:{get(){return this.canBeScheduled.forEach(e=>{let o=this.parentGoals.find(t=>t.id==e.parentGoal);o?e.color=o.bgcolor:e.color="",e.pg=o==null?void 0:o.title.trim()}),this.canBeScheduled}}},methods:{onAddClicked(e,o,t){this.$emit("onPickEvent",e,o,t),this.reset()},adHocNewEvent(e,o,t,r){this.$emit("addAdHocEvent",e,o,t,r),this.reset()},onChooseExisting(){this.showPickyDialog=!this.showPickyDialog},onChooseAdHoc(){this.showAddyDialog=!this.showAddyDialog},gonHide(){this.$emit("euhHidin")},onCancelBtn(){let e=this.showPickyDialog;this.showAddyDialog,e?this.showPickyDialog=!this.showPickyDialog:this.showAddyDialog=!this.showAddyDialog},reset(){this.showAddyDialog=!1,this.showPickyDialog=!1}}},P=e=>(C("data-v-4423ea9e"),e=e(),p(),e),H={class:"q-ma-md event-select"},S={class:"q-ma-md event-select"},x=P(()=>h("div",{class:"text-h6"},"Ad hoc or Existing event",-1));function b(e,o,t,r,G,a){const v=g("select-event"),w=g("ad-hoc-event");return l(),i(A,{modelValue:a.showDefaultOption,"onUpdate:modelValue":o[0]||(o[0]=m=>a.showDefaultOption=m),"transition-show":"rotate","transition-hide":"rotate","no-esc-dismiss":"",onBeforeHide:a.gonHide},{default:n(()=>[a.showPickyDialog?(l(),i(c,{key:0},{default:n(()=>[h("div",H,[s(v,{canBeScheduled:a.allUnscheduled,toBalance:t.balance,onOnPickEvent:a.onAddClicked,onDoCancel:a.onCancelBtn},null,8,["canBeScheduled","toBalance","onOnPickEvent","onDoCancel"])])]),_:1})):a.showAddyDialog?(l(),i(c,{key:1},{default:n(()=>[h("div",S,[s(w,{mainGoals:t.parentGoals,toBalance:t.balance,onSaveEvent:a.adHocNewEvent,onDoCancel:a.onCancelBtn},null,8,["mainGoals","toBalance","onSaveEvent","onDoCancel"]),s(E)])]),_:1})):(l(),i(c,{key:2},{default:n(()=>[s(k,null,{default:n(()=>[x]),_:1}),s(y,{align:"center"},{default:n(()=>[s(D,{flat:"",label:"Add hoc",color:"primary",onClick:a.onChooseAdHoc},null,8,["onClick"]),s(D,{flat:"",label:"Existing",color:"primary",onClick:a.onChooseExisting},null,8,["onClick"])]),_:1})]),_:1}))]),_:1},8,["modelValue","onBeforeHide"])}var V=f(B,[["render",b],["__scopeId","data-v-4423ea9e"]]);export{V as default};
