import{ay as Ut,ac as Ee,x as qt,az as Yt,a9 as Pe,aA as Xe,a8 as Fe,b8 as te,aB as De,aa as Ue,a0 as le,j as Le,b9 as Ze,ba as At,bb as Et,bc as Ot,W as Mt,bd as Gt,Y as Ft,be as Jt,c as b,ax as Zt,g as Ke,h as q,Q as Re,bf as el,aF as tl,ad as ll,ae as ul,u as nl,af as ol,r as I,ag as al,ah as il,ai as rl,aj as sl,ak as cl,w as ie,bg as dl,bh as ht,bi as fl,bj as vl,v as ml,bk as hl,k as Sl,T as gl,i as et,aN as yl,bl,n as ae,bm as Cl,av as wl,aI as pl,aJ as Vl,bn as kl,bo as xl,bp as St,aG as Oe,o as ql,bq as Al,br as El,$ as Ol,an as Ml,bs as Fl,E as zl}from"./index.7e234c3b.js";import{g as gt,s as yt}from"./touch.9135741d.js";import{d as Tl,e as Bl,v as bt,f as _l,g as Il,h as Pl,p as Ct,i as Rl,r as wt,s as Dl}from"./goalStorage.f79fe052.js";import{Q as Hl,a as Ll,b as Kl}from"./QItem.4585712b.js";let He=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const o=document.createElement("div");Object.assign(o.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,He=e.scrollLeft>=0,e.remove()}function Ye(e,o,a){const f=De(e);let l,u=f.left-o.event.x,h=f.top-o.event.y,m=Math.abs(u),v=Math.abs(h);const S=o.direction;S.horizontal===!0&&S.vertical!==!0?l=u<0?"left":"right":S.horizontal!==!0&&S.vertical===!0?l=h<0?"up":"down":S.up===!0&&h<0?(l="up",m>v&&(S.left===!0&&u<0?l="left":S.right===!0&&u>0&&(l="right"))):S.down===!0&&h>0?(l="down",m>v&&(S.left===!0&&u<0?l="left":S.right===!0&&u>0&&(l="right"))):S.left===!0&&u<0?(l="left",m<v&&(S.up===!0&&h<0?l="up":S.down===!0&&h>0&&(l="down"))):S.right===!0&&u>0&&(l="right",m<v&&(S.up===!0&&h<0?l="up":S.down===!0&&h>0&&(l="down")));let d=!1;if(l===void 0&&a===!1){if(o.event.isFirst===!0||o.event.lastDir===void 0)return{};l=o.event.lastDir,d=!0,l==="left"||l==="right"?(f.left-=u,m=0,u=0):(f.top-=h,v=0,h=0)}return{synthetic:d,payload:{evt:e,touch:o.event.mouse!==!0,mouse:o.event.mouse===!0,position:f,direction:l,isFirst:o.event.isFirst,isFinal:a===!0,duration:Date.now()-o.event.time,distance:{x:m,y:v},offset:{x:u,y:h},delta:{x:f.left-o.event.lastX,y:f.top-o.event.lastY}}}}let $l=0;var nu=Ut({name:"touch-pan",beforeMount(e,{value:o,modifiers:a}){if(a.mouse!==!0&&Ee.has.touch!==!0)return;function f(u,h){a.mouse===!0&&h===!0?le(u):(a.stop===!0&&te(u),a.prevent===!0&&Fe(u))}const l={uid:"qvtp_"+$l++,handler:o,modifiers:a,direction:gt(a),noop:qt,mouseStart(u){yt(u,l)&&Yt(u)&&(Pe(l,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),l.start(u,!0))},touchStart(u){if(yt(u,l)){const h=u.target;Pe(l,"temp",[[h,"touchmove","move","notPassiveCapture"],[h,"touchcancel","end","passiveCapture"],[h,"touchend","end","passiveCapture"]]),l.start(u)}},start(u,h){if(Ee.is.firefox===!0&&Xe(e,!0),l.lastEvt=u,h===!0||a.stop===!0){if(l.direction.all!==!0&&(h!==!0||l.modifiers.mouseAllDir!==!0&&l.modifiers.mousealldir!==!0)){const S=u.type.indexOf("mouse")!==-1?new MouseEvent(u.type,u):new TouchEvent(u.type,u);u.defaultPrevented===!0&&Fe(S),u.cancelBubble===!0&&te(S),Object.assign(S,{qKeyEvent:u.qKeyEvent,qClickOutside:u.qClickOutside,qAnchorHandled:u.qAnchorHandled,qClonedBy:u.qClonedBy===void 0?[l.uid]:u.qClonedBy.concat(l.uid)}),l.initialEvent={target:u.target,event:S}}te(u)}const{left:m,top:v}=De(u);l.event={x:m,y:v,time:Date.now(),mouse:h===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:m,lastY:v}},move(u){if(l.event===void 0)return;const h=De(u),m=h.left-l.event.x,v=h.top-l.event.y;if(m===0&&v===0)return;l.lastEvt=u;const S=l.event.mouse===!0,d=()=>{f(u,S);let p;a.preserveCursor!==!0&&a.preservecursor!==!0&&(p=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),S===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Tl(),l.styleCleanup=A=>{if(l.styleCleanup=void 0,p!==void 0&&(document.documentElement.style.cursor=p),document.body.classList.remove("non-selectable"),S===!0){const P=()=>{document.body.classList.remove("no-pointer-events--children")};A!==void 0?setTimeout(()=>{P(),A()},50):P()}else A!==void 0&&A()}};if(l.event.detected===!0){l.event.isFirst!==!0&&f(u,l.event.mouse);const{payload:p,synthetic:A}=Ye(u,l,!1);p!==void 0&&(l.handler(p)===!1?l.end(u):(l.styleCleanup===void 0&&l.event.isFirst===!0&&d(),l.event.lastX=p.position.left,l.event.lastY=p.position.top,l.event.lastDir=A===!0?void 0:p.direction,l.event.isFirst=!1));return}if(l.direction.all===!0||S===!0&&(l.modifiers.mouseAllDir===!0||l.modifiers.mousealldir===!0)){d(),l.event.detected=!0,l.move(u);return}const g=Math.abs(m),y=Math.abs(v);g!==y&&(l.direction.horizontal===!0&&g>y||l.direction.vertical===!0&&g<y||l.direction.up===!0&&g<y&&v<0||l.direction.down===!0&&g<y&&v>0||l.direction.left===!0&&g>y&&m<0||l.direction.right===!0&&g>y&&m>0?(l.event.detected=!0,l.move(u)):l.end(u,!0))},end(u,h){if(l.event!==void 0){if(Ue(l,"temp"),Ee.is.firefox===!0&&Xe(e,!1),h===!0)l.styleCleanup!==void 0&&l.styleCleanup(),l.event.detected!==!0&&l.initialEvent!==void 0&&l.initialEvent.target.dispatchEvent(l.initialEvent.event);else if(l.event.detected===!0){l.event.isFirst===!0&&l.handler(Ye(u===void 0?l.lastEvt:u,l).payload);const{payload:m}=Ye(u===void 0?l.lastEvt:u,l,!0),v=()=>{l.handler(m)};l.styleCleanup!==void 0?l.styleCleanup(v):v()}l.event=void 0,l.initialEvent=void 0,l.lastEvt=void 0}}};if(e.__qtouchpan=l,a.mouse===!0){const u=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";Pe(l,"main",[[e,"mousedown","mouseStart",`passive${u}`]])}Ee.has.touch===!0&&Pe(l,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const a=e.__qtouchpan;a!==void 0&&(o.oldValue!==o.value&&(typeof value!="function"&&a.end(),a.handler=o.value),a.direction=gt(o.modifiers))},beforeUnmount(e){const o=e.__qtouchpan;o!==void 0&&(o.event!==void 0&&o.end(),Ue(o,"main"),Ue(o,"temp"),Ee.is.firefox===!0&&Xe(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchpan)}}),jl=Le({name:"QField",inheritAttrs:!1,props:{...Ze,tag:{type:String,default:"label"}},emits:At,setup(){return Et(Ot({tagProp:!0}))}});const Nl={xs:8,sm:10,md:14,lg:20,xl:24};var Ql=Le({name:"QChip",props:{...Mt,...Gt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:a}){const{proxy:{$q:f}}=Ke(),l=Ft(e,f),u=Jt(e,Nl),h=b(()=>e.selected===!0||e.icon!==void 0),m=b(()=>e.selected===!0?e.iconSelected||f.iconSet.chip.selected:e.icon),v=b(()=>e.iconRemove||f.iconSet.chip.remove),S=b(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=b(()=>{const C=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(C?` text-${C} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(S.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(l.value===!0?" q-chip--dark q-dark":"")}),g=b(()=>{const C=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},L={...C,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||f.lang.label.remove};return{chip:C,remove:L}});function y(C){C.keyCode===13&&p(C)}function p(C){e.disable||(a("update:selected",!e.selected),a("click",C))}function A(C){(C.keyCode===void 0||C.keyCode===13)&&(le(C),e.disable===!1&&(a("update:modelValue",!1),a("remove")))}function P(){const C=[];S.value===!0&&C.push(q("div",{class:"q-focus-helper"})),h.value===!0&&C.push(q(Re,{class:"q-chip__icon q-chip__icon--left",name:m.value}));const L=e.label!==void 0?[q("div",{class:"ellipsis"},[e.label])]:void 0;return C.push(q("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},el(o.default,L))),e.iconRight&&C.push(q(Re,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&C.push(q(Re,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:v.value,...g.value.remove,onClick:A,onKeyup:A})),C}return()=>{if(e.modelValue===!1)return;const C={class:d.value,style:u.value};return S.value===!0&&Object.assign(C,g.value.chip,{onClick:p,onKeyup:y}),Zt("div",C,P(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[tl,e.ripple]])}}}),Wl=Le({name:"QMenu",inheritAttrs:!1,props:{...Bl,...ll,...Mt,...ul,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:bt},self:{type:String,validator:bt},offset:{type:Array,validator:_l},scrollTarget:nl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ol,"click","escapeKey"],setup(e,{slots:o,emit:a,attrs:f}){let l=null,u,h,m;const v=Ke(),{proxy:S}=v,{$q:d}=S,g=I(null),y=I(!1),p=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),A=Ft(e,d),{registerTick:P,removeTick:C}=al(),{registerTimeout:L}=il(),{transitionProps:W,transitionStyle:R}=rl(e),{localScrollTarget:F,changeScrollEvent:he,unconfigureScrollTarget:z}=Il(e,V),{anchorEl:$,canShow:Z}=Pl({showing:y}),{hide:ue}=sl({showing:y,canShow:Z,handleShow:ce,handleHide:n,hideOnRouteChange:p,processOnMount:!0}),{showPortal:X,hidePortal:re,renderPortal:K}=cl(v,g,B,"menu"),ee={anchorEl:$,innerRef:g,onClickOutside(i){if(e.persistent!==!0&&y.value===!0)return ue(i),(i.type==="touchstart"||i.target.classList.contains("q-dialog__backdrop"))&&le(i),!0}},se=b(()=>Ct(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),ne=b(()=>e.cover===!0?se.value:Ct(e.self||"top start",d.lang.rtl)),N=b(()=>(e.square===!0?" q-menu--square":"")+(A.value===!0?" q-menu--dark q-dark":"")),ke=b(()=>e.autoClose===!0?{onClick:E}:{}),oe=b(()=>y.value===!0&&e.persistent!==!0);ie(oe,i=>{i===!0?(dl(x),Rl(ee)):(ht(x),wt(ee))});function U(){yl(()=>{let i=g.value;i&&i.contains(document.activeElement)!==!0&&(i=i.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.querySelector("[autofocus], [data-autofocus]")||i,i.focus({preventScroll:!0}))})}function ce(i){if(l=e.noRefocus===!1?document.activeElement:null,fl(T),X(),V(),u=void 0,i!==void 0&&(e.touchPosition||e.contextMenu)){const D=De(i);if(D.left!==void 0){const{top:Y,left:Se}=$.value.getBoundingClientRect();u={left:D.left-Se,top:D.top-Y}}}h===void 0&&(h=ie(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,w)),e.noFocus!==!0&&document.activeElement.blur(),P(()=>{w(),e.noFocus!==!0&&U()}),L(()=>{d.platform.is.ios===!0&&(m=e.autoClose,g.value.click()),w(),X(!0),a("show",i)},e.transitionDuration)}function n(i){C(),re(),r(!0),l!==null&&(i===void 0||i.qClickOutside!==!0)&&(((i&&i.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),L(()=>{re(!0),a("hide",i)},e.transitionDuration)}function r(i){u=void 0,h!==void 0&&(h(),h=void 0),(i===!0||y.value===!0)&&(vl(T),z(),wt(ee),ht(x)),i!==!0&&(l=null)}function V(){($.value!==null||e.scrollTarget!==void 0)&&(F.value=ml($.value,e.scrollTarget),he(F.value,w))}function E(i){m!==!0?(hl(S,i),a("click",i)):m=!1}function T(i){oe.value===!0&&e.noFocus!==!0&&bl(g.value,i.target)!==!0&&U()}function x(i){a("escapeKey"),ue(i)}function w(){Dl({targetEl:g.value,offset:e.offset,anchorEl:$.value,anchorOrigin:se.value,selfOrigin:ne.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function B(){return q(gl,W.value,()=>y.value===!0?q("div",{role:"menu",...f,ref:g,tabindex:-1,class:["q-menu q-position-engine scroll"+N.value,f.class],style:[f.style,R.value],...ke.value},Sl(o.default)):null)}return et(r),Object.assign(S,{focus:U,updatePosition:w}),K}});const Q=1e3,Xl=["start","center","end","start-force","center-force","end-force"],zt=Array.prototype.filter,Ul=window.getComputedStyle(document.body).overflowAnchor===void 0?qt:function(e,o){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const a=e.children||[];zt.call(a,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const f=a[o];f&&f.dataset&&(f.dataset.qVsAnchor="")}))};function Ve(e,o){return e+o}function Ge(e,o,a,f,l,u,h,m){const v=e===window?document.scrollingElement||document.documentElement:e,S=l===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-h-m,scrollMaxSize:0,offsetStart:-h,offsetEnd:-m};if(l===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=v.scrollLeft,d.scrollViewSize+=v.clientWidth),d.scrollMaxSize=v.scrollWidth,u===!0&&(d.scrollStart=(He===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=v.scrollTop,d.scrollViewSize+=v.clientHeight),d.scrollMaxSize=v.scrollHeight),a!==null)for(let g=a.previousElementSibling;g!==null;g=g.previousElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=g[S]);if(f!==null)for(let g=f.nextElementSibling;g!==null;g=g.nextElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=g[S]);if(o!==e){const g=v.getBoundingClientRect(),y=o.getBoundingClientRect();l===!0?(d.offsetStart+=y.left-g.left,d.offsetEnd-=y.width):(d.offsetStart+=y.top-g.top,d.offsetEnd-=y.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function pt(e,o,a,f){o==="end"&&(o=(e===window?document.body:e)[a===!0?"scrollWidth":"scrollHeight"]),e===window?a===!0?(f===!0&&(o=(He===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):a===!0?(f===!0&&(o=(He===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function Me(e,o,a,f){if(a>=f)return 0;const l=o.length,u=Math.floor(a/Q),h=Math.floor((f-1)/Q)+1;let m=e.slice(u,h).reduce(Ve,0);return a%Q!==0&&(m-=o.slice(u*Q,a).reduce(Ve,0)),f%Q!==0&&f!==l&&(m-=o.slice(f,h*Q).reduce(Ve,0)),m}const Yl={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Vt={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Yl};function Gl({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:a,virtualScrollItemSizeComputed:f}){const l=Ke(),{props:u,emit:h,proxy:m}=l,{$q:v}=m;let S,d,g,y=[],p;const A=I(0),P=I(0),C=I({}),L=I(null),W=I(null),R=I(null),F=I({from:0,to:0}),he=b(()=>u.tableColspan!==void 0?u.tableColspan:100);f===void 0&&(f=b(()=>u.virtualScrollItemSize));const z=b(()=>f.value+";"+u.virtualScrollHorizontal),$=b(()=>z.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);ie($,()=>{N()}),ie(z,Z);function Z(){ne(d,!0)}function ue(n){ne(n===void 0?d:n)}function X(n,r){const V=o();if(V==null||V.nodeType===8)return;const E=Ge(V,a(),L.value,W.value,u.virtualScrollHorizontal,v.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);g!==E.scrollViewSize&&N(E.scrollViewSize),K(V,E,Math.min(e.value-1,Math.max(0,parseInt(n,10)||0)),0,Xl.indexOf(r)!==-1?r:d!==-1&&n>d?"end":"start")}function re(){const n=o();if(n==null||n.nodeType===8)return;const r=Ge(n,a(),L.value,W.value,u.virtualScrollHorizontal,v.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),V=e.value-1,E=r.scrollMaxSize-r.offsetStart-r.offsetEnd-P.value;if(S===r.scrollStart)return;if(r.scrollMaxSize<=0){K(n,r,0,0);return}g!==r.scrollViewSize&&N(r.scrollViewSize),ee(F.value.from);const T=Math.floor(r.scrollMaxSize-Math.max(r.scrollViewSize,r.offsetEnd)-Math.min(p[V],r.scrollViewSize/2));if(T>0&&Math.ceil(r.scrollStart)>=T){K(n,r,V,r.scrollMaxSize-r.offsetEnd-y.reduce(Ve,0));return}let x=0,w=r.scrollStart-r.offsetStart,B=w;if(w<=E&&w+r.scrollViewSize>=A.value)w-=A.value,x=F.value.from,B=w;else for(let i=0;w>=y[i]&&x<V;i++)w-=y[i],x+=Q;for(;w>0&&x<V;)w-=p[x],w>-r.scrollViewSize?(x++,B=w):B=p[x]+w;K(n,r,x,B)}function K(n,r,V,E,T){const x=typeof T=="string"&&T.indexOf("-force")!==-1,w=x===!0?T.replace("-force",""):T,B=w!==void 0?w:"start";let i=Math.max(0,V-C.value[B]),D=i+C.value.total;D>e.value&&(D=e.value,i=Math.max(0,D-C.value.total)),S=r.scrollStart;const Y=i!==F.value.from||D!==F.value.to;if(Y===!1&&w===void 0){oe(V);return}const{activeElement:Se}=document,G=R.value;Y===!0&&G!==null&&G!==Se&&G.contains(Se)===!0&&(G.addEventListener("focusout",se),setTimeout(()=>{G!==null&&G.removeEventListener("focusout",se)})),Ul(G,V-i);const ze=w!==void 0?p.slice(i,V).reduce(Ve,0):0;if(Y===!0){const de=D>=F.value.from&&i<=F.value.to?F.value.to:D;F.value={from:i,to:de},A.value=Me(y,p,0,i),P.value=Me(y,p,D,e.value),requestAnimationFrame(()=>{F.value.to!==D&&S===r.scrollStart&&(F.value={from:F.value.from,to:D},P.value=Me(y,p,D,e.value))})}requestAnimationFrame(()=>{if(S!==r.scrollStart)return;Y===!0&&ee(i);const de=p.slice(i,V).reduce(Ve,0),fe=de+r.offsetStart+A.value,Te=fe+p[V];let xe=fe+E;if(w!==void 0){const $e=de-ze,qe=r.scrollStart+$e;xe=x!==!0&&qe<fe&&Te<qe+r.scrollViewSize?qe:w==="end"?Te-r.scrollViewSize:fe-(w==="start"?0:Math.round((r.scrollViewSize-p[V])/2))}S=xe,pt(n,xe,u.virtualScrollHorizontal,v.lang.rtl),oe(V)})}function ee(n){const r=R.value;if(r){const V=zt.call(r.children,i=>i.classList&&i.classList.contains("q-virtual-scroll--skip")===!1),E=V.length,T=u.virtualScrollHorizontal===!0?i=>i.getBoundingClientRect().width:i=>i.offsetHeight;let x=n,w,B;for(let i=0;i<E;){for(w=T(V[i]),i++;i<E&&V[i].classList.contains("q-virtual-scroll--with-prev")===!0;)w+=T(V[i]),i++;B=w-p[x],B!==0&&(p[x]+=B,y[Math.floor(x/Q)]+=B),x++}}}function se(){R.value!==null&&R.value!==void 0&&R.value.focus()}function ne(n,r){const V=1*f.value;(r===!0||Array.isArray(p)===!1)&&(p=[]);const E=p.length;p.length=e.value;for(let x=e.value-1;x>=E;x--)p[x]=V;const T=Math.floor((e.value-1)/Q);y=[];for(let x=0;x<=T;x++){let w=0;const B=Math.min((x+1)*Q,e.value);for(let i=x*Q;i<B;i++)w+=p[i];y.push(w)}d=-1,S=void 0,A.value=Me(y,p,0,F.value.from),P.value=Me(y,p,F.value.to,e.value),n>=0?(ee(F.value.from),ae(()=>{X(n)})):U()}function N(n){if(n===void 0&&typeof window!="undefined"){const w=o();w!=null&&w.nodeType!==8&&(n=Ge(w,a(),L.value,W.value,u.virtualScrollHorizontal,v.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}g=n;const r=parseFloat(u.virtualScrollSliceRatioBefore)||0,V=parseFloat(u.virtualScrollSliceRatioAfter)||0,E=1+r+V,T=n===void 0||n<=0?1:Math.ceil(n/f.value),x=Math.max(1,T,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/E));C.value={total:Math.ceil(x*E),start:Math.ceil(x*r),center:Math.ceil(x*(.5+r)),end:Math.ceil(x*(1+r)),view:T}}function ke(n,r){const V=u.virtualScrollHorizontal===!0?"width":"height",E={["--q-virtual-scroll-item-"+V]:f.value+"px"};return[n==="tbody"?q(n,{class:"q-virtual-scroll__padding",key:"before",ref:L},[q("tr",[q("td",{style:{[V]:`${A.value}px`,...E},colspan:he.value})])]):q(n,{class:"q-virtual-scroll__padding",key:"before",ref:L,style:{[V]:`${A.value}px`,...E}}),q(n,{class:"q-virtual-scroll__content",key:"content",ref:R,tabindex:-1},r.flat()),n==="tbody"?q(n,{class:"q-virtual-scroll__padding",key:"after",ref:W},[q("tr",[q("td",{style:{[V]:`${P.value}px`,...E},colspan:he.value})])]):q(n,{class:"q-virtual-scroll__padding",key:"after",ref:W,style:{[V]:`${P.value}px`,...E}})]}function oe(n){d!==n&&(u.onVirtualScroll!==void 0&&h("virtualScroll",{index:n,from:F.value.from,to:F.value.to-1,direction:n<d?"decrease":"increase",ref:m}),d=n)}N();const U=Cl(re,v.platform.is.ios===!0?120:35);wl(()=>{N()});let ce=!1;return pl(()=>{ce=!0}),Vl(()=>{if(ce!==!0)return;const n=o();S!==void 0&&n!==void 0&&n!==null&&n.nodeType!==8?pt(n,S,u.virtualScrollHorizontal,v.lang.rtl):X(d)}),et(()=>{U.cancel()}),Object.assign(m,{scrollTo:X,reset:Z,refresh:ue}),{virtualScrollSliceRange:F,virtualScrollSliceSizeComputed:C,setVirtualScrollSize:N,onVirtualScrollEvt:U,localResetVirtualScroll:ne,padVirtualScroll:ke,scrollTo:X,reset:Z,refresh:ue}}function ou(e,o,a){return a<=o?o:Math.min(a,Math.max(o,e))}function kt(e,o,a){if(a<=o)return o;const f=a-o+1;let l=o+(e-o)%f;return l<o&&(l=f+l),l===0?0:l}const xt=e=>["add","add-unique","toggle"].includes(e),Jl=".*+?^${}()|[]\\",Zl=Object.keys(Ze);function Je(e,o){if(typeof e=="function")return e;const a=e!==void 0?e:o;return f=>f!==null&&typeof f=="object"&&a in f?f[a]:f}var au=Le({name:"QSelect",inheritAttrs:!1,props:{...Vt,...kl,...Ze,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:xt},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Vt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...At,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:o,emit:a}){const{proxy:f}=Ke(),{$q:l}=f,u=I(!1),h=I(!1),m=I(-1),v=I(""),S=I(!1),d=I(!1);let g=null,y=null,p,A,P,C=null,L,W,R,F;const he=I(null),z=I(null),$=I(null),Z=I(null),ue=I(null),X=xl(e),re=El(ct),K=b(()=>e.options.length),ee=b(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:se,virtualScrollSliceSizeComputed:ne,localResetVirtualScroll:N,padVirtualScroll:ke,onVirtualScrollEvt:oe,scrollTo:U,setVirtualScrollSize:ce}=Gl({virtualScrollLength:K,getVirtualScrollTarget:It,getVirtualScrollEl:rt,virtualScrollItemSizeComputed:ee}),n=Ot(),r=b(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,s=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const c=e.mapOptions===!0&&p!==void 0?p:[],k=s.map(M=>_t(M,c));return e.modelValue===null&&t===!0?k.filter(M=>M!==null):k}return s}),V=b(()=>{const t={};return Zl.forEach(s=>{const c=e[s];c!==void 0&&(t[s]=c)}),t}),E=b(()=>e.optionsDark===null?n.isDark.value:e.optionsDark),T=b(()=>St(r.value)),x=b(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||r.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),w=b(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),B=b(()=>K.value===0),i=b(()=>r.value.map(t=>j.value(t)).join(", ")),D=b(()=>e.displayValue!==void 0?e.displayValue:i.value),Y=b(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Se=b(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||r.value.some(Y.value))),G=b(()=>n.focused.value===!0?e.tabindex:-1),ze=b(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${n.targetUid.value}_lb`};return m.value>=0&&(t["aria-activedescendant"]=`${n.targetUid.value}_${m.value}`),t}),de=b(()=>({id:`${n.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),fe=b(()=>r.value.map((t,s)=>({index:s,opt:t,html:Y.value(t),selected:!0,removeAtIndex:Bt,toggleOption:ve,tabindex:G.value}))),Te=b(()=>{if(K.value===0)return[];const{from:t,to:s}=se.value;return e.options.slice(t,s).map((c,k)=>{const M=ge.value(c)===!0,O=Ne(c)===!0,H=t+k,_={clickable:!0,active:O,activeClass:qe.value,manualFocus:!0,focused:!1,disable:M,tabindex:-1,dense:e.optionsDense,dark:E.value,role:"option","aria-selected":O===!0?"true":"false",id:`${n.targetUid.value}_${H}`,onClick:()=>{ve(c)}};return M!==!0&&(m.value===H&&(_.focused=!0),l.platform.is.desktop===!0&&(_.onMousemove=()=>{u.value===!0&&ye(H)})),{index:H,opt:c,html:Y.value(c),label:j.value(c),selected:_.active,focused:_.focused,toggleOption:ve,setOptionIndex:ye,itemProps:_}})}),xe=b(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),$e=b(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),qe=b(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),J=b(()=>Je(e.optionValue,"value")),j=b(()=>Je(e.optionLabel,"label")),ge=b(()=>Je(e.optionDisable,"disable")),Be=b(()=>r.value.map(J.value)),Tt=b(()=>{const t={onInput:ct,onChange:re,onKeydown:it,onKeyup:ot,onKeypress:at,onFocus:ut,onClick(s){A===!0&&te(s)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=re,t});ie(r,t=>{p=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&n.innerLoading.value!==!0&&(h.value!==!0&&u.value!==!0||T.value!==!0)&&(P!==!0&&pe(),(h.value===!0||u.value===!0)&&be(""))},{immediate:!0}),ie(()=>e.fillInput,pe),ie(u,Qe),ie(K,Xt);function tt(t){return e.emitValue===!0?J.value(t):t}function je(t){if(t!==-1&&t<r.value.length)if(e.multiple===!0){const s=e.modelValue.slice();a("remove",{index:t,value:s.splice(t,1)[0]}),a("update:modelValue",s)}else a("update:modelValue",null)}function Bt(t){je(t),n.focus()}function lt(t,s){const c=tt(t);if(e.multiple!==!0){e.fillInput===!0&&Ae(j.value(t),!0,!0),a("update:modelValue",c);return}if(r.value.length===0){a("add",{index:0,value:c}),a("update:modelValue",e.multiple===!0?[c]:c);return}if(s===!0&&Ne(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const k=e.modelValue.slice();a("add",{index:k.length,value:c}),k.push(c),a("update:modelValue",k)}function ve(t,s){if(n.editable.value!==!0||t===void 0||ge.value(t)===!0)return;const c=J.value(t);if(e.multiple!==!0){s!==!0&&(Ae(e.fillInput===!0?j.value(t):"",!0,!0),me()),z.value!==null&&z.value.focus(),(r.value.length===0||Oe(J.value(r.value[0]),c)!==!0)&&a("update:modelValue",e.emitValue===!0?c:t);return}if((A!==!0||S.value===!0)&&n.focus(),ut(),r.value.length===0){const O=e.emitValue===!0?c:t;a("add",{index:0,value:O}),a("update:modelValue",e.multiple===!0?[O]:O);return}const k=e.modelValue.slice(),M=Be.value.findIndex(O=>Oe(O,c));if(M!==-1)a("remove",{index:M,value:k.splice(M,1)[0]});else{if(e.maxValues!==void 0&&k.length>=e.maxValues)return;const O=e.emitValue===!0?c:t;a("add",{index:k.length,value:O}),k.push(O)}a("update:modelValue",k)}function ye(t){if(l.platform.is.desktop!==!0)return;const s=t!==-1&&t<K.value?t:-1;m.value!==s&&(m.value=s)}function _e(t=1,s){if(u.value===!0){let c=m.value;do c=kt(c+t,-1,K.value-1);while(c!==-1&&c!==m.value&&ge.value(e.options[c])===!0);m.value!==c&&(ye(c),U(c),s!==!0&&e.useInput===!0&&e.fillInput===!0&&Ie(c>=0?j.value(e.options[c]):L,!0))}}function _t(t,s){const c=k=>Oe(J.value(k),t);return e.options.find(c)||s.find(c)||t}function Ne(t){const s=J.value(t);return Be.value.find(c=>Oe(c,s))!==void 0}function ut(t){e.useInput===!0&&z.value!==null&&(t===void 0||z.value===t.target&&t.target.value===i.value)&&z.value.select()}function nt(t){Ol(t,27)===!0&&u.value===!0&&(te(t),me(),pe()),a("keyup",t)}function ot(t){const{value:s}=t.target;if(t.keyCode!==void 0){nt(t);return}if(t.target.value="",g!==null&&(clearTimeout(g),g=null),y!==null&&(clearTimeout(y),y=null),pe(),typeof s=="string"&&s.length!==0){const c=s.toLocaleLowerCase(),k=O=>{const H=e.options.find(_=>O.value(_).toLocaleLowerCase()===c);return H===void 0?!1:(r.value.indexOf(H)===-1?ve(H):me(),!0)},M=O=>{k(J)!==!0&&(k(j)===!0||O===!0||be(s,!0,()=>M(!0)))};M()}else n.clearValue(t)}function at(t){a("keypress",t)}function it(t){if(a("keydown",t),Ml(t)===!0)return;const s=v.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),c=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(m.value!==-1||s===!0);if(t.keyCode===27){Fe(t);return}if(t.keyCode===9&&c===!1){Ce();return}if(t.target===void 0||t.target.id!==n.targetUid.value||n.editable.value!==!0)return;if(t.keyCode===40&&n.innerLoading.value!==!0&&u.value===!1){le(t),we();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&v.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?je(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&a("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(le(t),m.value=-1,_e(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ne.value!==void 0&&(le(t),m.value=Math.max(-1,Math.min(K.value,m.value+(t.keyCode===33?-1:1)*ne.value.view)),_e(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(le(t),_e(t.keyCode===38?-1:1,e.multiple));const k=K.value;if((R===void 0||F<Date.now())&&(R=""),k>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||R.length!==0)){u.value!==!0&&we(t);const M=t.key.toLocaleLowerCase(),O=R.length===1&&R[0]===M;F=Date.now()+1500,O===!1&&(le(t),R+=M);const H=new RegExp("^"+R.split("").map(We=>Jl.indexOf(We)!==-1?"\\"+We:We).join(".*"),"i");let _=m.value;if(O===!0||_<0||H.test(j.value(e.options[_]))!==!0)do _=kt(_+1,-1,k-1);while(_!==m.value&&(ge.value(e.options[_])===!0||H.test(j.value(e.options[_]))!==!0));m.value!==_&&ae(()=>{ye(_),U(_),_>=0&&e.useInput===!0&&e.fillInput===!0&&Ie(j.value(e.options[_]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||R!=="")&&(t.keyCode!==9||c===!1))){if(t.keyCode!==9&&le(t),m.value!==-1&&m.value<k){ve(e.options[m.value]);return}if(s===!0){const M=(O,H)=>{if(H){if(xt(H)!==!0)return}else H=e.newValueMode;if(Ae("",e.multiple!==!0,!0),O==null)return;(H==="toggle"?ve:lt)(O,H==="add-unique"),e.multiple!==!0&&(z.value!==null&&z.value.focus(),me())};if(e.onNewValue!==void 0?a("newValue",v.value,M):M(v.value),e.multiple!==!0)return}u.value===!0?Ce():n.innerLoading.value!==!0&&we()}}function rt(){return A===!0?ue.value:$.value!==null&&$.value.contentEl!==null?$.value.contentEl:void 0}function It(){return rt()}function Pt(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?fe.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?fe.value.map((t,s)=>q(Ql,{key:"option-"+s,removable:n.editable.value===!0&&ge.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:G.value,onRemove(){t.removeAtIndex(s)}},()=>q("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:j.value(t.opt)}))):[q("span",{[Se.value===!0?"innerHTML":"textContent"]:D.value})]}function st(){if(B.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:v.value}):void 0;const t=o.option!==void 0?o.option:c=>q(Kl,{key:c.index,...c.itemProps},()=>q(Hl,()=>q(Ll,()=>q("span",{[c.html===!0?"innerHTML":"textContent"]:c.label}))));let s=ke("div",Te.value.map(t));return o["before-options"]!==void 0&&(s=o["before-options"]().concat(s)),zl(o["after-options"],s)}function Rt(t,s){const c=s===!0?{...ze.value,...n.splitAttrs.attributes.value}:void 0,k={ref:s===!0?z:void 0,key:"i_t",class:x.value,style:e.inputStyle,value:v.value!==void 0?v.value:"",type:"search",...c,id:s===!0?n.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Tt.value};return t!==!0&&A===!0&&(Array.isArray(k.class)===!0?k.class=[...k.class,"no-pointer-events"]:k.class+=" no-pointer-events"),q("input",k)}function ct(t){g!==null&&(clearTimeout(g),g=null),y!==null&&(clearTimeout(y),y=null),!(t&&t.target&&t.target.qComposing===!0)&&(Ie(t.target.value||""),P=!0,L=v.value,n.focused.value!==!0&&(A!==!0||S.value===!0)&&n.focus(),e.onFilter!==void 0&&(g=setTimeout(()=>{g=null,be(v.value)},e.inputDebounce)))}function Ie(t,s){v.value!==t&&(v.value=t,s===!0||e.inputDebounce===0||e.inputDebounce==="0"?a("inputValue",t):y=setTimeout(()=>{y=null,a("inputValue",t)},e.inputDebounce))}function Ae(t,s,c){P=c!==!0,e.useInput===!0&&(Ie(t,!0),(s===!0||c!==!0)&&(L=t),s!==!0&&be(t))}function be(t,s,c){if(e.onFilter===void 0||s!==!0&&n.focused.value!==!0)return;n.innerLoading.value===!0?a("filterAbort"):(n.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&r.value.length!==0&&P!==!0&&t===j.value(r.value[0])&&(t="");const k=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);C!==null&&clearTimeout(C),C=k,a("filter",t,(M,O)=>{(s===!0||n.focused.value===!0)&&C===k&&(clearTimeout(C),typeof M=="function"&&M(),d.value=!1,ae(()=>{n.innerLoading.value=!1,n.editable.value===!0&&(s===!0?u.value===!0&&me():u.value===!0?Qe(!0):u.value=!0),typeof O=="function"&&ae(()=>{O(f)}),typeof c=="function"&&ae(()=>{c(f)})}))},()=>{n.focused.value===!0&&C===k&&(clearTimeout(C),n.innerLoading.value=!1,d.value=!1),u.value===!0&&(u.value=!1)})}function Dt(){return q(Wl,{ref:$,class:w.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&B.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:E.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:$e.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...de.value,onScrollPassive:oe,onBeforeShow:ft,onBeforeHide:Ht,onShow:Lt},st)}function Ht(t){vt(t),Ce()}function Lt(){ce()}function Kt(t){te(t),z.value!==null&&z.value.focus(),S.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function $t(t){te(t),ae(()=>{S.value=!1})}function jt(){const t=[q(jl,{class:`col-auto ${n.fieldClass.value}`,...V.value,for:n.targetUid.value,dark:E.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:v.value.length!==0,...n.splitAttrs.listeners.value,onFocus:Kt,onBlur:$t},{...o,rawControl:()=>n.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(q("div",{ref:ue,class:w.value+" scroll",style:e.popupContentStyle,...de.value,onClick:Fe,onScrollPassive:oe},st())),q(Fl,{ref:Z,modelValue:h.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:ft,onBeforeHide:Nt,onHide:Qt,onShow:Wt},()=>q("div",{class:"q-select__dialog"+(E.value===!0?" q-select__dialog--dark q-dark":"")+(S.value===!0?" q-select__dialog--focused":"")},t))}function Nt(t){vt(t),Z.value!==null&&Z.value.__updateRefocusTarget(n.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),n.focused.value=!1}function Qt(t){me(),n.focused.value===!1&&a("blur",t),pe()}function Wt(){const t=document.activeElement;(t===null||t.id!==n.targetUid.value)&&z.value!==null&&z.value!==t&&z.value.focus(),ce()}function Ce(){h.value!==!0&&(m.value=-1,u.value===!0&&(u.value=!1),n.focused.value===!1&&(C!==null&&(clearTimeout(C),C=null),n.innerLoading.value===!0&&(a("filterAbort"),n.innerLoading.value=!1,d.value=!1)))}function we(t){n.editable.value===!0&&(A===!0?(n.onControlFocusin(t),h.value=!0,ae(()=>{n.focus()})):n.focus(),e.onFilter!==void 0?be(v.value):(B.value!==!0||o["no-option"]!==void 0)&&(u.value=!0))}function me(){h.value=!1,Ce()}function pe(){e.useInput===!0&&Ae(e.multiple!==!0&&e.fillInput===!0&&r.value.length!==0&&j.value(r.value[0])||"",!0,!0)}function Qe(t){let s=-1;if(t===!0){if(r.value.length!==0){const c=J.value(r.value[0]);s=e.options.findIndex(k=>Oe(J.value(k),c))}N(s)}ye(s)}function Xt(t,s){u.value===!0&&n.innerLoading.value===!1&&(N(-1,!0),ae(()=>{u.value===!0&&n.innerLoading.value===!1&&(t>s?N():Qe(!0))}))}function dt(){h.value===!1&&$.value!==null&&$.value.updatePosition()}function ft(t){t!==void 0&&te(t),a("popupShow",t),n.hasPopupOpen=!0,n.onControlFocusin(t)}function vt(t){t!==void 0&&te(t),a("popupHide",t),n.hasPopupOpen=!1,n.onControlFocusout(t)}function mt(){A=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||B.value===!1:!0),W=l.platform.is.ios===!0&&A===!0&&e.useInput===!0?"fade":e.transitionShow}return ql(mt),Al(dt),mt(),et(()=>{g!==null&&clearTimeout(g),y!==null&&clearTimeout(y)}),Object.assign(f,{showPopup:we,hidePopup:me,removeAtIndex:je,add:lt,toggleOption:ve,getOptionIndex:()=>m.value,setOptionIndex:ye,moveOptionSelection:_e,filter:be,updateMenuPosition:dt,updateInputValue:Ae,isOptionSelected:Ne,getEmittingOptionValue:tt,isOptionDisabled:(...t)=>ge.value.apply(null,t)===!0,getOptionValue:(...t)=>J.value.apply(null,t),getOptionLabel:(...t)=>j.value.apply(null,t)}),Object.assign(n,{innerValue:r,fieldClass:b(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:he,targetRef:z,hasValue:T,showPopup:we,floatingLabel:b(()=>e.hideSelected!==!0&&T.value===!0||typeof v.value=="number"||v.value.length!==0||St(e.displayValue)),getControlChild:()=>{if(n.editable.value!==!1&&(h.value===!0||B.value!==!0||o["no-option"]!==void 0))return A===!0?jt():Dt();n.hasPopupOpen===!0&&(n.hasPopupOpen=!1)},controlEvents:{onFocusin(t){n.onControlFocusin(t)},onFocusout(t){n.onControlFocusout(t,()=>{pe(),Ce()})},onClick(t){if(Fe(t),A!==!0&&u.value===!0){Ce(),z.value!==null&&z.value.focus();return}we(t)}},getControl:t=>{const s=Pt(),c=t===!0||h.value!==!0||A!==!0;if(e.useInput===!0)s.push(Rt(t,c));else if(n.editable.value===!0){const M=c===!0?ze.value:void 0;s.push(q("input",{ref:c===!0?z:void 0,key:"d_t",class:"q-select__focus-target",id:c===!0?n.targetUid.value:void 0,value:D.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...M,onKeydown:it,onKeyup:nt,onKeypress:at})),c===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&s.push(q("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ot}))}if(X.value!==void 0&&e.disable!==!0&&Be.value.length!==0){const M=Be.value.map(O=>q("option",{value:O,selected:!0}));s.push(q("select",{class:"hidden",name:X.value,multiple:e.multiple},M))}const k=e.useInput===!0||c!==!0?void 0:n.splitAttrs.attributes.value;return q("div",{class:"q-field__native row items-center",...k,...n.splitAttrs.listeners.value},s)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[q(Re,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:xe.value})]:null}),Et(n)}});export{au as Q,nu as T,Ql as a,ou as b,Wl as c,kt as n,He as r};
