import{_ as k,$ as _,a4 as g,r as n,L as m,E as d,F as c,G as l,a3 as h,M as r,H as a,bs as y,bu as P,N as D,bq as A,a6 as C,a7 as E}from"./index.505b546b.js";import{Q as p}from"./QSpace.057ee448.js";const H={name:"schedDialog",components:{adHocEvent:_(()=>g(()=>import("./adHocEvent.d1a54b7a.js"),["assets/adHocEvent.d1a54b7a.js","assets/adHocEvent.23e161ae.css","assets/index.505b546b.js","assets/index.4f70e4de.css","assets/QSelect.89e5bb66.js","assets/touch.70a9dd44.js","assets/goalStorage.61bacf6d.js","assets/QItem.5b884fbb.js","assets/QKnob.f0939a9d.js","assets/utiFunc.0743ee68.js"])),selectEvent:_(()=>g(()=>import("./selectEvent.b90fce66.js"),["assets/selectEvent.b90fce66.js","assets/selectEvent.7935fe2d.css","assets/index.505b546b.js","assets/index.4f70e4de.css","assets/QSelect.89e5bb66.js","assets/touch.70a9dd44.js","assets/goalStorage.61bacf6d.js","assets/QItem.5b884fbb.js","assets/QKnob.f0939a9d.js","assets/QSpace.057ee448.js","assets/utiFunc.0743ee68.js"]))},props:{parentGoals:Array,canBeScheduled:Array,balance:Number,selectedTime:String},data(){return{showPickDialog:n(!1),showAdHocDialog:n(!1),show:n(!0),unscheduledP:n({})}},emits:["adHocEvent","onPickEvent","euhHidin"],computed:{showDefaultOption:{get(){return this.show},set(t){this.show=t}},showPickyDialog:{get(){return this.showPickDialog},set(t){this.showPickDialog=t}},showAddyDialog:{get(){return this.showAdHocDialog},set(t){this.showAdHocDialog=t}},unscheduledPGoals:{get(){let t=[];for(let e in this.unscheduledP)t.push(this.unscheduledP[e]);return t}},allUnscheduled:{get(){return this.canBeScheduled.forEach(t=>{let e=this.parentGoals.find(s=>s.id==t.parentGoal);e?t.color=e.bgcolor:t.color="",t.pg=e==null?void 0:e.title.trim(),t.ic=e==null?void 0:e.icon,this.unscheduledP[e==null?void 0:e.id]||(this.unscheduledP[e==null?void 0:e.id]={id:e==null?void 0:e.id,title:e==null?void 0:e.title.trim()})}),this.canBeScheduled}}},methods:{onAddClicked(t,e,s,i){this.$emit("onPickEvent",t,e,s,i),this.reset()},adHocNewEvent(t,e,s,i,u){this.$emit("adHocEvent",t,e,s,i,u),this.reset()},onChooseExisting(){this.showPickyDialog=!this.showPickyDialog},onChooseAdHoc(){this.showAddyDialog=!this.showAddyDialog},gonHide(){this.$emit("euhHidin")},onCancelBtn(){let t=this.showPickyDialog;this.showAddyDialog,t?this.showPickyDialog=!this.showPickyDialog:this.showAddyDialog=!this.showAddyDialog},reset(){this.showAddyDialog=!1,this.showPickyDialog=!1}}},B=t=>(C("data-v-190d9e76"),t=t(),E(),t),S={class:"q-ma-md event-select"},x={class:"q-ma-md event-select"},G=B(()=>r("div",{class:"text-h6"},"Ad hoc or Existing event",-1));function O(t,e,s,i,u,o){const v=m("select-event"),w=m("ad-hoc-event");return d(),c(A,{modelValue:o.showDefaultOption,"onUpdate:modelValue":e[0]||(e[0]=f=>o.showDefaultOption=f),"transition-show":"rotate","transition-hide":"rotate","no-esc-dismiss":"",onBeforeHide:o.gonHide},{default:l(()=>[o.showPickyDialog?(d(),c(h,{key:0},{default:l(()=>[r("div",S,[a(v,{unscheduled:o.allUnscheduled,unscheduledParents:o.unscheduledPGoals,toBalance:s.balance,at:s.selectedTime,onOnPickEvent:o.onAddClicked,onDoCancel:o.onCancelBtn},null,8,["unscheduled","unscheduledParents","toBalance","at","onOnPickEvent","onDoCancel"])])]),_:1})):o.showAddyDialog?(d(),c(h,{key:1},{default:l(()=>[r("div",x,[a(w,{mainGoals:s.parentGoals,toBalance:s.balance,at:s.selectedTime,onSaveEvent:o.adHocNewEvent,onDoCancel:o.onCancelBtn},null,8,["mainGoals","toBalance","at","onSaveEvent","onDoCancel"]),a(p)])]),_:1})):(d(),c(h,{key:2},{default:l(()=>[a(y,null,{default:l(()=>[G]),_:1}),a(P,{align:"center"},{default:l(()=>[a(D,{flat:"",label:"Add hoc",color:"primary",onClick:o.onChooseAdHoc},null,8,["onClick"]),a(D,{flat:"",label:"Existing",color:"primary",onClick:o.onChooseExisting},null,8,["onClick"])]),_:1})]),_:1}))]),_:1},8,["modelValue","onBeforeHide"])}var b=k(H,[["render",O],["__scopeId","data-v-190d9e76"]]);export{b as default};
