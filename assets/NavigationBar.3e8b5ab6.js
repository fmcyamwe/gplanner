import{j as tn,aa as nn,ab as an,r as Y,o as gt,c as A,w as ce,h as k,g as tt,n as rn,ac as ln,ad as un,ae as ct,af as dn,a9 as st,f as nt,ag as on,ah as ft,a as at,e as cn,d as sn,b as fn,T as vn,_ as yn,F as hn,M as kn,K as _n,I as me,H as Qe,J as Ze,Q as Xe,ai as Ge}from"./index.32de9b4d.js";import{Q as gn}from"./goalStorage.66bce6a6.js";const bn=["none","strict","leaf","leaf-filtered"];var ya=tn({name:"QTree",props:{...nn,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>bn.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:t,emit:n}){const{proxy:a}=tt(),{$q:o}=a,c=an(e,o),l=Y({}),y=Y(e.ticked||[]),s=Y(e.expanded||[]);let D={};gt(()=>{D={}});const w=A(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(c.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),b=A(()=>e.selected!==void 0),N=A(()=>e.icon||o.iconSet.tree.icon),O=A(()=>e.controlColor||e.color),B=A(()=>e.textColor!==void 0?` text-${e.textColor}`:""),M=A(()=>{const d=e.selectedColor||e.color;return d?` text-${d}`:""}),q=A(()=>e.filterMethod!==void 0?e.filterMethod:(d,f)=>{const u=f.toLowerCase();return d[e.labelKey]&&d[e.labelKey].toLowerCase().indexOf(u)>-1}),x=A(()=>{const d={},f=(u,T)=>{const h=u.tickStrategy||(T?T.tickStrategy:e.tickStrategy),S=u[e.nodeKey],E=u[e.childrenKey]&&u[e.childrenKey].length>0,X=u.disabled!==!0&&b.value===!0&&u.selectable!==!1,W=u.disabled!==!0&&u.expandable!==!1,$e=h!=="none",ye=h==="strict",Ne=h==="leaf-filtered",De=h==="leaf"||h==="leaf-filtered";let He=u.disabled!==!0&&u.tickable!==!1;De===!0&&He===!0&&T&&T.tickable!==!0&&(He=!1);let he=u.lazy;he===!0&&l.value[S]!==void 0&&Array.isArray(u[e.childrenKey])===!0&&(he=l.value[S]);const C={key:S,parent:T,isParent:E,lazy:he,disabled:u.disabled,link:u.disabled!==!0&&(X===!0||W===!0&&(E===!0||he===!0)),children:[],matchesFilter:e.filter?q.value(u,e.filter):!0,selected:S===e.selected&&X===!0,selectable:X,expanded:E===!0?s.value.includes(S):!1,expandable:W,noTick:u.noTick===!0||ye!==!0&&he&&he!=="loaded",tickable:He,tickStrategy:h,hasTicking:$e,strictTicking:ye,leafFilteredTicking:Ne,leafTicking:De,ticked:ye===!0?y.value.includes(S):E===!0?!1:y.value.includes(S)};if(d[S]=C,E===!0&&(C.children=u[e.childrenKey].map($=>f($,C)),e.filter&&(C.matchesFilter!==!0?C.matchesFilter=C.children.some($=>$.matchesFilter):C.noTick!==!0&&C.disabled!==!0&&C.tickable===!0&&Ne===!0&&C.children.every($=>$.matchesFilter!==!0||$.noTick===!0||$.tickable!==!0)===!0&&(C.tickable=!1)),C.matchesFilter===!0&&(C.noTick!==!0&&ye!==!0&&C.children.every($=>$.noTick)===!0&&(C.noTick=!0),De))){if(C.ticked=!1,C.indeterminate=C.children.some($=>$.indeterminate===!0),C.tickable=C.tickable===!0&&C.children.some($=>$.tickable),C.indeterminate!==!0){const $=C.children.reduce((Te,Ye)=>Ye.ticked===!0?Te+1:Te,0);$===C.children.length?C.ticked=!0:$>0&&(C.indeterminate=!0)}C.indeterminate===!0&&(C.indeterminateNextState=C.children.every($=>$.tickable!==!0||$.ticked!==!0))}return C};return e.nodes.forEach(u=>f(u,null)),d});ce(()=>e.ticked,d=>{y.value=d}),ce(()=>e.expanded,d=>{s.value=d});function L(d){const f=[].reduce,u=(T,h)=>{if(T||!h)return T;if(Array.isArray(h)===!0)return f.call(Object(h),u,T);if(h[e.nodeKey]===d)return h;if(h[e.childrenKey])return u(null,h[e.childrenKey])};return u(null,e.nodes)}function Z(){return y.value.map(d=>L(d))}function ae(){return s.value.map(d=>L(d))}function P(d){return d&&x.value[d]?x.value[d].expanded:!1}function oe(){e.expanded!==void 0?n("update:expanded",[]):s.value=[]}function ee(){const d=s.value,f=u=>{u[e.childrenKey]&&u[e.childrenKey].length>0&&u.expandable!==!1&&u.disabled!==!0&&(d.push(u[e.nodeKey]),u[e.childrenKey].forEach(f))};e.nodes.forEach(f),e.expanded!==void 0?n("update:expanded",d):s.value=d}function G(d,f,u=L(d),T=x.value[d]){if(T.lazy&&T.lazy!=="loaded"){if(T.lazy==="loading")return;l.value[d]="loading",Array.isArray(u[e.childrenKey])!==!0&&(u[e.childrenKey]=[]),n("lazyLoad",{node:u,key:d,done:h=>{l.value[d]="loaded",u[e.childrenKey]=Array.isArray(h)===!0?h:[],rn(()=>{const S=x.value[d];S&&S.isParent===!0&&ge(d,!0)})},fail:()=>{delete l.value[d],u[e.childrenKey].length===0&&delete u[e.childrenKey]}})}else T.isParent===!0&&T.expandable===!0&&ge(d,f)}function ge(d,f){let u=s.value;const T=e.expanded!==void 0;if(T===!0&&(u=u.slice()),f){if(e.accordion&&x.value[d]){const h=[];x.value[d].parent?x.value[d].parent.children.forEach(S=>{S.key!==d&&S.expandable===!0&&h.push(S.key)}):e.nodes.forEach(S=>{const E=S[e.nodeKey];E!==d&&h.push(E)}),h.length>0&&(u=u.filter(S=>h.includes(S)===!1))}u=u.concat([d]).filter((h,S,E)=>E.indexOf(h)===S)}else u=u.filter(h=>h!==d);T===!0?n("update:expanded",u):s.value=u}function Ee(d){return d&&x.value[d]?x.value[d].ticked:!1}function F(d,f){let u=y.value;const T=e.ticked!==void 0;T===!0&&(u=u.slice()),f?u=u.concat(d).filter((h,S,E)=>E.indexOf(h)===S):u=u.filter(h=>d.includes(h)===!1),T===!0&&n("update:ticked",u)}function i(d,f,u){const T={tree:a,node:d,key:u,color:e.color,dark:c.value};return ft(T,"expanded",()=>f.expanded,h=>{h!==f.expanded&&G(u,h)}),ft(T,"ticked",()=>f.ticked,h=>{h!==f.ticked&&F([u],h)}),T}function se(d){return(e.filter?d.filter(f=>x.value[f[e.nodeKey]].matchesFilter):d).map(f=>je(f))}function be(d){if(d.icon!==void 0)return k(ct,{class:"q-tree__icon q-mr-sm",name:d.icon,color:d.iconColor});const f=d.img||d.avatar;if(f)return k("img",{class:`q-tree__${d.img?"img":"avatar"} q-mr-sm`,src:f})}function ve(){n("afterShow")}function Pe(){n("afterHide")}function je(d){const f=d[e.nodeKey],u=x.value[f],T=d.header&&t[`header-${d.header}`]||t["default-header"],h=u.isParent===!0?se(d[e.childrenKey]):[],S=h.length>0||u.lazy&&u.lazy!=="loaded";let E=d.body&&t[`body-${d.body}`]||t["default-body"];const X=T!==void 0||E!==void 0?i(d,u,f):null;return E!==void 0&&(E=k("div",{class:"q-tree__node-body relative-position"},[k("div",{class:B.value},[E(X)])])),k("div",{key:f,class:`q-tree__node relative-position q-tree__node--${S===!0?"parent":"child"}`},[k("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(u.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(u.selected===!0?" q-tree__node--selected":"")+(u.disabled===!0?" q-tree__node--disabled":""),tabindex:u.link===!0?0:-1,onClick:W=>{Ke(d,u,W)},onKeypress(W){ln(W)!==!0&&(W.keyCode===13?Ke(d,u,W,!0):W.keyCode===32&&p(d,u,W,!0))}},[k("div",{class:"q-focus-helper",tabindex:-1,ref:W=>{D[u.key]=W}}),u.lazy==="loading"?k(un,{class:"q-tree__spinner",color:O.value}):S===!0?k(ct,{class:"q-tree__arrow"+(u.expanded===!0?" q-tree__arrow--rotate":""),name:N.value,onClick(W){p(d,u,W)}}):null,u.hasTicking===!0&&u.noTick!==!0?k(dn,{class:"q-tree__tickbox",modelValue:u.indeterminate===!0?null:u.ticked,color:O.value,dark:c.value,dense:!0,keepColor:!0,disable:u.tickable!==!0,onKeydown:st,"onUpdate:modelValue":W=>{we(u,W)}}):null,k("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(u.selected===!0?M.value:B.value)},[T?T(X):[be(d),k("div",d[e.labelKey])]])]),S===!0?e.noTransition===!0?k("div",{class:"q-tree__node-collapsible"+B.value,key:`${f}__q`},[E,k("div",{class:"q-tree__children"+(u.disabled===!0?" q-tree__node--disabled":"")},u.expanded?h:null)]):k(gn,{duration:e.duration,onShow:ve,onHide:Pe},()=>nt(k("div",{class:"q-tree__node-collapsible"+B.value,key:`${f}__q`},[E,k("div",{class:"q-tree__children"+(u.disabled===!0?" q-tree__node--disabled":"")},h)]),[[on,u.expanded]])):E])}function We(d){const f=D[d];f&&f.focus()}function Ke(d,f,u,T){T!==!0&&f.selectable!==!1&&We(f.key),b.value&&f.selectable?e.noSelectionUnset===!1?n("update:selected",f.key!==e.selected?f.key:null):f.key!==e.selected&&n("update:selected",f.key===void 0?null:f.key):p(d,f,u,T),typeof d.handler=="function"&&d.handler(d)}function p(d,f,u,T){u!==void 0&&st(u),T!==!0&&f.selectable!==!1&&We(f.key),G(f.key,!f.expanded,d,f)}function we(d,f){if(d.indeterminate===!0&&(f=d.indeterminateNextState),d.strictTicking)F([d.key],f);else if(d.leafTicking){const u=[],T=h=>{h.isParent?(f!==!0&&h.noTick!==!0&&h.tickable===!0&&u.push(h.key),h.leafTicking===!0&&h.children.forEach(T)):h.noTick!==!0&&h.tickable===!0&&(h.leafFilteredTicking!==!0||h.matchesFilter===!0)&&u.push(h.key)};T(d),F(u,f)}}return e.defaultExpandAll===!0&&ee(),Object.assign(a,{getNodeByKey:L,getTickedNodes:Z,getExpandedNodes:ae,isExpanded:P,collapseAll:oe,expandAll:ee,setExpanded:G,isTicked:Ee,setTicked:F}),()=>{const d=se(e.nodes);return k("div",{class:w.value},d.length===0?e.filter?e.noResultsLabel||o.lang.tree.noResults:e.noNodesLabel||o.lang.tree.noNodes:d)}}});const bt=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?(.(\d{1,3}))?$/,wn=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,Dn=[0,31,28,31,30,31,30,31,31,30,31,30,31],Tn=[0,31,29,31,30,31,30,31,31,30,31,30,31],mn=28,qn=31,fe=12,rt=1,Re=1,Ce=7,Be=60,Je=24,Cn=6048e5;function Se(){const e=new Date,t=""+(e.getMonth()+1),n=""+e.getDate();return[e.getFullYear(),V(t,2),V(n,2)].join("-")}function Ue(e,t,n){let a=K(e);if(a.day===1||a.weekday===0)for(;!t.includes(a.weekday);)a=ie(a);return a=mt(a,t[0],dt),a=ne(a),n&&(a=Ae(a,n,a.hasTime)),a}function Me(e,t,n){let a=K(e);if(ue(a.year,a.month)===a.day||a.weekday===6)for(;!t.includes(a.weekday);)a=dt(a);return a=mt(a,t[t.length-1],ie),a=ne(a),n&&(a=Ae(a,n,a.hasTime)),a}function ze(e){const t=K(e);return t.day=Re,ne(t),t}function Ie(e){const t=K(e);return t.day=ue(t.year,t.month),ne(t),t}function ha(e){switch(Object.prototype.toString.call(e)){case"[object Number]":return e;case"[object String]":{const n=wn.exec(e);return n?parseInt(n[1],10)*60+parseInt(n[3]||0,10):!1}case"[object Object]":return typeof e.hour!="number"||typeof e.minute!="number"?!1:e.hour*60+e.minute}return!1}function lt(e){return!!bt.exec(e)}function de(e){const t=bt.exec(e);return t?{date:e,time:V(parseInt(t[6],10)||0,2)+":"+V(parseInt(t[8],10)||0,2),year:parseInt(t[1],10),month:parseInt(t[2],10),day:parseInt(t[4],10)||1,hour:isNaN(parseInt(t[6],10))?0:parseInt(t[6],10),minute:isNaN(parseInt(t[8],10))?0:parseInt(t[8],10),weekday:0,doy:0,workweek:0,hasDay:!!t[4],hasTime:!0,past:!1,current:!1,future:!1,disabled:!1}:null}function J(e,t){let n=de(e);return n===null?null:(n=ne(n),t&&Ae(n,t,n.hasTime),n)}function xn(e,t=!1){const n=t?"UTC":"";return ne({date:V(e[`get${n}FullYear`](),4)+"-"+V(e[`get${n}Month`]()+1,2)+"-"+V(e[`get${n}Date`](),2),time:V(e[`get${n}Hours`]()||0,2)+":"+V(e[`get${n}Minutes`]()||0,2),year:e[`get${n}FullYear`](),month:e[`get${n}Month`]()+1,day:e[`get${n}Date`](),hour:e[`get${n}Hours`](),minute:e[`get${n}Minutes`](),weekday:0,doy:0,workweek:0,hasDay:!0,hasTime:!0,past:!1,current:!1,future:!1,disabled:!1})}function R(e){return e.year*1e8+e.month*1e6+e.day*1e4}function xe(e){return e.hour*100+e.minute}function ka(e){return R(e)+xe(e)}function _a(e,t,n){const a=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute),o=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute);return n===!0&&o<a?0:o-a}function Ae(e,t,n=!1){let a=R(t),o=R(e),c=a===o;return e.hasTime&&n&&c&&(a=xe(t),o=xe(e),c=a===o),e.past=o<a,e.current=c,e.future=o>a,e.currentWeekday=e.weekday===t.weekday,e}function Fn(e,t,n){return e.hasTime=!0,e.hour=Math.floor(t/Be),e.minute=t%Be,e.time=ut(e),n&&Ae(e,n,!0),e}function vt(e){return e.weekday=Dt(e),e}function Sn(e){return e.doy=wt(e),e}function An(e,t,n,a,o){const c=R(e);if(t!==void 0){const l=R(de(t));c<=l&&(e.disabled=!0)}if(e.disabled!==!0&&n!==void 0){const l=R(de(n));c>=l&&(e.disabled=!0)}if(e.disabled!==!0&&Array.isArray(a)&&a.length>0){for(const l in a)if(a[l]===e.weekday){e.disabled=!0;break}}if(e.disabled!==!0&&Array.isArray(o)&&o.length>0){for(const l in o)if(Array.isArray(o[l])&&o[l].length===2){const y=de(o[l][0]),s=de(o[l][1]);if(Wn(e,y,s)){e.disabled=!0;break}}else if(R(J(o[l]+" 00:00"))===c){e.disabled=!0;break}}return e}function ne(e){return e.hasTime=!0,e.time=ut(e),e.date=Tt(e),e.weekday=Dt(e),e.doy=wt(e),e.workweek=En(e),e}function wt(e){if(e.year!==0)return(Date.UTC(e.year,e.month-1,e.day)-Date.UTC(e.year,0,0))/24/60/60/1e3}function En(e){e.year===0&&(e=J(Se()));const t=Mn(e);if(isNaN(t))return 0;const n=new Date(t.getFullYear(),t.getMonth(),t.getDate());n.setDate(n.getDate()-(n.getDay()+6)%7+3);const a=new Date(n.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=n.getTimezoneOffset()-a.getTimezoneOffset();n.setHours(n.getHours()-o);const c=(n-a)/Cn;return 1+Math.floor(c)}function Dt(e){let t=e.weekday;if(e.hasDay){const n=Math.floor,a=e.day,o=(e.month+9)%fe+1,c=n(e.year/100),l=e.year%100-(e.month<=2?1:0);t=((a+n(2.6*o-.2)-2*c+l+n(l/4)+n(c/4))%7+7)%7}return t}function Nn(e){return(e%4===0^e%100===0^e%400===0)===1}function ue(e,t){return Nn(e)?Tn[t]:Dn[t]}function K(e){return{...e}}function V(e,t){let n=String(e);for(;n.length<t;)n="0"+n;return n}function Tt(e){let t=`${V(e.year,4)}-${V(e.month,2)}`;return e.hasDay&&(t+=`-${V(e.day,2)}`),t}function ut(e){return e.hasTime?`${V(e.hour,2)}:${V(e.minute,2)}`:""}function Hn(e){return Tt(e)+" "+(e.hasTime?ut(e):"00:00")}function ie(e){return++e.day,e.weekday=(e.weekday+1)%Ce,e.day>mn&&e.day>ue(e.year,e.month)&&(e.day=Re,++e.month,e.month>fe&&(e.month=rt,++e.year)),e}function dt(e){return e.day--,e.weekday=(e.weekday+6)%Ce,e.day<Re&&(e.month--,e.month<rt&&(e.year--,e.month=fe),e.day=ue(e.year,e.month)),e}function yt(e,t=ie,n=1,a=[0,1,2,3,4,5,6]){return Fe(e,t,n,a)}function Fe(e,t=ie,n=1,a=[0,1,2,3,4,5,6]){for(!a.includes(e.weekday)&&e.weekday===0&&t===ie&&++n;--n>=0;)e=t(e),a.length<7&&!a.includes(e.weekday)&&++n;return e}function mt(e,t,n=ie,a=6){for(;e.weekday!==t&&--a>=0;)e=n(e);return e}function On(e){const t=[1,1,1,1,1,1,1],n=[0,0,0,0,0,0,0];for(let a=0;a<e.length;++a)n[e[a]]=1;for(let a=0;a<Ce;++a){let o=1;for(let c=1;c<Ce;++c){const l=(a+c)%Ce;if(n[l])break;++o}t[a]=n[a]*o}return t}function Bn(e,t,n,a,o,c,l=[],y=[],s=42,D=0){const w=R(t),b=[];let N=K(e),O=0,B=O===w;if(w<R(e))return b;for(;(!B||b.length<D)&&b.length<s&&(O=R(N),B=B||O>w&&b.length>=D,!B);){if(a[N.weekday]===0){N=Fe(N,ie);continue}const M=K(N);ne(M),Ae(M,n),An(M,o,c,l,y),b.push(M),N=Fe(N,ie)}return b}function ga(e,t,n,a,o){const c=[];for(let l=0;l<a;++l){const y=(t+l)*n,s=K(e);c.push(Fn(s,y,o))}return c}function Ve(e,t){const n=(a,o)=>"";return typeof Intl=="undefined"||typeof Intl.DateTimeFormat=="undefined"?n:(a,o)=>{try{return new Intl.DateTimeFormat(e||void 0,t(a,o)).format(In(a))}catch(c){return console.error(`Intl.DateTimeFormat: ${c.message} -> ${Hn(a)}`),n}}}function Mn(e,t=!0){return t?new Date(Date.UTC(e.year,e.month-1,e.day,0,0)):new Date(e.year,e.month-1,e.day,0,0)}function In(e,t=!0){return t?new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute)):new Date(e.year,e.month-1,e.day,e.hour,e.minute)}function ht(e){return isFinite(parseInt(e,10))}function Wn(e,t,n,a){const o=R(e)+(a===!0?xe(e):0),c=R(t)+(a===!0?xe(t):0),l=R(n)+(a===!0?xe(n):0);return o>=c&&o<=l}function z(e,t){const n=K(e);let a;return Kn(t,(o,c)=>{if(n[c]!==void 0){n[c]+=parseInt(o,10);const l=kt.indexOf(c);l!==-1&&(a===void 0?a=l:a=Math.min(l,a))}}),a!==void 0&&Ln(n,kt[a]),ne(n),n}const kt=["minute","hour","day","month"];function Kn(e,t){Object.keys(e).forEach(n=>t(e[n],n))}function $n(e){if(e.minute>=Be||e.minute<0){const t=Math.floor(e.minute/Be);e.minute-=t*Be,e.hour+=t,qt(e)}return e}function qt(e){if(e.hour>=Je||e.hour<0){const t=Math.floor(e.hour/Je);e.hour-=t*Je,e.day+=t,Ct(e)}return e}function Ct(e){qe(e);let t=ue(e.year,e.month);if(e.day>t){++e.month,e.month>fe&&qe(e);let n=e.day-t;t=ue(e.year,e.month);do n>t&&(++e.month,e.month>fe&&qe(e),n-=t,t=ue(e.year,e.month));while(n>t);e.day=n}else if(e.day<=0){let n=-1*e.day;--e.month,e.month<=0&&qe(e),t=ue(e.year,e.month);do n>t&&(n-=t,--e.month,e.month<=0&&qe(e),t=ue(e.year,e.month));while(n>t);e.day=t-n}return e}function qe(e){if(e.month>fe){const t=Math.floor(e.month/fe);e.month=e.month%fe,e.year+=t}else e.month<rt&&(e.month+=fe,--e.year);return e}function Ln(e,t){switch(t){case"minute":return $n(e);case"hour":return qt(e);case"day":return Ct(e);case"month":return qe(e)}}function zn(){const e=(a,o)=>"",t={long:{timeZone:"UTC",month:"long"},short:{timeZone:"UTC",month:"short"},narrow:{timeZone:"UTC",month:"narrow"}};if(typeof Intl=="undefined"||typeof Intl.DateTimeFormat=="undefined")return e;function n(a,o,c){try{const l=new Intl.DateTimeFormat(c||void 0,t[o]||t.long),y=new Date;return y.setDate(1),y.setMonth(a),l.format(y)}catch(l){return console.error(`Intl.DateTimeFormat: ${l.message} -> month: ${a}`),e}}return n}function ba(e,t){const n=zn();return[...Array(12).keys()].map(a=>n(a,e,t))}function le(e,t="px"){if(!(e==null||e===""))return isNaN(e)?String(e):e==="auto"?e:`${Number(e)}${t}`}function Rn(e,t){return t===0?e:e.slice(0,t)}var pe={name:"ResizeObserver",mounted(e,{modifiers:t,value:n}){if(!n)return;const a={};a.callback=n,a.size={width:0,height:0},a.observer=new ResizeObserver(o=>{const c=o[0].contentRect;(c.width!==a.size.width||c.height!==a.size.height)&&(a.size.width=c.width,a.size.height=c.height,a.callback(a.size))}),a.observer.observe(e),e.__onResizeObserver=a},beforeUnmount(e){if(!e.__onResizeObserver)return;const{observer:t}=e.__onResizeObserver;t.unobserve(e),delete e.__onResizeObserver}};function Un(e,t,{scrollArea:n,pane:a}){if(!t){const w="[error: renderCalendar] no renderFunc has been supplied to useCalendar";throw console.error(w),new Error(w)}const o=at({width:0,height:0}),c=Y(null);function l({width:w,height:b}){o.width=w,o.height=b}const y=A(()=>e.noScroll!==!0&&n.value&&a.value&&o.height?n.value.offsetWidth-a.value.offsetWidth:0);function s(){}function D(){const w={ref:c,role:"complementary",lang:e.locale,class:{"q-calendar--dark":e.dark===!0,"q-calendar":!0,"q-calendar__bordered":e.bordered===!0}};return nt(k("div",w,[t()]),[[pe,l]])}return{rootRef:c,scrollWidth:y,__initCalendar:s,__renderCalendar:D}}const wa={modelValue:{type:String,default:Se(),validator:e=>e===""||lt(e)},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,noHeader:Boolean,noScroll:Boolean,shortWeekdayLabel:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,minWeekdayLabel:{type:[Number,String],default:1},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>e.length===2},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},selectedDates:{type:Array,default:()=>[]},selectedStartEndDates:{type:Array,default:()=>[]},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let t=!0;return e.forEach(n=>{["day","date","weekday","interval","time","resource","task"].includes(n)!==!0&&(t=!1)}),t}}};function Pn(e,{startDate:t,endDate:n,times:a}){const o=A(()=>On(e.weekdays)),c=A(()=>J(t.value)),l=A(()=>n.value==="0000-00-00"?B(c.value):J(n.value)),y=A(()=>{const q={timeZone:"UTC",day:"numeric"};return Ve(e.locale,(x,L)=>q)}),s=A(()=>{const q={timeZone:"UTC",weekday:"long"},x={timeZone:"UTC",weekday:"short"};return Ve(e.locale,(L,Z)=>Z?x:q)}),D=A(()=>{const q={timeZone:"UTC",dateStyle:"full"};return Ve(e.locale,x=>q)});function w(q,x){return q&&q.length>0&&q.includes(x.date)}function b(q,x){const L={firstDay:!1,betweenDays:!1,lastDay:!1};if(q&&q.length===2){const Z=R(x),ae=R(de(q[0])),P=R(de(q[1]));L.firstDay=ae===Z,L.lastDay=P===Z,L.betweenDays=ae<Z&&P>Z}return L}function N(q,x=!1,L=[],Z=[],ae=!1){const P=w(L,q),{firstDay:oe,lastDay:ee,betweenDays:G}=b(Z,q);return{"q-past-day":oe!==!0&&G!==!0&&ee!==!0&&P!==!0&&x!==!0&&q.past,"q-future-day":oe!==!0&&G!==!0&&ee!==!0&&P!==!0&&x!==!0&&q.future,"q-outside":x,"q-current-day":q.current,"q-selected":P,"q-range-first":oe===!0,"q-range":G===!0,"q-range-last":ee===!0,"q-range-hover":ae===!0&&(oe===!0||ee===!0||G===!0),"q-disabled-day disabled":q.disabled===!0}}function O(q){return Ue(q,e.weekdays,a.today)}function B(q){return Me(q,e.weekdays,a.today)}function M(q){}return{weekdaySkips:o,parsedStart:c,parsedEnd:l,dayFormatter:y,weekdayFormatter:s,ariaDateFormatter:D,arrayHasDate:w,checkDays:b,getRelativeClasses:N,startOfWeek:O,endOfWeek:B,dayStyleDefault:M}}const jn={now:{type:String,validator:e=>e===""||lt(e),default:""}};function Yn(e){const t=at({now:J("0000-00-00 00:00"),today:J("0000-00-00")}),n=A(()=>e.now?J(e.now):c());ce(()=>n,s=>o());function a(){t.now.current=t.today.current=!0,t.now.past=t.today.past=!1,t.now.future=t.today.future=!1}function o(){const s=n.value||c();l(s,t.now),y(s,t.now),l(s,t.today)}function c(){return xn(new Date)}function l(s,D){s.date!==D.date&&(D.year=s.year,D.month=s.month,D.day=s.day,D.weekday=s.weekday,D.date=s.date)}function y(s,D){s.time!==D.time&&(D.hour=s.hour,D.minute=s.minute,D.time=s.time)}return{times:t,parsedNow:n,setCurrent:a,updateCurrent:o,getNow:c,updateDay:l,updateTime:y}}function Qn(e,{parsedView:t,parsedValue:n,times:a}){return{renderValues:A(()=>{const c=n.value;let l=e.maxDays,y=c,s=c;switch(t.value){case"month":y=ze(c),s=Ie(c),l=ue(y.year,y.month);break;case"week":case"week-agenda":case"week-scheduler":y=Ue(c,e.weekdays,a.today),s=Me(y,e.weekdays,a.today),l=e.weekdays.length;break;case"day":case"scheduler":case"agenda":s=yt(K(s),ie,l>1?l-1:l,e.weekdays),ne(s);break;case"month-interval":case"month-scheduler":case"month-agenda":y=ze(c),s=Ie(c),ne(s),l=ue(y.year,y.month);break;case"resource":l=1,s=yt(K(s),ie,l,e.weekdays),ne(s);break}return{start:y,end:s,maxDays:l}})}}const Zn=e=>e.replace(/(-\w)/g,t=>t[1].toUpperCase());let et,xt;function Ft(e,t){const n={};for(const a in e){const o=e[a],c=Zn("on-"+a);if(et===void 0){console.warn("$listeners has not been set up");return}if(et.value[c]===void 0)continue;const l="on"+o.event.charAt(0).toUpperCase()+o.event.slice(1),y=s=>{const D=s;return(o.button===void 0||D.buttons>0&&D.button===o.button)&&(o.prevent&&D.preventDefault(),o.stop&&D.stopPropagation(),xt(a,t(D,a))),o.result};l in n?Array.isArray(n[l])?n[l].push(y):n[l]=[n[l],y]:n[l]=y}return n}function Xn(e,t){return Ft(it(e),t)}function it(e){return{["click"+e]:{event:"click"},["contextmenu"+e]:{event:"contextmenu",prevent:!0,result:!1},["mousedown"+e]:{event:"mousedown"},["mousemove"+e]:{event:"mousemove"},["mouseup"+e]:{event:"mouseup"},["mouseenter"+e]:{event:"mouseenter"},["mouseleave"+e]:{event:"mouseleave"},["touchstart"+e]:{event:"touchstart"},["touchmove"+e]:{event:"touchmove"},["touchend"+e]:{event:"touchend"}}}function Le(e){return Object.keys(it(e))}function Gn(e,t){return xt=e,et=t,{getMouseEventHandlers:Ft,getDefaultMouseEventHandlers:Xn,getMouseEventName:it,getRawMouseEvents:Le}}const Jn=["moved"];function Vn(e,{parsedView:t,parsedValue:n,weekdaySkips:a,direction:o,maxDays:c,times:l,emittedValue:y,emit:s}){function D(w=1){if(w===0){y.value=Se();return}let b=K(n.value);const N=w>0,O=N?ie:dt,B=N?qn:Re;let M=N?w:-w;o.value=N?"next":"prev";const q=a.value.filter(x=>x!==0).length;for(;--M>=0;)switch(t.value){case"month":for(b.day=B,O(b),vt(b);a.value[b.weekday]===0;)b=z(b,{day:N===!0?1:-1});break;case"week":case"week-agenda":case"week-scheduler":Fe(b,O,q,e.weekdays);break;case"day":case"scheduler":case"agenda":Fe(b,O,c.value,e.weekdays);break;case"month-interval":case"month-agenda":case"month-scheduler":b.day=B,O(b);break;case"resource":Fe(b,O,c.value,e.weekdays);break}vt(b),ne(b),Sn(b),Ae(b,l.now),y.value=b.date,s("moved",b)}return{move:D}}const pn=/^on[A-Z]/;function ea(e=tt()){return{emitListeners:A(()=>{const t={};return e.vnode!==void 0&&e.vnode!==null&&e.vnode.props!==null&&Object.keys(e.vnode.props).forEach(n=>{pn.test(n)===!0&&(t[n]=!0)}),t})}}function Oe(){return[k("span",{ariaHidden:"true",class:"q-calendar__focus-helper"})]}function ta(e,t,n){const a=e.focusable===!0&&e.focusType.includes("date")===!0;return t.tabindex=a===!0?0:-1,k("button",t,[n,a===!0&&Oe()])}const na=["change"];function aa(e,{days:t,lastStart:n,lastEnd:a}){function o(){if(t.value&&t.value.length>0){const c=t.value[0].date,l=t.value[t.value.length-1].date;if(n.value===null||a.value===null||c!==n.value||l!==a.value)return n.value=c,a.value=l,e("change",{start:c,end:l,days:t.value}),!0}return!1}return{checkChange:o}}function St(){function e(n,{bubbles:a=!1,cancelable:o=!1}={}){try{return new CustomEvent(n,{bubbles:a,cancelable:o})}catch{const l=document.createEvent("Event");return l.initEvent(n,a,o),l}}function t(n,a){return[].concat(a).includes(n.keyCode)}return{createEvent:e,isKeyCode:t}}const{isKeyCode:_t}=St(),ra={useNavigation:Boolean};function la(e,{rootRef:t,focusRef:n,focusValue:a,datesRef:o,days:c,parsedView:l,parsedValue:y,emittedValue:s,weekdaySkips:D,direction:w,times:b}){let N=!1;cn(()=>{B()}),ce(()=>e.useNavigation,F=>{F===!0?O():B()}),e.useNavigation===!0&&O();function O(){N!==!0&&document&&(N=!0,document.addEventListener("keyup",L),document.addEventListener("keydown",x))}function B(){document&&(document.removeEventListener("keyup",L),document.removeEventListener("keydown",x),N=!1)}function M(F){if(F===void 0)return!1;if(document){const i=document.activeElement;if(i!==document.body&&t.value.contains(i)===!0)return!0}return!1}function q(){let F=0;const i=setInterval(()=>{o.value[n.value]?(o.value[n.value].focus(),(++F===50||document.activeElement===o.value[n.value])&&clearInterval(i)):clearInterval(i)},250)}function x(F){M(F)&&_t(F,[33,34,35,36,37,38,39,40])&&(F.stopPropagation(),F.preventDefault())}function L(F){if(M(F)&&_t(F,[33,34,35,36,37,38,39,40]))switch(F.keyCode){case 33:ee();break;case 34:G();break;case 35:Ee();break;case 36:ge();break;case 37:P();break;case 38:Z();break;case 39:oe();break;case 40:ae();break}}function Z(F){let i=K(a.value);if(l.value==="month"){if(i=z(i,{day:-7}),a.value.month!==i.month){w.value="prev",s.value=i.date;return}}else(l.value==="day"||l.value==="week"||l.value==="month-interval")&&(i=z(i,{minute:parseInt(e.intervalMinutes)}));w.value="prev",n.value=i.date}function ae(F){let i=K(a.value);if(l.value==="month"){if(i=z(i,{day:7}),a.value.month!==i.month){w.value="next",s.value=i.date;return}}else(l.value==="day"||l.value==="week"||l.value==="month-interval")&&(i=z(i,{minute:parseInt(e.intervalMinutes)}));w.value="next",n.value=i.date}function P(F){let i=K(a.value);w.value="prev";do i=z(i,{day:-1});while(D.value[i.weekday]===0);if(l.value==="month"||l.value==="month-interval"){if(a.value.month!==i.month){s.value=i.date;return}}else if(l.value==="week"){if(i.weekday>a.value.weekday){s.value=i.date;return}}else if(l.value==="day"){s.value=i.date;return}n.value=i.date}function oe(F){let i=K(a.value);w.value="next";do i=z(i,{day:1});while(D.value[i.weekday]===0);if(l.value==="month"||l.value==="month-interval"){if(a.value.month!==i.month){s.value=i.date;return}}else if(l.value==="week"){if(i.weekday<a.value.weekday){s.value=i.date;return}}else if(l.value==="day"){s.value=i.date;return}n.value=i.date}function ee(F){let i=K(a.value);if(l.value==="month"||l.value==="month-interval"){i=z(i,{month:-1});const se=i.day<=15?1:-1;for(;D.value[i.weekday]===0;)i=z(i,{day:se})}else l.value==="day"?i=z(i,{day:-1}):l.value==="week"&&(i=z(i,{day:-7}));w.value="prev",n.value=i.date}function G(F){let i=K(a.value);if(l.value==="month"||l.value==="month-interval"){i=z(i,{month:1});const se=i.day<=15?1:-1;for(;D.value[i.weekday]===0;)i=z(i,{day:se})}else l.value==="day"?i=z(i,{day:1}):l.value==="week"&&(i=z(i,{day:7}));w.value="next",n.value=i.date}function ge(F){let i=K(a.value);for(l.value==="month"||l.value==="month-interval"?i=ze(i):l.value==="week"&&(i=Ue(i,e.weekdays,b.today));D.value[i.weekday]===0;)i=z(i,{day:-1});n.value=i.date}function Ee(F){let i=K(a.value);for(l.value==="month"||l.value==="month-interval"?i=Ie(i):l.value==="week"&&(i=Me(i,e.weekdays,b.today));D.value[i.weekday]===0;)i=z(i,{day:-1});n.value=i.date}return{startNavigation:O,endNavigation:B,tryFocus:q}}const ua={modelValue:{type:String,default:Se(),validator:e=>e===""||lt(e)},modelTasks:{type:Array,default:[]},modelTitle:{type:Array,default:[]},modelFooter:{type:Array,default:[]},taskKey:{type:[String,Number],default:"id"},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},view:{type:String,validator:e=>["day","week","month"].includes(e)},viewCount:{type:Number,default:1,validator:e=>ht(e)&&e>0},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,shortWeekdayLabel:Boolean,noHeader:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,cellWidth:[Number,String],minWeekdayLabel:{type:[Number,String],default:2},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>e.length===2},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},weekdayClass:Function,dayClass:Function,footerDayClass:Function,dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let t=!0;return e.forEach(n=>{["day","date","weekday","interval","resource","task"].includes(n)!==!0&&(t=!1)}),t}},taskWidth:{type:Number,default:200,validator:e=>ht(e)&&e>0}};function da(e,t,{weekdaySkips:n,times:a}){const o=A(()=>{if(e.view==="day")return J(e.modelValue);if(e.view==="week")return Ue(J(e.modelValue),e.weekdays,a.today);if(e.view==="month")return ze(J(e.modelValue),e.weekdays,a.today);throw new Error(`QCalendarTask: unknown 'view' type (${e.view})`)}),c=A(()=>{if(e.view==="day"){if(e.viewCount===1)return o.value;let y=K(o.value);return y=z(y,{day:e.viewCount-1}),y}else if(e.view==="week"){if(e.viewCount===1)return Me(J(e.modelValue),e.weekdays,a.today);{let y=K(o.value);return y=z(y,{day:(e.viewCount-1)*Ce}),Me(y,e.weekdays,a.today)}}else if(e.view==="month"){if(e.viewCount===1)return Ie(J(e.modelValue),e.weekdays,a.today);{let y=K(o.value);return y=z(y,{month:e.viewCount}),Ie(y,e.weekdays,a.today)}}else throw new Error(`QCalendarTask: unknown 'view' type (${e.view})`)});return{days:A(()=>Bn(o.value,c.value,a.today,n.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER)),parsedStartDate:o,parsedEndDate:c}}var Da=sn({name:"QCalendarTask",directives:[pe],props:{...jn,...ra,...ua},emits:["update:model-value","update:model-tasks","update:model-title","update:model-footer","task-expanded",...na,...Jn,...Le("-date"),...Le("-day"),...Le("-head-day")],setup(e,{slots:t,emit:n,expose:a}){const o=Y(null),c=Y(null),l=Y("next"),y=Y(e.modelValue||Se()),s=Y("0000-00-00"),D=Y(0),w=Y(e.modelValue),b=Y(null),N=Y(null),O=Y({}),B=at({width:0,height:0}),M=Y(!1),q=Y(null),x=Y(null);ce(()=>e.view,()=>{D.value=0});const L=A(()=>e.view==="month"?"month-interval":e.view),Z=tt();if(Z===null)throw new Error("current instance is null");const{emitListeners:ae}=ea(Z),{times:P,setCurrent:oe,updateCurrent:ee}=Yn(e);ee(),oe();const{weekdaySkips:G,parsedStart:ge,dayFormatter:Ee,weekdayFormatter:F,ariaDateFormatter:i,dayStyleDefault:se,getRelativeClasses:be}=Pn(e,{startDate:y,endDate:s,times:P}),ve=A(()=>J(e.modelValue,P.now)||ge.value||P.today);N.value=ve.value,b.value=ve.value.date;const{renderValues:Pe}=Qn(e,{parsedView:L,times:P,parsedValue:ve}),{rootRef:je,__initCalendar:We,__renderCalendar:Ke}=Un(e,en,{scrollArea:o,pane:c}),{days:p,parsedStartDate:we,parsedEndDate:d}=da(e,n,{weekdaySkips:G,times:P}),{move:f}=Vn(e,{parsedView:L,parsedValue:ve,weekdaySkips:G,direction:l,maxDays:D,times:P,emittedValue:w,emit:n}),{getDefaultMouseEventHandlers:u}=Gn(n,ae),{checkChange:T}=aa(n,{days:p,lastStart:q,lastEnd:x}),{isKeyCode:h}=St(),{tryFocus:S}=la(e,{rootRef:je,focusRef:b,focusValue:N,datesRef:O,days:p,parsedView:L,parsedValue:ve,emittedValue:w,weekdaySkips:G,direction:l,times:P}),E=Y(!0),X=A(()=>e.cellWidth!==void 0?parseInt(e.cellWidth,10):150),W=A(()=>e.focusable===!0&&e.focusType.includes("day")&&isMiniMode.value!==!0),$e=A(()=>e.focusable===!0&&e.focusType.includes("date")&&W.value!==!0),ye=A(()=>e.focusable===!0&&e.focusType.includes("weekday")),Ne=A(()=>parseInt(e.dayHeight,10)),De=A(()=>parseInt(e.dayMinHeight,10));ce([p],T,{deep:!0,immediate:!0}),ce(()=>e.modelValue,(r,v)=>{if(w.value!==r){if(e.animated===!0){const _=R(de(r)),g=R(de(v));l.value=_>=g?"next":"prev"}w.value=r}b.value=r}),ce(w,(r,v)=>{if(w.value!==e.modelValue){if(e.animated===!0){const _=R(de(r)),g=R(de(v));l.value=_>=g?"next":"prev"}n("update:model-value",r)}}),ce(b,r=>{r&&(N.value=J(r))}),ce(N,r=>{O.value[b.value]?O.value[b.value].focus():S()}),gt(()=>{O.value={}}),fn(()=>{We()});function He(){w.value=Se()}function he(r=1){f(r)}function C(r=1){f(-r)}function $({width:r,height:v}){B.width=r,B.height=v}function Te(r){return r.date===w.value}function Ye(r,v,_){const g=t.day,m=e.dayStyle||se,H=e.noActiveDate!==!0&&ve.value.date===r.date,I={timestamp:r,task:v,taskIndex:_,activeDate:H},U=le(X.value),Q={width:U,minWidth:U,maxWidth:U,...m({scope:I})},re=typeof e.dayClass=="function"?e.dayClass({scope:I}):{};return k("div",{tabindex:W.value===!0?0:-1,class:{"q-calendar-task__task--day":!0,...re,...be(r),"q-active-date":H===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":W.value===!0},style:Q,onFocus:te=>{W.value},...u("-day",te=>({scope:I,event:te})),onDragenter:te=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(te,"day",I)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDragover:te=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(te,"day",I)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDragleave:te=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(te,"day",I)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDrop:te=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(te,"day",I)===!0?dragOverResource.value=dragValue:dragOverResource.value="")}},[g&&g({scope:I}),Oe()])}function At(r,v){return p.value.map(_=>Ye(_,r,v))}function Et(r,v){const _=t.days,g={timestamps:p.value,days:p.value,task:r,taskIndex:v,cellWidth:X.value};return k("div",{class:"q-calendar-task__task--days-row"},[At(r,v),_&&_({scope:g})])}function Nt(r,v,_=0,g=!0){const m=t.task,H={start:we.value,end:d.value,task:r,taskIndex:v,expanded:g},I=le(e.taskWidth),U={width:I,minWidth:I,maxWidth:I},Q=e.focusable===!0&&e.focusType.includes("task");return k("div",{class:{"q-calendar-task__task--item":!0,"q-calendar__sticky":E.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Q===!0},style:U},[k("div",{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:10+10*_+"px"}},[k("div",{class:{"q-calendar__parent":r.children!==void 0,"q-calendar__parent--expanded":r.children!==void 0&&r.expanded===!0,"q-calendar__parent--collapsed":r.children!==void 0&&r.expanded!==!0},onClick:re=>{re.stopPropagation(),r.expanded=!r.expanded,n("task-expanded",{expanded:r.expanded,scope:H})}})]),m&&m({scope:H}),Oe()])}function Ht(r,v,_=0,g=!0){const m=r.height!==void 0?le(parseInt(r.height,10)):Ne.value>0?le(Ne.value):"auto",H=De.value>0?le(De.value):void 0,I={height:m};H!==void 0&&(I.minHeight=H);const U=k("div",{key:r[e.taskKey]+"-"+v,class:{"q-calendar-task__task":_===0,"q-calendar-task__task--section":_!==0},style:I},[Nt(r,v,_,g),Et(r,v)]);return r.children!==void 0?[U,k("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":g===!0,"q-calendar__child--collapsed":g!==!0}},[ot(r.children,_+1,g===!1?g:r.expanded)])]:[U]}function ot(r=void 0,v=0,_=!0){return r===void 0&&(r=e.modelTasks),r.map((g,m)=>Ht(g,m,v,g.children!==void 0?g.expanded:_))}function Ot(){return k("div",{class:{"q-calendar-task__task--container":!0,"q-calendar__sticky":E.value===!0}},[ot()])}function Bt(r,v){const _=t["footer-task"],g={start:we.value,end:d.value,footer:r,index:v},m=le(e.taskWidth),H={width:m,minWidth:m,maxWidth:m};return k("div",{class:{"q-calendar-task__footer--task":!0,"q-calendar__sticky":E.value===!0},style:H},[_&&_({scope:g})])}function Mt(r,v,_){const g=t["footer-day"],m={timestamp:r,footer:v,index:_},H=le(X.value),I={width:H,minWidth:H,maxWidth:H},U=typeof e.footerDayClass=="function"?e.footerDayClass({scope:m}):{};return k("div",{class:{"q-calendar-task__footer--day":!0,...U,...be(r),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":W.value===!0},style:I},[g&&g({scope:m})])}function It(r,v){return k("div",{class:"q-calendar-task__footer--day-wrapper"},[p.value.map(_=>Mt(_,r,v))])}function Wt(){const r=e.focusable===!0&&e.focusType.includes("task");return e.modelFooter.map((v,_)=>k("div",{class:{"q-calendar-task__footer--wrapper":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":r===!0}},{default:()=>[Bt(v,_),It(v,_)]}))}function Kt(){return k("div",{class:{"q-calendar-task__footer":!0,"q-calendar__sticky":E.value===!0}},Wt())}function $t(){return k("div",{class:{"q-calendar-task__container":!0}},[e.noHeader!==!0&&Jt(),Ot(),Kt()])}function Lt(){const r=t["head-tasks"],v={start:we.value,end:d.value},_=le(parseInt(e.taskWidth,10)),g={width:_,minWidth:_,maxWidth:_};return k("div",{class:{"q-calendar-task__head--tasks":!0,"q-calendar__sticky":E.value===!0},style:g},[r&&r({scope:v})])}function zt(r,v){const _=t["title-task"],g=le(parseInt(e.taskWidth,10)),m={width:g,minWidth:g,maxWidth:g},H={start:we.value,end:d.value,cellWidth:g,title:r,index:v};return k("div",{class:{"q-calendar-task__title--task":!0,"q-calendar__sticky":E.value===!0},style:m},[_&&_({scope:H})])}function ke(r){const v=t["head-weekday-label"],g={activeDate:e.noActiveDate!==!0&&Te(r),timestamp:r,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},m={class:{"q-calendar-task__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return k("div",m,v&&v({scope:g})||Rt(r,e.shortWeekdayLabel))}function Rt(r,v){const _=F.value(r,v||e.weekdayBreakpoints[0]>0&&X.value<=e.weekdayBreakpoints[0]);return k("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&X.value<=e.weekdayBreakpoints[1]?Rn(_,e.minWeekdayLabel):_)}function _e(r){const v={class:{"q-calendar-task__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return k("div",v,Ut(r))}function Ut(r){const v=e.noActiveDate!==!0&&Te(r),_=Ee.value(r,!1),g=t["head-day-label"],m=t["head-day-button"],H={dayLabel:_,timestamp:r,activeDate:v},U={key:r.date,tabindex:$e.value===!0?0:-1,class:{"q-calendar-task__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":r.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":$e.value===!0},disabled:r.disabled,onKeydown:Q=>{r.disabled!==!0&&h(Q,[13,32])&&(Q.stopPropagation(),Q.preventDefault())},onKeyup:Q=>{r.disabled!==!0&&h(Q,[13,32])&&(w.value=r.date,ae.value.onClickDate!==void 0&&n("click-date",{scope:H}))},...u("-date",(Q,re)=>((re==="click-date"||re==="contextmenu-date")&&(w.value=r.date,re==="click-date"&&Q.preventDefault()),{scope:H,event:Q}))};return e.noAria!==!0&&(U.ariaLabel=i.value(r)),m?m({scope:H}):ta(e,U,g?g({scope:H}):_)}function Pt(r){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&ke(r),e.noDefaultHeaderBtn!==!0&&_e(r)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ke(r),e.noDefaultHeaderBtn!==!0&&_e(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ke(r),e.noDefaultHeaderBtn!==!0&&_e(r)]):k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ke(r),e.noDefaultHeaderBtn!==!0&&_e(r)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&_e(r),e.noDefaultHeaderText!==!0&&ke(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&_e(r),e.noDefaultHeaderText!==!0&&ke(r)]):k("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&_e(r),e.noDefaultHeaderText!==!0&&ke(r)])}function jt(r,v,_){const g=t["title-day"],m=le(X.value),H={width:m,minWidth:m,maxWidth:m},I={timestamp:r,title:v,index:_,cellWidth:X.value},U=typeof e.dayClass=="function"?e.dayClass({scope:I}):{},Q=e.focusable===!0&&e.focusType.includes("day");return k("div",{class:{"q-calendar-task__title--day":!0,...U,...be(r),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Q===!0},style:H},[g&&g({scope:I}),Oe()])}function Yt(r){const v=t["head-day"],_=t["head-date"],g=e.noActiveDate!==!0&&Te(r),m={timestamp:r,activeDate:g,droppable:M.value=r.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},H=e.weekdayStyle||se,I=typeof e.weekdayClass=="function"?e.weekdayClass({scope:m}):{},U=le(X.value),Q={width:U,minWidth:U,maxWidth:U,...H({scope:m})},re=r.date,te={key:re,ref:j=>{O.value[re]=j},tabindex:ye.value===!0?0:-1,class:{"q-calendar-task__head--day":!0,...I,...be(r),"q-active-date":g,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ye.value===!0},style:Q,onFocus:j=>{ye.value===!0&&(b.value=re)},onKeydown:j=>{r.disabled!==!0&&h(j,[13,32])&&(j.stopPropagation(),j.preventDefault())},onKeyup:j=>{r.disabled!==!0&&h(j,[13,32])&&(w.value=r.date)},...u("-head-day",j=>({scope:m,event:j})),onDragenter:j=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(j,"head-day",m)===!0?M.value=r.date:M.value="")},onDragover:j=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(j,"head-day",m)===!0?M.value=r.date:M.value="")},onDragleave:j=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(j,"head-day",m)===!0?M.value=r.date:M.value="")},onDrop:j=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(j,"head-day",m)===!0?M.value=r.date:M.value="")}};return k("div",te,[v!==void 0&&v({scope:m}),v===void 0&&Pt(r),v===void 0&&_&&_({scope:m}),Oe()])}function Qt(){return p.value.map(r=>Yt(r))}function Zt(r,v){return p.value.map(_=>jt(_,r,v))}function Xt(){return k("div",{class:{"q-calendar-task__head--days":!0}},[...Qt()])}function Gt(r,v){return k("div",{class:{"q-calendar-task__title--days":!0}},[...Zt(r,v)])}function Jt(){return k("div",{roll:"presentation",class:{"q-calendar-task__head":!0,"q-calendar__sticky":E.value===!0},style:{}},[k("div",{style:{position:"relative",display:"flex"}},[Lt(),Xt()]),e.modelTitle.map((r,v)=>k("div",{class:"q-calendar-task__title",style:{position:"relative",display:"flex"}},[zt(r,v),Gt(r,v)]))])}function Vt(){return k("div",{class:"q-calendar-task__body"},[pt()])}function pt(){return k("div",{ref:o,class:{"q-calendar-task__scroll-area":!0,"q-calendar__scroll":!0}},[$t()])}function en(){const{start:r,end:v}=Pe.value;y.value=r.date,s.value=v.date;const _=B.width>0,g=nt(k("div",{key:y.value,class:"q-calendar-task"},[_===!0&&Vt()]),[[pe,$]]);if(e.animated===!0){const m="q-calendar--"+(l.value==="prev"?e.transitionPrev:e.transitionNext);return k(vn,{name:m,appear:!0},()=>g)}return g}return a({prev:C,next:he,move:f,moveToToday:He,updateCurrent:ee}),()=>Ke()}});const ia={},oa={class:"row justify-center"},ca={class:"q-pa-md q-gutter-sm row"};function sa(e,t){return hn(),kn("div",oa,[_n("div",ca,[me(Xe,{"no-caps":"",class:"button",style:{margin:"2px"},onClick:t[0]||(t[0]=n=>e.$emit("prev"))},{default:Qe(()=>[Ze(" < Prev ")]),_:1}),me(Ge,{vertical:""}),me(Xe,{"no-caps":"",class:"button justify-center items-center",style:{margin:"2px"},onClick:t[1]||(t[1]=n=>e.$emit("today"))},{default:Qe(()=>[Ze(" Today ")]),_:1}),me(Ge,{vertical:""}),me(Xe,{"no-caps":"",class:"button",style:{margin:"2px"},onClick:t[2]||(t[2]=n=>e.$emit("next"))},{default:Qe(()=>[Ze(" Next > ")]),_:1}),me(Ge)])])}var Ta=yn(ia,[["render",sa]]);export{Un as A,la as B,R as C,Vn as D,aa as E,Oe as F,Rn as G,ta as H,le as I,Gn as J,St as K,ze as L,Ie as M,Ta as N,ua as O,Da as P,ya as Q,pe as R,ba as S,xe as T,xn as U,_a as V,z as a,ha as b,de as c,Bn as d,ga as e,Me as f,Ue as g,Ve as h,Wn as i,Hn as j,ka as k,K as l,wa as m,jn as n,ra as o,J as p,na as q,Jn as r,Le as s,Se as t,Ae as u,ht as v,ea as w,Yn as x,Pn as y,Qn as z};
