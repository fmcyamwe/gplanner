import{j as fe,ad as Qe,aF as ll,ae as Ge,aG as al,c as u,aq as wt,g as Se,h as S,S as Re,aH as nl,aI as Dl,ac as ge,aJ as Ct,aK as ol,aL as il,aM as ul,aN as kt,aO as Hl,r as _,Z as rl,t as Nl,k as pe,a4 as sl,a5 as Ql,a6 as cl,a7 as Gl,a8 as jl,a9 as Kl,aa as dl,ab as Ul,w as he,aP as $l,aQ as Ht,aR as Wl,ap as fl,aS as Xl,y as vl,aT as Yl,T as Jl,e as Oe,aU as ml,aV as Zl,m as ea,n as qe,aW as ta,aX as la,aY as gl,aZ as hl,a_ as bl,a$ as aa,b0 as Nt,at as Ke,o as Sl,b1 as na,$ as at,b2 as oa,ao as De,af as ia,aE as ua,D as ra,b as qt,ag as sa,z as ca,b3 as da,v as fa,b4 as va,b5 as ma,f as yl,b6 as ga,ax as Qt,P as nt,ai as ha,_ as ba,b7 as Sa,F as me,M as Ve,I as z,H as K,K as be,aB as Gt,au as Ue,G as $e,V as tt,J as ue,U as _e,b8 as gt,Q as We,b9 as ya,O as jt,N as Kt,ah as xa,as as Ut,av as $t}from"./index.e3f6a5cc.js";import{u as wa,v as Wt,d as Ca,e as ka,f as qa,g as Xt,h as Va,r as Yt,s as _a,p as pa,Q as ht,c as lt}from"./utiFunc.cfeff588.js";import{T as Vt,a as Ma,u as Aa,Q as Ta}from"./goalStorage.af120ef2.js";import{u as Ra}from"./use-quasar.c77ae7ee.js";const Ba={xs:8,sm:10,md:14,lg:20,xl:24};var xl=fe({name:"QChip",props:{...Qe,...ll,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:i}){const{proxy:{$q:a}}=Se(),w=Ge(e,a),o=al(e,Ba),n=u(()=>e.selected===!0||e.icon!==void 0),r=u(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),m=u(()=>e.iconRemove||a.iconSet.chip.remove),h=u(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=u(()=>{const M=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(M?` text-${M} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(h.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(w.value===!0?" q-chip--dark q-dark":"")}),d=u(()=>{const M=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},q={...M,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:M,remove:q}});function x(M){M.keyCode===13&&s(M)}function s(M){e.disable||(i("update:selected",!e.selected),i("click",M))}function p(M){(M.keyCode===void 0||M.keyCode===13)&&(ge(M),e.disable===!1&&(i("update:modelValue",!1),i("remove")))}function B(){const M=[];h.value===!0&&M.push(S("div",{class:"q-focus-helper"})),n.value===!0&&M.push(S(Re,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const q=e.label!==void 0?[S("div",{class:"ellipsis"},[e.label])]:void 0;return M.push(S("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},nl(l.default,q))),e.iconRight&&M.push(S(Re,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&M.push(S(Re,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value,...d.value.remove,onClick:p,onKeyup:p})),M}return()=>{if(e.modelValue===!1)return;const M={class:c.value,style:o.value};return h.value===!0&&Object.assign(M,d.value.chip,{onClick:s,onKeyup:x}),wt("div",M,B(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Dl,e.ripple]])}}}),Oa=fe({name:"QField",inheritAttrs:!1,props:Ct,emits:ol,setup(){return il(ul())}}),ot=fe({name:"QItem",props:{...Qe,...kt,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:i}){const{proxy:{$q:a}}=Se(),w=Ge(e,a),{hasLink:o,linkAttrs:n,linkClass:r,linkTag:m,navigateOnClick:h}=Hl(),c=_(null),d=_(null),x=u(()=>e.clickable===!0||o.value===!0||e.tag==="label"),s=u(()=>e.disable!==!0&&x.value===!0),p=u(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(w.value===!0?" q-item--dark":"")+(o.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(s.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),B=u(()=>{if(e.insetLevel===void 0)return null;const f=a.lang.rtl===!0?"Right":"Left";return{["padding"+f]:16+e.insetLevel*56+"px"}});function M(f){s.value===!0&&(d.value!==null&&(f.qKeyEvent!==!0&&document.activeElement===c.value?d.value.focus():document.activeElement===d.value&&c.value.focus()),h(f))}function q(f){if(s.value===!0&&rl(f,13)===!0){ge(f),f.qKeyEvent=!0;const k=new MouseEvent("click",f);k.qKeyEvent=!0,c.value.dispatchEvent(k)}i("keyup",f)}function I(){const f=Nl(l.default,[]);return s.value===!0&&f.unshift(S("div",{class:"q-focus-helper",tabindex:-1,ref:d})),f}return()=>{const f={ref:c,class:p.value,style:B.value,role:"listitem",onClick:M,onKeyup:q};return s.value===!0?(f.tabindex=e.tabindex||"0",Object.assign(f,n.value)):x.value===!0&&(f["aria-disabled"]="true"),S(m.value,f,I())}}}),Be=fe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const i=u(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>S("div",{class:i.value},pe(l.default))}}),it=fe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const i=u(()=>parseInt(e.lines,10)),a=u(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(i.value===1?" ellipsis":"")),w=u(()=>e.lines!==void 0&&i.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":i.value}:null);return()=>S("div",{style:w.value,class:a.value},pe(l.default))}}),Ia=fe({name:"QMenu",inheritAttrs:!1,props:{...wa,...sl,...Qe,...Ql,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Wt},self:{type:String,validator:Wt},offset:{type:Array,validator:Ca},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...cl,"click","escapeKey"],setup(e,{slots:l,emit:i,attrs:a}){let w=null,o,n,r;const m=Se(),{proxy:h}=m,{$q:c}=h,d=_(null),x=_(!1),s=u(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),p=Ge(e,c),{registerTick:B,removeTick:M}=Gl(),{registerTimeout:q}=jl(),{transitionProps:I,transitionStyle:f}=Kl(e),{localScrollTarget:k,changeScrollEvent:V,unconfigureScrollTarget:A}=ka(e,F),{anchorEl:N,canShow:U}=qa({showing:x}),{hide:H}=dl({showing:x,canShow:U,handleShow:v,handleHide:b,hideOnRouteChange:s,processOnMount:!0}),{showPortal:ie,hidePortal:Q,renderPortal:ce}=Ul(m,d,ae,"menu"),re={anchorEl:N,innerRef:d,onClickOutside(g){if(e.persistent!==!0&&x.value===!0)return H(g),(g.type==="touchstart"||g.target.classList.contains("q-dialog__backdrop"))&&ge(g),!0}},L=u(()=>Xt(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),J=u(()=>e.cover===!0?L.value:Xt(e.self||"top start",c.lang.rtl)),ee=u(()=>(e.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),O=u(()=>e.autoClose===!0?{onClick:X}:{}),te=u(()=>x.value===!0&&e.persistent!==!0);he(te,g=>{g===!0?($l(D),Va(re)):(Ht(D),Yt(re))});function G(){ml(()=>{let g=d.value;g&&g.contains(document.activeElement)!==!0&&(g=g.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||g.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||g.querySelector("[autofocus], [data-autofocus]")||g,g.focus({preventScroll:!0}))})}function v(g){if(w=e.noRefocus===!1?document.activeElement:null,Wl(le),ie(),F(),o=void 0,g!==void 0&&(e.touchPosition||e.contextMenu)){const oe=fl(g);if(oe.left!==void 0){const{top:xe,left:we}=N.value.getBoundingClientRect();o={left:oe.left-we,top:oe.top-xe}}}n===void 0&&(n=he(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,E)),e.noFocus!==!0&&document.activeElement.blur(),B(()=>{E(),e.noFocus!==!0&&G()}),q(()=>{c.platform.is.ios===!0&&(r=e.autoClose,d.value.click()),E(),ie(!0),i("show",g)},e.transitionDuration)}function b(g){M(),Q(),T(!0),w!==null&&(g===void 0||g.qClickOutside!==!0)&&(((g&&g.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),q(()=>{Q(!0),i("hide",g)},e.transitionDuration)}function T(g){o=void 0,n!==void 0&&(n(),n=void 0),(g===!0||x.value===!0)&&(Xl(le),A(),Yt(re),Ht(D)),g!==!0&&(w=null)}function F(){(N.value!==null||e.scrollTarget!==void 0)&&(k.value=vl(N.value,e.scrollTarget),V(k.value,E))}function X(g){r!==!0?(Yl(h,g),i("click",g)):r=!1}function le(g){te.value===!0&&e.noFocus!==!0&&Zl(d.value,g.target)!==!0&&G()}function D(g){i("escapeKey"),H(g)}function E(){const g=d.value;g===null||N.value===null||_a({el:g,offset:e.offset,anchorEl:N.value,anchorOrigin:L.value,selfOrigin:J.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ae(){return S(Jl,I.value,()=>x.value===!0?S("div",{role:"menu",...a,ref:d,tabindex:-1,class:["q-menu q-position-engine scroll"+ee.value,a.class],style:[a.style,f.value],...O.value},pe(l.default)):null)}return Oe(T),Object.assign(h,{focus:G,updatePosition:E}),ce}});let ut=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,ut=e.scrollLeft>=0,e.remove()}const ye=1e3,Ea=["start","center","end","start-force","center-force","end-force"],wl=Array.prototype.filter,Fa=window.getComputedStyle(document.body).overflowAnchor===void 0?ea:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const i=e.children||[];wl.call(i,w=>w.dataset&&w.dataset.qVsAnchor!==void 0).forEach(w=>{delete w.dataset.qVsAnchor});const a=i[l];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function Ne(e,l){return e+l}function bt(e,l,i,a,w,o,n,r){const m=e===window?document.scrollingElement||document.documentElement:e,h=w===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-n-r,scrollMaxSize:0,offsetStart:-n,offsetEnd:-r};if(w===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=m.scrollLeft,c.scrollViewSize+=m.clientWidth),c.scrollMaxSize=m.scrollWidth,o===!0&&(c.scrollStart=(ut===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=m.scrollTop,c.scrollViewSize+=m.clientHeight),c.scrollMaxSize=m.scrollHeight),i!==null)for(let d=i.previousElementSibling;d!==null;d=d.previousElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=d[h]);if(a!==null)for(let d=a.nextElementSibling;d!==null;d=d.nextElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=d[h]);if(l!==e){const d=m.getBoundingClientRect(),x=l.getBoundingClientRect();w===!0?(c.offsetStart+=x.left-d.left,c.offsetEnd-=x.width):(c.offsetStart+=x.top-d.top,c.offsetEnd-=x.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function Jt(e,l,i,a){l==="end"&&(l=(e===window?document.body:e)[i===!0?"scrollWidth":"scrollHeight"]),e===window?i===!0?(a===!0&&(l=(ut===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):i===!0?(a===!0&&(l=(ut===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Xe(e,l,i,a){if(i>=a)return 0;const w=l.length,o=Math.floor(i/ye),n=Math.floor((a-1)/ye)+1;let r=e.slice(o,n).reduce(Ne,0);return i%ye!==0&&(r-=l.slice(o*ye,i).reduce(Ne,0)),a%ye!==0&&a!==w&&(r-=l.slice(a,n*ye).reduce(Ne,0)),r}const Pa={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},La={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Pa};function za({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:i,virtualScrollItemSizeComputed:a}){const w=Se(),{props:o,emit:n,proxy:r}=w,{$q:m}=r;let h,c,d,x=[],s;const p=_(0),B=_(0),M=_({}),q=_(null),I=_(null),f=_(null),k=_({from:0,to:0}),V=u(()=>o.tableColspan!==void 0?o.tableColspan:100);a===void 0&&(a=u(()=>o.virtualScrollItemSize));const A=u(()=>a.value+";"+o.virtualScrollHorizontal),N=u(()=>A.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);he(N,()=>{ee()}),he(A,U);function U(){J(c,!0)}function H(b){J(b===void 0?c:b)}function ie(b,T){const F=l();if(F==null||F.nodeType===8)return;const X=bt(F,i(),q.value,I.value,o.virtualScrollHorizontal,m.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);d!==X.scrollViewSize&&ee(X.scrollViewSize),ce(F,X,Math.min(e.value-1,Math.max(0,parseInt(b,10)||0)),0,Ea.indexOf(T)>-1?T:c>-1&&b>c?"end":"start")}function Q(){const b=l();if(b==null||b.nodeType===8)return;const T=bt(b,i(),q.value,I.value,o.virtualScrollHorizontal,m.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),F=e.value-1,X=T.scrollMaxSize-T.offsetStart-T.offsetEnd-B.value;if(h===T.scrollStart)return;if(T.scrollMaxSize<=0){ce(b,T,0,0);return}d!==T.scrollViewSize&&ee(T.scrollViewSize),re(k.value.from);const le=Math.floor(T.scrollMaxSize-Math.max(T.scrollViewSize,T.offsetEnd)-Math.min(s[F],T.scrollViewSize/2));if(le>0&&Math.ceil(T.scrollStart)>=le){ce(b,T,F,T.scrollMaxSize-T.offsetEnd-x.reduce(Ne,0));return}let D=0,E=T.scrollStart-T.offsetStart,ae=E;if(E<=X&&E+T.scrollViewSize>=p.value)E-=p.value,D=k.value.from,ae=E;else for(let g=0;E>=x[g]&&D<F;g++)E-=x[g],D+=ye;for(;E>0&&D<F;)E-=s[D],E>-T.scrollViewSize?(D++,ae=E):ae=s[D]+E;ce(b,T,D,ae)}function ce(b,T,F,X,le){const D=typeof le=="string"&&le.indexOf("-force")>-1,E=D===!0?le.replace("-force",""):le,ae=E!==void 0?E:"start";let g=Math.max(0,F-M.value[ae]),oe=g+M.value.total;oe>e.value&&(oe=e.value,g=Math.max(0,oe-M.value.total)),h=T.scrollStart;const xe=g!==k.value.from||oe!==k.value.to;if(xe===!1&&E===void 0){te(F);return}const{activeElement:we}=document,R=f.value;xe===!0&&R!==null&&R!==we&&R.contains(we)===!0&&(R.addEventListener("focusout",L),setTimeout(()=>{R!==null&&R.removeEventListener("focusout",L)})),Fa(R,F-g);const j=E!==void 0?s.slice(g,F).reduce(Ne,0):0;if(xe===!0){const $=oe>=k.value.from&&g<=k.value.to?k.value.to:oe;k.value={from:g,to:$},p.value=Xe(x,s,0,g),B.value=Xe(x,s,oe,e.value),requestAnimationFrame(()=>{k.value.to!==oe&&h===T.scrollStart&&(k.value={from:k.value.from,to:oe},B.value=Xe(x,s,oe,e.value))})}requestAnimationFrame(()=>{if(h!==T.scrollStart)return;xe===!0&&re(g);const $=s.slice(g,F).reduce(Ne,0),Y=$+T.offsetStart+p.value,Ce=Y+s[F];let ke=Y+X;if(E!==void 0){const st=$-j,de=T.scrollStart+st;ke=D!==!0&&de<Y&&Ce<de+T.scrollViewSize?de:E==="end"?Ce-T.scrollViewSize:Y-(E==="start"?0:Math.round((T.scrollViewSize-s[F])/2))}h=ke,Jt(b,ke,o.virtualScrollHorizontal,m.lang.rtl),te(F)})}function re(b){const T=f.value;if(T){const F=wl.call(T.children,g=>g.classList&&g.classList.contains("q-virtual-scroll--skip")===!1),X=F.length,le=o.virtualScrollHorizontal===!0?g=>g.getBoundingClientRect().width:g=>g.offsetHeight;let D=b,E,ae;for(let g=0;g<X;){for(E=le(F[g]),g++;g<X&&F[g].classList.contains("q-virtual-scroll--with-prev")===!0;)E+=le(F[g]),g++;ae=E-s[D],ae!==0&&(s[D]+=ae,x[Math.floor(D/ye)]+=ae),D++}}}function L(){f.value!==null&&f.value!==void 0&&f.value.focus()}function J(b,T){const F=1*a.value;(T===!0||Array.isArray(s)===!1)&&(s=[]);const X=s.length;s.length=e.value;for(let D=e.value-1;D>=X;D--)s[D]=F;const le=Math.floor((e.value-1)/ye);x=[];for(let D=0;D<=le;D++){let E=0;const ae=Math.min((D+1)*ye,e.value);for(let g=D*ye;g<ae;g++)E+=s[g];x.push(E)}c=-1,h=void 0,p.value=Xe(x,s,0,k.value.from),B.value=Xe(x,s,k.value.to,e.value),b>=0?(re(k.value.from),qe(()=>{ie(b)})):G()}function ee(b){if(b===void 0&&typeof window!="undefined"){const E=l();E!=null&&E.nodeType!==8&&(b=bt(E,i(),q.value,I.value,o.virtualScrollHorizontal,m.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}d=b;const T=parseFloat(o.virtualScrollSliceRatioBefore)||0,F=parseFloat(o.virtualScrollSliceRatioAfter)||0,X=1+T+F,le=b===void 0||b<=0?1:Math.ceil(b/a.value),D=Math.max(1,le,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/X));M.value={total:Math.ceil(D*X),start:Math.ceil(D*T),center:Math.ceil(D*(.5+T)),end:Math.ceil(D*(1+T)),view:le}}function O(b,T){const F=o.virtualScrollHorizontal===!0?"width":"height",X={["--q-virtual-scroll-item-"+F]:a.value+"px"};return[b==="tbody"?S(b,{class:"q-virtual-scroll__padding",key:"before",ref:q},[S("tr",[S("td",{style:{[F]:`${p.value}px`,...X},colspan:V.value})])]):S(b,{class:"q-virtual-scroll__padding",key:"before",ref:q,style:{[F]:`${p.value}px`,...X}}),S(b,{class:"q-virtual-scroll__content",key:"content",ref:f,tabindex:-1},T.flat()),b==="tbody"?S(b,{class:"q-virtual-scroll__padding",key:"after",ref:I},[S("tr",[S("td",{style:{[F]:`${B.value}px`,...X},colspan:V.value})])]):S(b,{class:"q-virtual-scroll__padding",key:"after",ref:I,style:{[F]:`${B.value}px`,...X}})]}function te(b){c!==b&&(o.onVirtualScroll!==void 0&&n("virtualScroll",{index:b,from:k.value.from,to:k.value.to-1,direction:b<c?"decrease":"increase",ref:r}),c=b)}ee();const G=ta(Q,m.platform.is.ios===!0?120:35);la(()=>{ee()});let v=!1;return gl(()=>{v=!0}),hl(()=>{if(v!==!0)return;const b=l();h!==void 0&&b!==void 0&&b!==null&&b.nodeType!==8?Jt(b,h,o.virtualScrollHorizontal,m.lang.rtl):ie(c)}),Oe(()=>{G.cancel()}),Object.assign(r,{scrollTo:ie,reset:U,refresh:H}),{virtualScrollSliceRange:k,virtualScrollSliceSizeComputed:M,setVirtualScrollSize:ee,onVirtualScrollEvt:G,localResetVirtualScroll:J,padVirtualScroll:O,scrollTo:ie,reset:U,refresh:H}}function Ye(e,l,i){return i<=l?l:Math.min(i,Math.max(l,e))}function rt(e,l,i){if(i<=l)return l;const a=i-l+1;let w=l+(e-l)%a;return w<l&&(w=a+w),w===0?0:w}const Zt=e=>["add","add-unique","toggle"].includes(e),Da=".*+?^${}()|[]\\",Ha=Object.keys(Ct);var St=fe({name:"QSelect",inheritAttrs:!1,props:{...La,...bl,...Ct,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Zt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...ol,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:i}){const{proxy:a}=Se(),{$q:w}=a,o=_(!1),n=_(!1),r=_(-1),m=_(""),h=_(!1),c=_(!1);let d=null,x,s,p,B=null,M,q,I,f;const k=_(null),V=_(null),A=_(null),N=_(null),U=_(null),H=aa(e),ie=oa(Ft),Q=u(()=>Array.isArray(e.options)?e.options.length:0),ce=u(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:re,virtualScrollSliceSizeComputed:L,localResetVirtualScroll:J,padVirtualScroll:ee,onVirtualScrollEvt:O,scrollTo:te,setVirtualScrollSize:G}=za({virtualScrollLength:Q,getVirtualScrollTarget:pl,getVirtualScrollEl:It,virtualScrollItemSizeComputed:ce}),v=ul(),b=u(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,C=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const y=e.mapOptions===!0&&x!==void 0?x:[],P=C.map(Z=>_l(Z,y));return e.modelValue===null&&t===!0?P.filter(Z=>Z!==null):P}return C}),T=u(()=>{const t={};return Ha.forEach(C=>{const y=e[C];y!==void 0&&(t[C]=y)}),t}),F=u(()=>e.optionsDark===null?v.isDark.value:e.optionsDark),X=u(()=>Nt(b.value)),le=u(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||b.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),D=u(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),E=u(()=>Q.value===0),ae=u(()=>b.value.map(t=>ve.value(t)).join(", ")),g=u(()=>e.displayValue!==void 0?e.displayValue:ae.value),oe=u(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),xe=u(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||b.value.some(oe.value))),we=u(()=>v.focused.value===!0?e.tabindex:-1),R=u(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${v.targetUid.value}_lb`};return r.value>=0&&(t["aria-activedescendant"]=`${v.targetUid.value}_${r.value}`),t}),j=u(()=>({id:`${v.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),$=u(()=>b.value.map((t,C)=>({index:C,opt:t,html:oe.value(t),selected:!0,removeAtIndex:Vl,toggleOption:Me,tabindex:we.value}))),Y=u(()=>{if(Q.value===0)return[];const{from:t,to:C}=re.value;return e.options.slice(t,C).map((y,P)=>{const Z=Ie.value(y)===!0,W=t+P,ne={clickable:!0,active:!1,activeClass:st.value,manualFocus:!0,focused:!1,disable:Z,tabindex:-1,dense:e.optionsDense,dark:F.value,role:"option",id:`${v.targetUid.value}_${W}`,onClick:()=>{Me(y)}};return Z!==!0&&(ft(y)===!0&&(ne.active=!0),r.value===W&&(ne.focused=!0),ne["aria-selected"]=ne.active===!0?"true":"false",w.platform.is.desktop===!0&&(ne.onMousemove=()=>{o.value===!0&&Ee(W)})),{index:W,opt:y,html:oe.value(y),label:ve.value(y),selected:ne.active,focused:ne.focused,toggleOption:Me,setOptionIndex:Ee,itemProps:ne}})}),Ce=u(()=>e.dropdownIcon!==void 0?e.dropdownIcon:w.iconSet.arrow.dropdown),ke=u(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),st=u(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),de=u(()=>dt(e.optionValue,"value")),ve=u(()=>dt(e.optionLabel,"label")),Ie=u(()=>dt(e.optionDisable,"disable")),Je=u(()=>b.value.map(t=>de.value(t))),ql=u(()=>{const t={onInput:Ft,onChange:ie,onKeydown:Ot,onKeyup:Rt,onKeypress:Bt,onFocus:At,onClick(C){s===!0&&De(C)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ie,t});he(b,t=>{x=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&v.innerLoading.value!==!0&&(n.value!==!0&&o.value!==!0||X.value!==!0)&&(p!==!0&&ze(),(n.value===!0||o.value===!0)&&Fe(""))},{immediate:!0}),he(()=>e.fillInput,ze),he(o,vt),he(Q,zl);function pt(t){return e.emitValue===!0?de.value(t):t}function ct(t){if(t>-1&&t<b.value.length)if(e.multiple===!0){const C=e.modelValue.slice();i("remove",{index:t,value:C.splice(t,1)[0]}),i("update:modelValue",C)}else i("update:modelValue",null)}function Vl(t){ct(t),v.focus()}function Mt(t,C){const y=pt(t);if(e.multiple!==!0){e.fillInput===!0&&je(ve.value(t),!0,!0),i("update:modelValue",y);return}if(b.value.length===0){i("add",{index:0,value:y}),i("update:modelValue",e.multiple===!0?[y]:y);return}if(C===!0&&ft(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const P=e.modelValue.slice();i("add",{index:P.length,value:y}),P.push(y),i("update:modelValue",P)}function Me(t,C){if(v.editable.value!==!0||t===void 0||Ie.value(t)===!0)return;const y=de.value(t);if(e.multiple!==!0){C!==!0&&(je(e.fillInput===!0?ve.value(t):"",!0,!0),Ae()),V.value!==null&&V.value.focus(),(b.value.length===0||Ke(de.value(b.value[0]),y)!==!0)&&i("update:modelValue",e.emitValue===!0?y:t);return}if((s!==!0||h.value===!0)&&v.focus(),At(),b.value.length===0){const W=e.emitValue===!0?y:t;i("add",{index:0,value:W}),i("update:modelValue",e.multiple===!0?[W]:W);return}const P=e.modelValue.slice(),Z=Je.value.findIndex(W=>Ke(W,y));if(Z>-1)i("remove",{index:Z,value:P.splice(Z,1)[0]});else{if(e.maxValues!==void 0&&P.length>=e.maxValues)return;const W=e.emitValue===!0?y:t;i("add",{index:P.length,value:W}),P.push(W)}i("update:modelValue",P)}function Ee(t){if(w.platform.is.desktop!==!0)return;const C=t>-1&&t<Q.value?t:-1;r.value!==C&&(r.value=C)}function Ze(t=1,C){if(o.value===!0){let y=r.value;do y=rt(y+t,-1,Q.value-1);while(y!==-1&&y!==r.value&&Ie.value(e.options[y])===!0);r.value!==y&&(Ee(y),te(y),C!==!0&&e.useInput===!0&&e.fillInput===!0&&et(y>=0?ve.value(e.options[y]):M))}}function _l(t,C){const y=P=>Ke(de.value(P),t);return e.options.find(y)||C.find(y)||t}function dt(t,C){const y=t!==void 0?t:C;return typeof y=="function"?y:P=>P!==null&&typeof P=="object"&&y in P?P[y]:P}function ft(t){const C=de.value(t);return Je.value.find(y=>Ke(y,C))!==void 0}function At(t){e.useInput===!0&&V.value!==null&&(t===void 0||V.value===t.target&&t.target.value===ae.value)&&V.value.select()}function Tt(t){rl(t,27)===!0&&o.value===!0&&(De(t),Ae(),ze()),i("keyup",t)}function Rt(t){const{value:C}=t.target;if(t.keyCode!==void 0){Tt(t);return}if(t.target.value="",d!==null&&(clearTimeout(d),d=null),ze(),typeof C=="string"&&C.length>0){const y=C.toLocaleLowerCase(),P=W=>{const ne=e.options.find(se=>W.value(se).toLocaleLowerCase()===y);return ne===void 0?!1:(b.value.indexOf(ne)===-1?Me(ne):Ae(),!0)},Z=W=>{P(de)!==!0&&(P(ve)===!0||W===!0||Fe(C,!0,()=>Z(!0)))};Z()}else v.clearValue(t)}function Bt(t){i("keypress",t)}function Ot(t){if(i("keydown",t),ia(t)===!0)return;const C=m.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),y=t.shiftKey!==!0&&e.multiple!==!0&&(r.value>-1||C===!0);if(t.keyCode===27){at(t);return}if(t.keyCode===9&&y===!1){Pe();return}if(t.target===void 0||t.target.id!==v.targetUid.value)return;if(t.keyCode===40&&v.innerLoading.value!==!0&&o.value===!1){ge(t),Le();return}if(t.keyCode===8&&e.hideSelected!==!0&&m.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?ct(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&i("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof m.value!="string"||m.value.length===0)&&(ge(t),r.value=-1,Ze(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&L.value!==void 0&&(ge(t),r.value=Math.max(-1,Math.min(Q.value,r.value+(t.keyCode===33?-1:1)*L.value.view)),Ze(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ge(t),Ze(t.keyCode===38?-1:1,e.multiple));const P=Q.value;if((I===void 0||f<Date.now())&&(I=""),P>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||I.length>0)){o.value!==!0&&Le(t);const Z=t.key.toLocaleLowerCase(),W=I.length===1&&I[0]===Z;f=Date.now()+1500,W===!1&&(ge(t),I+=Z);const ne=new RegExp("^"+I.split("").map(mt=>Da.indexOf(mt)>-1?"\\"+mt:mt).join(".*"),"i");let se=r.value;if(W===!0||se<0||ne.test(ve.value(e.options[se]))!==!0)do se=rt(se+1,-1,P-1);while(se!==r.value&&(Ie.value(e.options[se])===!0||ne.test(ve.value(e.options[se]))!==!0));r.value!==se&&qe(()=>{Ee(se),te(se),se>=0&&e.useInput===!0&&e.fillInput===!0&&et(ve.value(e.options[se]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||I!=="")&&(t.keyCode!==9||y===!1))){if(t.keyCode!==9&&ge(t),r.value>-1&&r.value<P){Me(e.options[r.value]);return}if(C===!0){const Z=(W,ne)=>{if(ne){if(Zt(ne)!==!0)return}else ne=e.newValueMode;if(W==null)return;je("",e.multiple!==!0,!0),(ne==="toggle"?Me:Mt)(W,ne==="add-unique"),e.multiple!==!0&&(V.value!==null&&V.value.focus(),Ae())};if(e.onNewValue!==void 0?i("newValue",m.value,Z):Z(m.value),e.multiple!==!0)return}o.value===!0?Pe():v.innerLoading.value!==!0&&Le()}}function It(){return s===!0?U.value:A.value!==null&&A.value.contentEl!==null?A.value.contentEl:void 0}function pl(){return It()}function Ml(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?$.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?$.value.map((t,C)=>S(xl,{key:"option-"+C,removable:v.editable.value===!0&&Ie.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:we.value,onRemove(){t.removeAtIndex(C)}},()=>S("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ve.value(t.opt)}))):[S("span",{[xe.value===!0?"innerHTML":"textContent"]:g.value})]}function Et(){if(E.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:m.value}):void 0;const t=l.option!==void 0?l.option:y=>S(ot,{key:y.index,...y.itemProps},()=>S(Be,()=>S(it,()=>S("span",{[y.html===!0?"innerHTML":"textContent"]:y.label}))));let C=ee("div",Y.value.map(t));return l["before-options"]!==void 0&&(C=l["before-options"]().concat(C)),ra(l["after-options"],C)}function Al(t,C){const y=C===!0?{...R.value,...v.splitAttrs.attributes.value}:void 0,P={ref:C===!0?V:void 0,key:"i_t",class:le.value,style:e.inputStyle,value:m.value!==void 0?m.value:"",type:"search",...y,id:C===!0?v.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ql.value};return t!==!0&&s===!0&&(Array.isArray(P.class)===!0?P.class=[...P.class,"no-pointer-events"]:P.class+=" no-pointer-events"),S("input",P)}function Ft(t){d!==null&&(clearTimeout(d),d=null),!(t&&t.target&&t.target.qComposing===!0)&&(et(t.target.value||""),p=!0,M=m.value,v.focused.value!==!0&&(s!==!0||h.value===!0)&&v.focus(),e.onFilter!==void 0&&(d=setTimeout(()=>{d=null,Fe(m.value)},e.inputDebounce)))}function et(t){m.value!==t&&(m.value=t,i("inputValue",t))}function je(t,C,y){p=y!==!0,e.useInput===!0&&(et(t),(C===!0||y!==!0)&&(M=t),C!==!0&&Fe(t))}function Fe(t,C,y){if(e.onFilter===void 0||C!==!0&&v.focused.value!==!0)return;v.innerLoading.value===!0?i("filterAbort"):(v.innerLoading.value=!0,c.value=!0),t!==""&&e.multiple!==!0&&b.value.length>0&&p!==!0&&t===ve.value(b.value[0])&&(t="");const P=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);B!==null&&clearTimeout(B),B=P,i("filter",t,(Z,W)=>{(C===!0||v.focused.value===!0)&&B===P&&(clearTimeout(B),typeof Z=="function"&&Z(),c.value=!1,qe(()=>{v.innerLoading.value=!1,v.editable.value===!0&&(C===!0?o.value===!0&&Ae():o.value===!0?vt(!0):o.value=!0),typeof W=="function"&&qe(()=>{W(a)}),typeof y=="function"&&qe(()=>{y(a)})}))},()=>{v.focused.value===!0&&B===P&&(clearTimeout(B),v.innerLoading.value=!1,c.value=!1),o.value===!0&&(o.value=!1)})}function Tl(){return S(Ia,{ref:A,class:D.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&E.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:F.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:ke.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...j.value,onScrollPassive:O,onBeforeShow:Lt,onBeforeHide:Rl,onShow:Bl},Et)}function Rl(t){zt(t),Pe()}function Bl(){G()}function Ol(t){De(t),V.value!==null&&V.value.focus(),h.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Il(t){De(t),qe(()=>{h.value=!1})}function El(){const t=[S(Oa,{class:`col-auto ${v.fieldClass.value}`,...T.value,for:v.targetUid.value,dark:F.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:m.value.length>0,...v.splitAttrs.listeners.value,onFocus:Ol,onBlur:Il},{...l,rawControl:()=>v.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&t.push(S("div",{ref:U,class:D.value+" scroll",style:e.popupContentStyle,...j.value,onClick:at,onScrollPassive:O},Et())),S(ua,{ref:N,modelValue:n.value,position:e.useInput===!0?"top":void 0,transitionShow:q,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Lt,onBeforeHide:Fl,onHide:Pl,onShow:Ll},()=>S("div",{class:"q-select__dialog"+(F.value===!0?" q-select__dialog--dark q-dark":"")+(h.value===!0?" q-select__dialog--focused":"")},t))}function Fl(t){zt(t),N.value!==null&&N.value.__updateRefocusTarget(v.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),v.focused.value=!1}function Pl(t){Ae(),v.focused.value===!1&&i("blur",t),ze()}function Ll(){const t=document.activeElement;(t===null||t.id!==v.targetUid.value)&&V.value!==null&&V.value!==t&&V.value.focus(),G()}function Pe(){n.value!==!0&&(r.value=-1,o.value===!0&&(o.value=!1),v.focused.value===!1&&(B!==null&&(clearTimeout(B),B=null),v.innerLoading.value===!0&&(i("filterAbort"),v.innerLoading.value=!1,c.value=!1)))}function Le(t){v.editable.value===!0&&(s===!0?(v.onControlFocusin(t),n.value=!0,qe(()=>{v.focus()})):v.focus(),e.onFilter!==void 0?Fe(m.value):(E.value!==!0||l["no-option"]!==void 0)&&(o.value=!0))}function Ae(){n.value=!1,Pe()}function ze(){e.useInput===!0&&je(e.multiple!==!0&&e.fillInput===!0&&b.value.length>0&&ve.value(b.value[0])||"",!0,!0)}function vt(t){let C=-1;if(t===!0){if(b.value.length>0){const y=de.value(b.value[0]);C=e.options.findIndex(P=>Ke(de.value(P),y))}J(C)}Ee(C)}function zl(t,C){o.value===!0&&v.innerLoading.value===!1&&(J(-1,!0),qe(()=>{o.value===!0&&v.innerLoading.value===!1&&(t>C?J():vt(!0))}))}function Pt(){n.value===!1&&A.value!==null&&A.value.updatePosition()}function Lt(t){t!==void 0&&De(t),i("popupShow",t),v.hasPopupOpen=!0,v.onControlFocusin(t)}function zt(t){t!==void 0&&De(t),i("popupHide",t),v.hasPopupOpen=!1,v.onControlFocusout(t)}function Dt(){s=w.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||E.value===!1:!0),q=w.platform.is.ios===!0&&s===!0&&e.useInput===!0?"fade":e.transitionShow}return Sl(Dt),na(Pt),Dt(),Oe(()=>{d!==null&&clearTimeout(d)}),Object.assign(a,{showPopup:Le,hidePopup:Ae,removeAtIndex:ct,add:Mt,toggleOption:Me,getOptionIndex:()=>r.value,setOptionIndex:Ee,moveOptionSelection:Ze,filter:Fe,updateMenuPosition:Pt,updateInputValue:je,isOptionSelected:ft,getEmittingOptionValue:pt,isOptionDisabled:(...t)=>Ie.value.apply(null,t)===!0,getOptionValue:(...t)=>de.value.apply(null,t),getOptionLabel:(...t)=>ve.value.apply(null,t)}),Object.assign(v,{innerValue:b,fieldClass:u(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:k,targetRef:V,hasValue:X,showPopup:Le,floatingLabel:u(()=>e.hideSelected!==!0&&X.value===!0||typeof m.value=="number"||m.value.length>0||Nt(e.displayValue)),getControlChild:()=>{if(v.editable.value!==!1&&(n.value===!0||E.value!==!0||l["no-option"]!==void 0))return s===!0?El():Tl();v.hasPopupOpen===!0&&(v.hasPopupOpen=!1)},controlEvents:{onFocusin(t){v.onControlFocusin(t)},onFocusout(t){v.onControlFocusout(t,()=>{ze(),Pe()})},onClick(t){if(at(t),s!==!0&&o.value===!0){Pe(),V.value!==null&&V.value.focus();return}Le(t)}},getControl:t=>{const C=Ml(),y=t===!0||n.value!==!0||s!==!0;if(e.useInput===!0)C.push(Al(t,y));else if(v.editable.value===!0){const Z=y===!0?R.value:void 0;C.push(S("input",{ref:y===!0?V:void 0,key:"d_t",class:"q-select__focus-target",id:y===!0?v.targetUid.value:void 0,value:g.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...Z,onKeydown:Ot,onKeyup:Tt,onKeypress:Bt})),y===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&C.push(S("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Rt}))}if(H.value!==void 0&&e.disable!==!0&&Je.value.length>0){const Z=Je.value.map(W=>S("option",{value:W,selected:!0}));C.push(S("select",{class:"hidden",name:H.value,multiple:e.multiple},Z))}const P=e.useInput===!0||y!==!0?void 0:v.splitAttrs.attributes.value;return S("div",{class:"q-field__native row items-center",...P,...v.splitAttrs.listeners.value},C)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[S(Re,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:Ce.value})]:null}),il(v)}});const He=40,yt=20;var Na=fe({name:"QPullToRefresh",props:{color:String,bgColor:String,icon:String,noMouse:Boolean,disable:Boolean,scrollTarget:{default:void 0}},emits:["refresh"],setup(e,{slots:l,emit:i}){const{proxy:a}=Se(),{$q:w}=a,o=_("pull"),n=_(0),r=_(!1),m=_(-He),h=_(!1),c=_({}),d=u(()=>({opacity:n.value,transform:`translateY(${m.value}px) rotate(${n.value*360}deg)`})),x=u(()=>"q-pull-to-refresh__puller row flex-center"+(h.value===!0?" q-pull-to-refresh__puller--animating":"")+(e.bgColor!==void 0?` bg-${e.bgColor}`:""));function s(A){if(A.isFinal===!0){r.value===!0&&(r.value=!1,o.value==="pulled"?(o.value="refreshing",k({pos:yt}),M()):o.value==="pull"&&k({pos:-He,ratio:0}));return}if(h.value===!0||o.value==="refreshing")return!1;if(A.isFirst===!0){if(ca(I)!==0||A.direction!=="down")return r.value===!0&&(r.value=!1,o.value="pull",k({pos:-He,ratio:0})),!1;r.value=!0;const{top:H,left:ie}=q.getBoundingClientRect();c.value={top:H+"px",left:ie+"px",width:window.getComputedStyle(q).getPropertyValue("width")}}at(A.evt);const N=Math.min(140,Math.max(0,A.distance.y));m.value=N-He,n.value=Ye(N/(yt+He),0,1);const U=m.value>yt?"pulled":"pull";o.value!==U&&(o.value=U)}const p=u(()=>{const A={down:!0};return e.noMouse!==!0&&(A.mouse=!0),[[Vt,s,void 0,A]]}),B=u(()=>`q-pull-to-refresh__content${r.value===!0?" no-pointer-events":""}`);function M(){i("refresh",()=>{k({pos:-He,ratio:0},()=>{o.value="pull"})})}let q,I,f=null;function k({pos:A,ratio:N},U){h.value=!0,m.value=A,N!==void 0&&(n.value=N),f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,h.value=!1,U&&U()},300)}function V(){I=vl(q,e.scrollTarget)}return he(()=>e.scrollTarget,V),qt(()=>{q=a.$el,V()}),Oe(()=>{f!==null&&clearTimeout(f)}),Object.assign(a,{trigger:M,updateScrollTarget:V}),()=>{const A=[S("div",{class:B.value},pe(l.default)),S("div",{class:"q-pull-to-refresh__puller-container fixed row flex-center no-pointer-events z-top",style:c.value},[S("div",{class:x.value,style:d.value},[o.value!=="refreshing"?S(Re,{name:e.icon||w.iconSet.pullToRefresh.icon,color:e.color,size:"32px"}):S(sa,{size:"24px",color:e.color})])])];return wt("div",{class:"q-pull-to-refresh"},A,"main",e.disable===!1,()=>p.value)}}});const _t={...ll,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},xt=50,Cl=2*xt,kl=Cl*Math.PI,Qa=Math.round(kl*1e3)/1e3;var Ga=fe({name:"QCircularProgress",props:{..._t,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:l}){const{proxy:{$q:i}}=Se(),a=al(e),w=u(()=>{const x=(i.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(i.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-x}deg)`:`rotate3d(0, 0, 1, ${x-90}deg)`}}),o=u(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),n=u(()=>Cl/(1-e.thickness/2)),r=u(()=>`${n.value/2} ${n.value/2} ${n.value} ${n.value}`),m=u(()=>Ye(e.value,e.min,e.max)),h=u(()=>kl*(1-(m.value-e.min)/(e.max-e.min))),c=u(()=>e.thickness/2*n.value);function d({thickness:x,offset:s,color:p,cls:B,rounded:M}){return S("circle",{class:"q-circular-progress__"+B+(p!==void 0?` text-${p}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":x,"stroke-dasharray":Qa,"stroke-dashoffset":s,"stroke-linecap":M,cx:n.value,cy:n.value,r:xt})}return()=>{const x=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&x.push(S("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:xt-c.value/2,cx:n.value,cy:n.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&x.push(d({cls:"track",thickness:c.value,offset:0,color:e.trackColor})),x.push(d({cls:"circle",thickness:c.value,offset:h.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const s=[S("svg",{class:"q-circular-progress__svg",style:w.value,viewBox:r.value,"aria-hidden":"true"},x)];return e.showValue===!0&&s.push(S("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},l.default!==void 0?l.default():[S("div",m.value)])),S("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:a.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:m.value},nl(l.internal,s))}}});const el=[34,37,40,33,39,38],ja=Object.keys(_t);var Ka=fe({name:"QKnob",props:{...bl,..._t,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(e,{slots:l,emit:i}){const{proxy:a}=Se(),{$q:w}=a,o=_(e.modelValue),n=_(!1),r=u(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),m=u(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax);let h;function c(){o.value=e.modelValue===null?r.value:Ye(e.modelValue,r.value,m.value),Q(!0)}he(()=>`${e.modelValue}|${r.value}|${m.value}`,c),c();const d=u(()=>e.disable===!1&&e.readonly===!1),x=u(()=>"q-knob non-selectable"+(d.value===!0?" q-knob--editable":e.disable===!0?" disabled":"")),s=u(()=>(String(e.step).trim().split(".")[1]||"").length),p=u(()=>e.step===0?1:e.step),B=u(()=>e.instantFeedback===!0||n.value===!0),M=w.platform.is.mobile===!0?u(()=>d.value===!0?{onClick:N}:{}):u(()=>d.value===!0?{onMousedown:A,onClick:N,onKeydown:U,onKeyup:ie}:{}),q=u(()=>d.value===!0?{tabindex:e.tabindex}:{[`aria-${e.disable===!0?"disabled":"readonly"}`]:"true"}),I=u(()=>{const L={};return ja.forEach(J=>{L[J]=e[J]}),L});function f(L){L.isFinal?(H(L.evt,!0),n.value=!1):(L.isFirst&&(V(),n.value=!0),H(L.evt))}const k=u(()=>[[Vt,f,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function V(){const{top:L,left:J,width:ee,height:O}=a.$el.getBoundingClientRect();h={top:L+O/2,left:J+ee/2}}function A(L){V(),H(L)}function N(L){V(),H(L,!0)}function U(L){if(!el.includes(L.keyCode))return;ge(L);const J=([34,33].includes(L.keyCode)?10:1)*p.value,ee=[34,37,40].includes(L.keyCode)?-J:J;o.value=Ye(parseFloat((o.value+ee).toFixed(s.value)),r.value,m.value),Q()}function H(L,J){const ee=fl(L),O=Math.abs(ee.top-h.top),te=Math.sqrt(O**2+Math.abs(ee.left-h.left)**2);let G=Math.asin(O/te)*(180/Math.PI);ee.top<h.top?G=h.left<ee.left?90-G:270+G:G=h.left<ee.left?G+90:270-G,w.lang.rtl===!0?G=rt(-G-e.angle,0,360):e.angle&&(G=rt(G-e.angle,0,360)),e.reverse===!0&&(G=360-G);let v=e.min+G/360*(e.max-e.min);if(p.value!==0){const b=v%p.value;v=v-b+(Math.abs(b)>=p.value/2?(b<0?-1:1)*p.value:0),v=parseFloat(v.toFixed(s.value))}v=Ye(v,r.value,m.value),i("dragValue",v),o.value!==v&&(o.value=v),Q(J)}function ie(L){el.includes(L.keyCode)&&Q(!0)}function Q(L){e.modelValue!==o.value&&i("update:modelValue",o.value),L===!0&&i("change",o.value)}const ce=da(e);function re(){return S("input",ce.value)}return()=>{const L={class:x.value,role:"slider","aria-valuemin":r.value,"aria-valuemax":m.value,"aria-valuenow":e.modelValue,...q.value,...I.value,value:o.value,instantFeedback:B.value,...M.value},J={default:l.default};return d.value===!0&&e.name!==void 0&&(J.internal=re),wt(Ga,L,J,"knob",d.value,()=>k.value)}}}),Ua=fe({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:l,emit:i}){const a=Se(),w=_(null);let o=0;const n=[];function r(s){const p=typeof s=="boolean"?s:e.noErrorFocus!==!0,B=++o,M=(f,k)=>{i("validation"+(f===!0?"Success":"Error"),k)},q=f=>{const k=f.validate();return typeof k.then=="function"?k.then(V=>({valid:V,comp:f}),V=>({valid:!1,comp:f,err:V})):Promise.resolve({valid:k,comp:f})};return(e.greedy===!0?Promise.all(n.map(q)).then(f=>f.filter(k=>k.valid!==!0)):n.reduce((f,k)=>f.then(()=>q(k).then(V=>{if(V.valid===!1)return Promise.reject(V)})),Promise.resolve()).catch(f=>[f])).then(f=>{if(f===void 0||f.length===0)return B===o&&M(!0),!0;if(B===o){const{comp:k,err:V}=f[0];if(V!==void 0&&console.error(V),M(!1,k),p===!0){const A=f.find(({comp:N})=>typeof N.focus=="function"&&va(N.$)===!1);A!==void 0&&A.comp.focus()}}return!1})}function m(){o++,n.forEach(s=>{typeof s.resetValidation=="function"&&s.resetValidation()})}function h(s){s!==void 0&&ge(s);const p=o+1;r().then(B=>{p===o&&B===!0&&(e.onSubmit!==void 0?i("submit",s):s!==void 0&&s.target!==void 0&&typeof s.target.submit=="function"&&s.target.submit())})}function c(s){s!==void 0&&ge(s),i("reset"),qe(()=>{m(),e.autofocus===!0&&e.noResetFocus!==!0&&d()})}function d(){ml(()=>{if(w.value===null)return;const s=w.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||w.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||w.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(w.value.querySelectorAll("[tabindex]"),p=>p.tabIndex>-1);s!=null&&s.focus({preventScroll:!0})})}fa(ma,{bindComponent(s){n.push(s)},unbindComponent(s){const p=n.indexOf(s);p>-1&&n.splice(p,1)}});let x=!1;return gl(()=>{x=!0}),hl(()=>{x===!0&&e.autofocus===!0&&d()}),qt(()=>{e.autofocus===!0&&d()}),Object.assign(a.proxy,{validate:r,resetValidation:m,submit:h,reset:c,focus:d,getValidationComponents:()=>n}),()=>S("form",{class:"q-form",ref:w,onSubmit:h,onReset:c},pe(l.default))}});function $a(){const e=new Map;return{getCache:function(l,i){return e[l]===void 0?e[l]=i:e[l]},getCacheWithFn:function(l,i){return e[l]===void 0?e[l]=i():e[l]}}}const tl=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var Wa=fe({name:"QSlideItem",props:{...Qe,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:l,emit:i}){const{proxy:a}=Se(),{$q:w}=a,o=Ge(e,w),{getCacheWithFn:n}=$a(),r=_(null);let m=null,h={},c={},d={};const x=u(()=>w.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),s=u(()=>"q-slide-item q-item-type overflow-hidden"+(o.value===!0?" q-slide-item--dark q-dark":""));function p(){r.value.style.transform="translate(0,0)"}function B(q,I,f){e.onSlide!==void 0&&i("slide",{side:q,ratio:I,isReset:f})}function M(q){const I=r.value;if(q.isFirst)h={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},I.classList.add("no-transition"),tl.forEach(A=>{if(l[A[0]]!==void 0){const N=d[A[0]];N.style.transform="scale(1)",h.size[A[0]]=N.getBoundingClientRect()[A[3]]}}),h.axis=q.direction==="up"||q.direction==="down"?"Y":"X";else if(q.isFinal){I.classList.remove("no-transition"),h.scale===1?(I.style.transform=`translate${h.axis}(${h.dir*100}%)`,m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,i(h.showing,{reset:p}),i("action",{side:h.showing,reset:p})},230)):(I.style.transform="translate(0,0)",B(h.showing,0,!0));return}else q.direction=h.axis==="X"?q.offset.x<0?"left":"right":q.offset.y<0?"up":"down";if(l.left===void 0&&q.direction===x.value.right||l.right===void 0&&q.direction===x.value.left||l.top===void 0&&q.direction==="down"||l.bottom===void 0&&q.direction==="up"){I.style.transform="translate(0,0)";return}let f,k,V;h.axis==="X"?(k=q.direction==="left"?-1:1,f=k===1?x.value.left:x.value.right,V=q.distance.x):(k=q.direction==="up"?-2:2,f=k===2?"top":"bottom",V=q.distance.y),!(h.dir!==null&&Math.abs(k)!==Math.abs(h.dir))&&(h.dir!==k&&(["left","right","top","bottom"].forEach(A=>{c[A]&&(c[A].style.visibility=f===A?"visible":"hidden")}),h.showing=f,h.dir=k),h.scale=Math.max(0,Math.min(1,(V-40)/h.size[f])),I.style.transform=`translate${h.axis}(${V*k/Math.abs(k)}px)`,d[f].style.transform=`scale(${h.scale})`,B(f,h.scale,!1))}return Sl(()=>{c={},d={}}),Oe(()=>{m!==null&&clearTimeout(m)}),Object.assign(a,{reset:p}),()=>{const q=[],I={left:l[x.value.right]!==void 0,right:l[x.value.left]!==void 0,up:l.bottom!==void 0,down:l.top!==void 0},f=Object.keys(I).filter(V=>I[V]===!0);tl.forEach(V=>{const A=V[0];l[A]!==void 0&&q.push(S("div",{ref:N=>{c[A]=N},class:`q-slide-item__${A} absolute-full row no-wrap items-${V[1]} justify-${V[2]}`+(e[A+"Color"]!==void 0?` bg-${e[A+"Color"]}`:"")},[S("div",{ref:N=>{d[A]=N}},l[A]())]))});const k=S("div",{key:`${f.length===0?"only-":""} content`,ref:r,class:"q-slide-item__content"},pe(l.default));return f.length===0?q.push(k):q.push(yl(k,n("dir#"+f.join(""),()=>{const V={prevent:!0,stop:!0,mouse:!0};return f.forEach(A=>{V[A]=!0}),[[Vt,M,void 0,V]]}))),S("div",{class:s.value},q)}}});const Te=ga({}),Xa=Object.keys(kt);var Ya=fe({name:"QExpansionItem",props:{...kt,...sl,...Qe,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...cl,"click","afterShow","afterHide"],setup(e,{slots:l,emit:i}){const{proxy:{$q:a}}=Se(),w=Ge(e,a),o=_(e.modelValue!==null?e.modelValue:e.defaultOpened),n=_(null),r=Qt(),{show:m,hide:h,toggle:c}=dl({showing:o});let d,x;const s=u(()=>`q-expansion-item q-item-type q-expansion-item--${o.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),p=u(()=>{if(e.contentInsetLevel===void 0)return null;const O=a.lang.rtl===!0?"Right":"Left";return{["padding"+O]:e.contentInsetLevel*56+"px"}}),B=u(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),M=u(()=>{const O={};return Xa.forEach(te=>{O[te]=e[te]}),O}),q=u(()=>B.value===!0||e.expandIconToggle!==!0),I=u(()=>e.expandedIcon!==void 0&&o.value===!0?e.expandedIcon:e.expandIcon||a.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),f=u(()=>e.disable!==!0&&(B.value===!0||e.expandIconToggle===!0)),k=u(()=>({expanded:o.value===!0,detailsId:e.targetUid,toggle:c,show:m,hide:h})),V=u(()=>{const O=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:a.lang.label[o.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":o.value===!0?"true":"false","aria-controls":r,"aria-label":O}});he(()=>e.group,O=>{x!==void 0&&x(),O!==void 0&&Q()});function A(O){B.value!==!0&&c(O),i("click",O)}function N(O){O.keyCode===13&&U(O,!0)}function U(O,te){te!==!0&&n.value!==null&&n.value.focus(),c(O),ge(O)}function H(){i("afterShow")}function ie(){i("afterHide")}function Q(){d===void 0&&(d=Qt()),o.value===!0&&(Te[e.group]=d);const O=he(o,G=>{G===!0?Te[e.group]=d:Te[e.group]===d&&delete Te[e.group]}),te=he(()=>Te[e.group],(G,v)=>{v===d&&G!==void 0&&G!==d&&h()});x=()=>{O(),te(),Te[e.group]===d&&delete Te[e.group],x=void 0}}function ce(){const O={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},te=[S(Re,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&o.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:I.value})];return f.value===!0&&(Object.assign(O,{tabindex:0,...V.value,onClick:U,onKeyup:N}),te.unshift(S("div",{ref:n,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),S(Be,O,()=>te)}function re(){let O;return l.header!==void 0?O=[].concat(l.header(k.value)):(O=[S(Be,()=>[S(it,{lines:e.labelLines},()=>e.label||""),e.caption?S(it,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&O[e.switchToggleSide===!0?"push":"unshift"](S(Be,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>S(Re,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&O[e.switchToggleSide===!0?"unshift":"push"](ce()),O}function L(){const O={ref:"item",style:e.headerStyle,class:e.headerClass,dark:w.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return q.value===!0&&(O.clickable=!0,O.onClick=A,Object.assign(O,B.value===!0?M.value:V.value)),S(ot,O,re)}function J(){return yl(S("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:p.value,id:r},pe(l.default)),[[ha,o.value]])}function ee(){const O=[L(),S(Ma,{duration:e.duration,onShow:H,onHide:ie},J)];return e.expandSeparator===!0&&O.push(S(nt,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:w.value}),S(nt,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:w.value})),O}return e.group!==void 0&&Q(),Oe(()=>{x!==void 0&&x()}),()=>S("div",{class:s.value},[S("div",{class:"q-expansion-item__container relative-position"},ee())])}}),Ja=fe({name:"QList",props:{...Qe,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:l}){const i=Se(),a=Ge(e,i.proxy.$q),w=u(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>S(e.tag,{class:w.value},pe(l.default))}});const Za={name:"addGoalForm",setup(){const e=_(40),l=_(!1),i=_(""),a=_(""),w=_(""),o=_([]),n=_(""),r=_(3),m=_(15),h=_(""),c=_(null),d=_(!1),x=_(!1),s=_(!1),p=_("line"),B=_(null),M=_(null),q=_(null),I=_(null),f=_({}),k=_("Submit"),V=_([]),A=_([]),N=_(null),U=Ra(),H=Aa();let ie,Q=null;const ce=u(()=>H.headerRefs);u(()=>H.getHeaders);const re=u(()=>q.value),L=u(()=>p.value!=="main");Sa(()=>{M.value=q.value}),qt(()=>{q.value=H.getMainGoals,I.value=H.getSubGoals;let R=[];q.value&&q.value.forEach($=>{f[$.id]=!1,R.push($.bgcolor)});let j=pa();o.value=j.filter($=>!R.find(Y=>Y==$)),V.value=H.fetchGoalsTree()}),Oe(()=>{clearTimeout(ie)});function J(){p.value==="main"?console.log(JSON.stringify(q.value,null,1)):console.log(JSON.stringify(I.value,null,1))}function ee(){p.value==="main"?U.dialog({title:"Warning",cancel:!0,message:"Reset all Parent Goals?"}).onOk(()=>{H.resetMain()}).onCancel(()=>{console.log("Cancelled!!")}):p.value==="sub"?H.resetSub():U.dialog({title:"Warning",cancel:!0,message:"Reset all goals?"}).onOk(()=>{console.log("Resetting all goals"),H.resetAll()}).onCancel(()=>{console.log("Cancelled!!")})}function O(){let R=k.value==="Save"?"Save":"Add";if(R==="Save")le();else{if(i.value.trim()==""){U.notify({color:"negative",position:"top",message:"Cannot have an empty goal!",icon:"report_problem"});return}if(p.value==="main")H.addMainGoal(i.value,a.value,w.value,r.value);else if(B.value){let j=B.value;H.addSubGoal(j.id,i.value,h.value,n.value,m.value,d.value,x.value,s.value,c.value),console.log("Subgoal Goal added for parent:",j.title)}else{U.notify({color:"negative",position:"top",message:"A sub goal must have a parent goal",icon:"report_problem"}),ae();return}}U.notify({color:"positive",position:"top",message:`Success ${R} for "${i.value}"`,icon:"thumb_up"}),g()}function te(R){return this.getSubGoals(R).length>0}function G(R){const j=[];return I.value&&I.value.forEach($=>{$.parentGoal==R&&j.push($)}),j}function v(R){ie=setTimeout(()=>{R()},0)}function b({reset:R},j,$){R(),H.removeSubgoal(j),f.value[$]=!1,U.notify("Delete action triggered for:"+j)}function T({reset:R},j,$){let Y=I.value.find(ke=>ke.id==j),Ce=q.value.find(ke=>ke.id==$);Y&&Ce?(k.value="Save",p.value="sub",i.value=Y.title,B.value=Ce,n.value=Y.time,h.value=Y.score,m.value=parseInt(Y.duration),d.value=Y.canMove,x.value=Y.inDefaults,s.value=Y.isAlternative,c.value=Y.jeSuis,Q=j):(U.notify({color:"negative",position:"top",message:`ERROR during edit action for ${j} and ${$}...not found!`,icon:"report_problem"}),console.log(`ERROR could not find all info for ${j} and ${$}`)),v(R),f.value[$]=!0}function F(R,j,$){if(console.log(`onParentAction:${R} for> ${j}`,$),R=="del")U.dialog({title:"Warning",cancel:!0,message:`Delete Parent Goal "${$}" ?`}).onOk(()=>{H.removeMaingoal(j,!1)}).onCancel(()=>{console.log("Cancelled!!"),f.value[j]=!1});else if(R=="edit"){let Y=q.value.find(Ce=>Ce.id==j);Y?(k.value="Save",p.value="main",B.value=Y,i.value=Y.title,a.value=Y.details,w.value=Y.bgcolor,r.value=Y.priority,Q=j):(U.notify({color:"negative",position:"top",message:`ERROR during edit action for Goal: '${$}'...not found!`,icon:"report_problem"}),console.log(`ERROR No info for ${j} '${$}' to edit!!`))}else console.log("ERROR...unknow action!"),f.value[j]=!1}function X(){Q?H.editSubGoal(Q,i.value,h.value,n.value,m.value,d.value,x.value,s.value,c.value):U.notify({color:"negative",position:"top",message:"ERROR: No subgoalId to edit found!",icon:"report_problem"})}function le(){let R=B.value;p.value==="main"?Q&&(R==null?void 0:R.id)==Q?(H.editMainGoal(Q,i.value,a.value,w.value,r.value),f.value[R==null?void 0:R.id]=!1):console.log("Error when Edit Parent Goal...inconsistent or not found!",Q,R):(X(),f.value[R==null?void 0:R.id]=!1),k.value="Submit"}function D(R){setTimeout(()=>{E(),console.log("Refreshing..."),R()},1e3)}function E(){q.value=H.getMainGoals,I.value=H.getSubGoals,V.value=H.fetchGoalsTree(),console.log("reloadin...",I.value,q.value,V.value)}function ae(){i.value=i.value||" ",r.value=r.value||3,n.value=n.value||"",m.value=m.value||15,a.value=a.value||"",w.value=w.value||"",d.value=d.value||!1,x.value=x.value||!1,console.log("softResetting...with label as>>",k.value)}function g(){i.value=" ",r.value=3,n.value="",m.value=5,B.value=null,a.value="",w.value="",d.value=!1,x.value=!1,s.value=!1,c.value=null,Q=null,console.log("hardReset...")}function oe(R){return`row items-center ${R.isChildren?"text-":"text-white bg-"}${R.color} `}function xe(R){return"text-white bg-"+R.toLocaleLowerCase()}function we(R){return`${R}${($=>{if(!$)return"";let Y=$.split(":");return parseInt(Y[0])>=12?"PM":"AM"})(R)}`}return{splitterModel:e,Adminy:l,showSubG:L,mainGoals:q,subGoals:I,allMGoals:re,howThis:M,daRefs:ce,expanded:f,buttonLabel:k,expandedNodes:A,treeGoals:V,selected:N,moods:c,goalTitle:i,details:a,bgcolor:w,time:n,priority:r,duration:m,score:h,canMove:d,goalType:p,pGoal:B,inDefaults:x,avColors:o,isAlternative:s,hasSubG:te,doPrint:J,onSubmit:O,doReset:ee,getSubGoals:G,onRightDelete:b,onLeftEdit:T,softReset:ae,onParentAction:F,refresh:D,classyColor:oe,classyHeader:xe,niceyLabe:we}}},en={class:"page page--table q-pa-md"},tn={style:{"max-width":"400px"}},ln={class:"q-gutter-sm"},an={key:0,class:"q-gutter-md"},nn={key:2,class:"q-gutter-md"},on=be("br",null,null,-1),un={key:3,class:"q-gutter-sm"},rn=be("br",null,null,-1),sn=be("br",null,null,-1),cn=be("br",null,null,-1),dn=be("br",null,null,-1),fn=be("br",null,null,-1),vn=be("br",null,null,-1),mn=be("br",null,null,-1),gn=be("br",null,null,-1),hn={key:0},bn={key:1,align:"center"};function Sn(e,l,i,a,w,o){return me(),Ve("main",en,[z(Na,{onRefresh:a.refresh},{default:K(()=>[z(Ta,{modelValue:a.splitterModel,"onUpdate:modelValue":l[15]||(l[15]=n=>a.splitterModel=n)},{before:K(()=>[be("div",tn,[z(Ua,{onSubmit:a.onSubmit,class:"q-gutter-md form"},{default:K(()=>[be("div",ln,[z(Gt,{modelValue:a.goalType,"onUpdate:modelValue":l[0]||(l[0]=n=>a.goalType=n),onClick:a.softReset,"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"main",label:"Main goal"},null,8,["modelValue","onClick"]),z(Gt,{modelValue:a.goalType,"onUpdate:modelValue":l[1]||(l[1]=n=>a.goalType=n),onClick:a.softReset,"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"sub",label:"Sub goal"},null,8,["modelValue","onClick"])]),z(Ue,{class:"q-ml-md",filled:"",modelValue:a.goalTitle,"onUpdate:modelValue":l[2]||(l[2]=n=>a.goalTitle=n),label:"A Goal","lazy-rules":"","item-aligned":"",rules:[n=>n&&n.length>0||"Please type a goal"]},null,8,["modelValue","rules"]),a.showSubG?(me(),Ve("div",an,[z(St,{class:"q-pl-md",modelValue:a.pGoal,"onUpdate:modelValue":l[3]||(l[3]=n=>a.pGoal=n),options:a.mainGoals,"option-value":"id","option-label":"title",label:"Parent Goal",popupContentClass:"q-gutter-md"},null,8,["modelValue","options"])])):(me(),$e(Ue,{key:1,filled:"",modelValue:a.details,"onUpdate:modelValue":l[4]||(l[4]=n=>a.details=n),label:"Description/Details"},null,8,["modelValue"])),a.showSubG?tt("",!0):(me(),Ve("div",nn,[z(St,{class:"q-pl-md",modelValue:a.bgcolor,"onUpdate:modelValue":l[5]||(l[5]=n=>a.bgcolor=n),options:a.avColors,color:a.bgcolor,label:"Color",popupContentClass:"q-gutter-md"},null,8,["modelValue","options","color"]),on,z(Ue,{filled:"",modelValue:a.priority,"onUpdate:modelValue":l[6]||(l[6]=n=>a.priority=n),modelModifiers:{number:!0},type:"number",label:"Priority",hint:"0 to 10"},null,8,["modelValue"])])),a.showSubG?(me(),Ve("div",un,[z(Ue,{modelValue:a.time,"onUpdate:modelValue":l[7]||(l[7]=n=>a.time=n),filled:"",type:"time",hint:"Default time"},null,8,["modelValue"]),rn,z(Ue,{modelValue:a.score,"onUpdate:modelValue":l[8]||(l[8]=n=>a.score=n),filled:"",label:"Score",hint:"format: #on#","lazy-rules":"",rules:[n=>n&&n.includes("on")&&n.length>3||"hint, hint!"]},null,8,["modelValue","rules"]),sn,z(St,{label:"Moods: 'je-suis'",filled:"",modelValue:a.moods,"onUpdate:modelValue":l[9]||(l[9]=n=>a.moods=n),"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",style:{width:"100%"}},{"selected-item":K(n=>[z(xl,{removable:"",dense:"",onRemove:r=>n.removeAtIndex(n.index),tabindex:n.tabindex,"text-color":"black",class:"q-ma-none",style:{width:"100px"}},{default:K(()=>[ue(_e(n.opt),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue"]),cn,ue(" Duration (min) "),z(Ka,{min:5,max:120,thickness:.22,step:5,modelValue:a.duration,"onUpdate:modelValue":l[10]||(l[10]=n=>a.duration=n),"show-value":"",size:"75px",color:"teal","track-color":"grey-3",class:"q-ma-md"},null,8,["thickness","modelValue"]),dn,z(gt,{modelValue:a.canMove,"onUpdate:modelValue":l[11]||(l[11]=n=>a.canMove=n),label:"Can Move","left-label":"",color:"green"},{default:K(()=>[z(ht,{color:"orange",floating:"",style:{top:"5px",position:"relative",width:"10px","max-width":"10px",height:"10px","max-height":"10px","padding-inline":"3px 6px",cursor:"pointer"}},{default:K(()=>[ue(" ? "),z(lt,null,{default:K(()=>[ue("Have to confirm any timeslot change")]),_:1})]),_:1})]),_:1},8,["modelValue"]),fn,z(gt,{modelValue:a.inDefaults,"onUpdate:modelValue":l[12]||(l[12]=n=>a.inDefaults=n),label:"In Defaults","left-label":"",color:"blue"},{default:K(()=>[z(ht,{color:"orange",floating:"",style:{top:"5px",position:"relative",width:"10px","max-width":"10px",height:"10px","max-height":"10px","padding-inline":"3px 6px",cursor:"pointer"}},{default:K(()=>[ue(" ? "),z(lt,null,{default:K(()=>[ue("Is scheduled by default")]),_:1})]),_:1})]),_:1},8,["modelValue"]),vn,a.duration<30?(me(),$e(gt,{key:0,modelValue:a.isAlternative,"onUpdate:modelValue":l[13]||(l[13]=n=>a.isAlternative=n),label:"As Alternative","left-label":"",color:"blue"},{default:K(()=>[z(ht,{color:"orange",floating:"",style:{top:"5px",position:"relative",width:"10px","max-width":"10px",height:"10px","max-height":"10px","padding-inline":"3px 6px",cursor:"pointer"}},{default:K(()=>[ue(" ? "),z(lt,null,{default:K(()=>[ue("Can be scheduled as an alternative")]),_:1})]),_:1})]),_:1},8,["modelValue"])):tt("",!0)])):tt("",!0),be("div",null,[z(We,{label:a.buttonLabel,type:"submit",color:"primary",class:"q-ml-sm",align:"between"},null,8,["label"])])]),_:1},8,["onSubmit"])])]),after:K(()=>[z(Ja,{bordered:""},{default:K(()=>[z(ot,null,{default:K(()=>[z(Be,null,{default:K(()=>[z(it,{overline:"",class:"q-mx-lg q-px-md",style:{"max-width":"100%"}},{default:K(()=>[ue("Swipe to Edit or Delete Goal")]),_:1})]),_:1})]),_:1}),z(nt,{spaced:""}),z(ya,{name:"dalist"},{default:K(()=>[(me(!0),Ve(jt,null,Kt(a.allMGoals,n=>(me(),$e(Ya,{class:"q-my-sm",modelValue:a.expanded[n.id],"onUpdate:modelValue":r=>a.expanded[n.id]=r,key:n.id,label:n.title,caption:n.details,popup:"",expandSeparator:"","header-class":a.classyHeader(n.bgcolor),clickable:""},{default:K(()=>[(me(!0),Ve(jt,null,Kt(a.getSubGoals(n.id),r=>(me(),$e(Ut,{key:r.id},{default:K(()=>[z(Wa,{onRight:m=>a.onRightDelete(m,r.id,n.id),onLeft:m=>a.onLeftEdit(m,r.id,n.id)},{left:K(()=>[ue(" Edit ")]),right:K(()=>[ue(" Delete ")]),default:K(()=>[z(ot,null,{default:K(()=>[z(Be,{class:"q-mx-sm"},{default:K(()=>[ue(_e(r.title)+" > "+_e(a.niceyLabe(r.time))+" ("+_e(r.duration)+") ",1)]),_:2},1024),z(Be,{class:"q-mx-*"},{default:K(()=>[ue(_e(r.score)+" :: "+_e(r.canMove?"canMove":"NoMoves")+" :: "+_e(r.inDefaults?"InDefaults":"NotADefault")+" :: "+_e(r.isAlternative?"Alt":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onRight","onLeft"]),z(nt,{color:n.bgcolor.toLocaleLowerCase()},null,8,["color"])]),_:2},1024))),128)),a.hasSubG(n.id)?tt("",!0):(me(),$e(Ut,{key:0},{default:K(()=>[z(We,{label:"Delete goal",type:"reset",color:"secondary",noWrap:"",push:"",align:"evenly",class:"q-mx-sm",onClick:$t(r=>a.onParentAction("del",n.id,n.title),["prevent"])},null,8,["onClick"]),ue(" OR "),z(We,{label:"Edit goal",type:"reset",color:"primary",noWrap:"",push:"",align:"evenly",class:"q-mx-sm",onClick:$t(r=>a.onParentAction("edit",n.id,n.title),["prevent"])},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue","label","caption","header-class"]))),128))]),_:1})]),_:1}),gn,z(xa,{dense:"",modelValue:a.Adminy,"onUpdate:modelValue":l[14]||(l[14]=n=>a.Adminy=n),label:"Admin Stuff",color:"teal",class:"q-pa-sm"},null,8,["modelValue"]),a.Adminy?(me(),Ve("div",hn,[z(We,{class:"q-mt-xl",color:"white","text-color":"blue",elevated:"",label:"Print","no-caps":"",onClick:a.doPrint},null,8,["onClick"]),z(We,{class:"q-mt-xl",color:"white","text-color":"red",elevated:"",label:"Reset GoalType","no-caps":"",onClick:a.doReset},null,8,["onClick"])])):(me(),Ve("div",bn,[ue(" *Note* Goals named the same can be auto-scheduled!"),z(lt,null,{default:K(()=>[ue("Title names are substring/included of/in each other")]),_:1})]))]),default:K(()=>[mn]),_:1},8,["modelValue"])]),_:1},8,["onRefresh"])])}var yn=ba(Za,[["render",Sn]]),qn=Object.freeze(Object.defineProperty({__proto__:null,default:yn},Symbol.toStringTag,{value:"Module"}));export{Ia as Q,Ja as a,ot as b,Be as c,it as d,St as e,Ka as f,yn as g,xl as h,Na as i,qn as j};
