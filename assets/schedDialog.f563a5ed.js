import{_ as k,$ as _,a4 as g,r as i,L as D,E as d,F as c,G as l,a3 as h,M as r,H as a,bt as y,bu as P,N as m,bq as A,a6 as C,a7 as p}from"./index.762ba570.js";import{Q as E}from"./QSpace.d5ec7764.js";const H={name:"schedDialog",components:{adHocEvent:_(()=>g(()=>import("./adHocEvent.64739179.js"),["assets/adHocEvent.64739179.js","assets/adHocEvent.129d4a82.css","assets/index.762ba570.js","assets/index.4f70e4de.css","assets/QSelect.237ecba7.js","assets/touch.70a9dd44.js","assets/goalStorage.694b4132.js","assets/QItem.a04202ae.js","assets/QKnob.9b3bee90.js"])),selectEvent:_(()=>g(()=>import("./selectEvent.04b9c519.js"),["assets/selectEvent.04b9c519.js","assets/selectEvent.8442a439.css","assets/index.762ba570.js","assets/index.4f70e4de.css","assets/QSelect.237ecba7.js","assets/touch.70a9dd44.js","assets/goalStorage.694b4132.js","assets/QItem.a04202ae.js","assets/QKnob.9b3bee90.js","assets/QSpace.d5ec7764.js"]))},props:{parentGoals:Array,canBeScheduled:Array,balance:Number},data(){return{showPickDialog:i(!1),showAdHocDialog:i(!1),show:i(!0),unscheduledP:i({})}},emits:["adHocEvent","onPickEvent","euhHidin"],computed:{showDefaultOption:{get(){return this.show},set(t){this.show=t}},showPickyDialog:{get(){return this.showPickDialog},set(t){this.showPickDialog=t}},showAddyDialog:{get(){return this.showAdHocDialog},set(t){this.showAdHocDialog=t}},unscheduledPGoals:{get(){let t=[];for(let e in this.unscheduledP)t.push(this.unscheduledP[e]);return t}},allUnscheduled:{get(){return this.canBeScheduled.forEach(t=>{let e=this.parentGoals.find(s=>s.id==t.parentGoal);e?t.color=e.bgcolor:t.color="",t.pg=e==null?void 0:e.title.trim(),t.ic=e==null?void 0:e.icon,this.unscheduledP[e==null?void 0:e.id]||(this.unscheduledP[e==null?void 0:e.id]={id:e==null?void 0:e.id,title:e==null?void 0:e.title.trim()})}),this.canBeScheduled}}},methods:{onAddClicked(t,e,s,n){this.$emit("onPickEvent",t,e,s,n),this.reset()},adHocNewEvent(t,e,s,n,u){this.$emit("adHocEvent",t,e,s,n,u),this.reset()},onChooseExisting(){this.showPickyDialog=!this.showPickyDialog},onChooseAdHoc(){this.showAddyDialog=!this.showAddyDialog},gonHide(){this.$emit("euhHidin")},onCancelBtn(){let t=this.showPickyDialog;this.showAddyDialog,t?this.showPickyDialog=!this.showPickyDialog:this.showAddyDialog=!this.showAddyDialog},reset(){this.showAddyDialog=!1,this.showPickyDialog=!1}}},B=t=>(C("data-v-89defbe2"),t=t(),p(),t),S={class:"q-ma-md event-select"},x={class:"q-ma-md event-select"},G=B(()=>r("div",{class:"text-h6"},"Ad hoc or Existing event",-1));function b(t,e,s,n,u,o){const v=D("select-event"),w=D("ad-hoc-event");return d(),c(A,{modelValue:o.showDefaultOption,"onUpdate:modelValue":e[0]||(e[0]=f=>o.showDefaultOption=f),"transition-show":"rotate","transition-hide":"rotate","no-esc-dismiss":"",onBeforeHide:o.gonHide},{default:l(()=>[o.showPickyDialog?(d(),c(h,{key:0},{default:l(()=>[r("div",S,[a(v,{unscheduled:o.allUnscheduled,unscheduledParents:o.unscheduledPGoals,toBalance:s.balance,onOnPickEvent:o.onAddClicked,onDoCancel:o.onCancelBtn},null,8,["unscheduled","unscheduledParents","toBalance","onOnPickEvent","onDoCancel"])])]),_:1})):o.showAddyDialog?(d(),c(h,{key:1},{default:l(()=>[r("div",x,[a(w,{mainGoals:s.parentGoals,toBalance:s.balance,onSaveEvent:o.adHocNewEvent,onDoCancel:o.onCancelBtn},null,8,["mainGoals","toBalance","onSaveEvent","onDoCancel"]),a(E)])]),_:1})):(d(),c(h,{key:2},{default:l(()=>[a(y,null,{default:l(()=>[G]),_:1}),a(P,{align:"center"},{default:l(()=>[a(m,{flat:"",label:"Add hoc",color:"primary",onClick:o.onChooseAdHoc},null,8,["onClick"]),a(m,{flat:"",label:"Existing",color:"primary",onClick:o.onChooseExisting},null,8,["onClick"])]),_:1})]),_:1}))]),_:1},8,["modelValue","onBeforeHide"])}var V=k(H,[["render",b],["__scopeId","data-v-89defbe2"]]);export{V as default};
