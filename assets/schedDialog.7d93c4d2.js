import{_ as k,$ as u,a4 as g,r as c,L as D,E as l,F as i,G as n,a3 as d,M as h,H as s,bg as y,bh as A,N as v,bd as C,a6 as p,a7 as E}from"./index.a1cffa07.js";import{Q as B}from"./QSpace.de21ddc0.js";const P={name:"schedDialog",components:{adHocEvent:u(()=>g(()=>import("./adHocEvent.d9bc05c5.js"),["assets/adHocEvent.d9bc05c5.js","assets/adHocEvent.35a144d3.css","assets/QSpace.de21ddc0.js","assets/index.a1cffa07.js","assets/index.ddf7c1e7.css","assets/QSelect.e0680041.js","assets/touch.70a9dd44.js","assets/goalStorage.7568199c.js","assets/QItem.27ffb624.js","assets/utiFunc.5349c58b.js","assets/QKnob.c415e390.js"])),selectEvent:u(()=>g(()=>import("./selectEvent.27915063.js"),["assets/selectEvent.27915063.js","assets/selectEvent.0ed0e655.css","assets/index.a1cffa07.js","assets/index.ddf7c1e7.css","assets/QItem.27ffb624.js","assets/QSelect.e0680041.js","assets/touch.70a9dd44.js","assets/goalStorage.7568199c.js","assets/utiFunc.5349c58b.js","assets/QSpace.de21ddc0.js"]))},props:{parentGoals:Array,canBeScheduled:Array,balance:Number},data(){return{showPickDialog:c(!1),showAdHocDialog:c(!1),show:c(!0)}},emits:["adHocEvent","onPickEvent","euhHidin"],computed:{showDefaultOption:{get(){return this.show},set(e){this.show=e}},showPickyDialog:{get(){return this.showPickDialog},set(e){this.showPickDialog=e}},showAddyDialog:{get(){return this.showAdHocDialog},set(e){this.showAdHocDialog=e}},allUnscheduled:{get(){return this.canBeScheduled.forEach(e=>{let o=this.parentGoals.find(t=>t.id==e.parentGoal);o?e.color=o.bgcolor:e.color="",e.pg=o==null?void 0:o.title.trim()}),this.canBeScheduled}}},methods:{onAddClicked(e,o,t){this.$emit("onPickEvent",e,o,t),this.reset()},adHocNewEvent(e,o,t,r,_){this.$emit("adHocEvent",e,o,t,r,_),this.reset()},onChooseExisting(){this.showPickyDialog=!this.showPickyDialog},onChooseAdHoc(){this.showAddyDialog=!this.showAddyDialog},gonHide(){this.$emit("euhHidin")},onCancelBtn(){let e=this.showPickyDialog;this.showAddyDialog,e?this.showPickyDialog=!this.showPickyDialog:this.showAddyDialog=!this.showAddyDialog},reset(){this.showAddyDialog=!1,this.showPickyDialog=!1}}},H=e=>(p("data-v-0dfe0bc6"),e=e(),E(),e),S={class:"q-ma-md event-select"},x={class:"q-ma-md event-select"},b=H(()=>h("div",{class:"text-h6"},"Ad hoc or Existing event",-1));function G(e,o,t,r,_,a){const w=D("select-event"),m=D("ad-hoc-event");return l(),i(C,{modelValue:a.showDefaultOption,"onUpdate:modelValue":o[0]||(o[0]=f=>a.showDefaultOption=f),"transition-show":"rotate","transition-hide":"rotate","no-esc-dismiss":"",onBeforeHide:a.gonHide},{default:n(()=>[a.showPickyDialog?(l(),i(d,{key:0},{default:n(()=>[h("div",S,[s(w,{canBeScheduled:a.allUnscheduled,toBalance:t.balance,onOnPickEvent:a.onAddClicked,onDoCancel:a.onCancelBtn},null,8,["canBeScheduled","toBalance","onOnPickEvent","onDoCancel"])])]),_:1})):a.showAddyDialog?(l(),i(d,{key:1},{default:n(()=>[h("div",x,[s(m,{mainGoals:t.parentGoals,toBalance:t.balance,onSaveEvent:a.adHocNewEvent,onDoCancel:a.onCancelBtn},null,8,["mainGoals","toBalance","onSaveEvent","onDoCancel"]),s(B)])]),_:1})):(l(),i(d,{key:2},{default:n(()=>[s(y,null,{default:n(()=>[b]),_:1}),s(A,{align:"center"},{default:n(()=>[s(v,{flat:"",label:"Add hoc",color:"primary",onClick:a.onChooseAdHoc},null,8,["onClick"]),s(v,{flat:"",label:"Existing",color:"primary",onClick:a.onChooseExisting},null,8,["onClick"])]),_:1})]),_:1}))]),_:1},8,["modelValue","onBeforeHide"])}var V=k(P,[["render",G],["__scopeId","data-v-0dfe0bc6"]]);export{V as default};
